{"version":3,"file":"js/334-legacy.4dcda0d7.js","mappings":"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","sources":["webpack://papillon/./src/views/news/InfoView.vue","webpack://papillon/./src/views/news/InfoView.vue?4681"],"sourcesContent":["<script>\n\timport {\n\t\tdefineComponent\n\t} from 'vue';\n\timport {\n\t\tIonHeader,\n\t\tIonToolbar,\n\t\tIonList,\n\t\tIonItem,\n\t\tIonLabel,\n\t\tIonButtons,\n\t\tIonTitle,\n\t\tIonContent,\n\t\tIonSkeletonText,\n\t\tIonBackButton\n\t} from '@ionic/vue';\n\n\timport { Browser } from '@capacitor/browser';\n\n\texport default defineComponent({\n\t\tname: 'FolderPage',\n\t\tcomponents: {\n\t\t\tIonHeader,\n\t\t\tIonToolbar,\n\t\t\tIonButtons,\n\t\t\tIonBackButton,\n\t\t\tIonTitle,\n\t\t\tIonContent,\n\t\t\tIonSkeletonText,\n\t\t\tIonList,\n\t\t\tIonItem,\n\t\t\tIonLabel\n\t\t},\n\t\tprops: {\n\t\t\turlNews: {\n\t\t\t\ttype: String,\n\t\t\t\trequired: true,\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\tlet backTitle = 'Retour';\n\n\t\t\t// get current route\n\t\t\tconst currentRoute = this.$router.currentRoute.value;\n\n\t\t\tif(currentRoute.name == \"News\") {\n\t\t\t\tbackTitle = 'Actualités';\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbackTitle: backTitle,\n\t\t\t\topenedNews: [],\n\t\t\t\tshortName: '',\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tasync openLink(url) {\n\t\t\t\tawait Browser.open({\n\t\t\t\t\turl: url,\n\t\t\t\t\tpresentationStyle: 'popover',\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetLettersFromName(name) {\n\t\t\t\t// if first letter is M, remove first word\n\t\t\t\tif (name[0] == 'M') {\n\t\t\t\t\tname = name.split(' ').slice(1).join(' ');\n\t\t\t\t}\n\n\t\t\t\tconst shortName = name.match(/\\b(\\w)/g).join('');\n\n\t\t\t\t// if shortName > 2, return first 2 letters\n\t\t\t\tif (shortName.length > 2) {\n\t\t\t\t\treturn shortName.slice(0, 2);\n\t\t\t\t}\n\n\t\t\t\treturn shortName;\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\t// if urlNews prop is set\n\t\t\tif(this.urlNews) {\n\t\t\t\tconst encoded = this.urlNews;\n\n\t\t\t\t// decode url\n\t\t\t\tconst decoded = decodeURIComponent(encoded);\n\n\t\t\t\t// parse json\n\t\t\t\tconst parsed = JSON.parse(decoded);\n\n\t\t\t\t// open urlNews\n\t\t\t\tthis.openedNews = parsed;\n\n\t\t\t\t// get short name\n\t\t\t\tthis.shortName = this.getLettersFromName(this.openedNews.author);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t});\n</script>\n\n<template>\n\t\t<IonHeader class=\"AppHeader\" translucent>\n\t\t\t<IonToolbar>\n\n\t\t\t\t<ion-buttons slot=\"start\">\n\t\t\t\t\t<IonBackButton class=\"only-ios\" :text=\"backTitle\" @click=\"pop\"></IonBackButton>\n\t\t\t\t\t<IonBackButton class=\"only-md\" @click=\"pop\"></IonBackButton>\n\t\t\t\t</ion-buttons>\n\n\t\t\t\t<ion-title v-if=\"openedNews\">{{ openedNews.title }}</ion-title>\n\t\t\t\t<ion-title v-else><ion-skeleton-text style=\"width: 200px;\"></ion-skeleton-text></ion-title>\n\t\t\t</IonToolbar>\n\t\t</IonHeader>\n\n\t\t<ion-content :fullscreen=\"true\">\n\t\t\t<div v-if=\"openedNews\">\n\t\t\t\t<ion-header collapse=\"condense\">\n\t\t\t\t\t<ion-toolbar>\n\t\t\t\t\t\t<h1 class=\"mainTitle\">{{ openedNews.title }}</h1>\n\t\t\t\t\t</ion-toolbar>\n\t\t\t\t\t<ion-toolbar>\n\t\t\t\t\t\t<IonItem>\n\t\t\t\t\t\t\t<div class=\"avatar\" slot=\"start\">\n\t\t\t\t\t\t\t\t{{ shortName }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<IonLabel>\n\t\t\t\t\t\t\t\t<h2>{{ openedNews.author }}</h2>\n\t\t\t\t\t\t\t\t<p>{{ openedNews.dateString }}</p>\n\t\t\t\t\t\t\t</IonLabel>\n\t\t\t\t\t\t</IonItem>\n\t\t\t\t\t</ion-toolbar>\n\t\t\t\t</ion-header>\n\n\t\t\t\t<IonList class=\"only-md\">\n\t\t\t\t\t<IonItem>\n\t\t\t\t\t\t<div class=\"avatar\" slot=\"start\">\n\t\t\t\t\t\t\t{{ shortName }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<IonLabel>\n\t\t\t\t\t\t\t<h2>{{ openedNews.author }}</h2>\n\t\t\t\t\t\t\t<p>{{ openedNews.dateString }}</p>\n\t\t\t\t\t\t</IonLabel>\n\t\t\t\t\t</IonItem>\n\t\t\t\t</IonList>\n\n\t\t\t\t<IonList v-if=\"openedNews.isSurvey\" inset>\n\t\t\t\t\t<IonItem color=\"danger\">\n\t\t\t\t\t\t<span class=\"material-symbols-outlined mdls\" slot=\"start\">contact_support</span>\n\t\t\t\t\t\t<IonLabel class=\"ion-text-wrap\">\n\t\t\t\t\t\t\t<h2>Cette news contient un sondage</h2>\n\t\t\t\t\t\t\t<p>Papillon ne permet pas de répondre aux sondages.</p>\n\t\t\t\t\t\t</IonLabel>\n\t\t\t\t\t</IonItem>\n\t\t\t\t</IonList>\n\n\t\t\t\t<div class=\"content\" v-html=\"openedNews.htmlContent\"></div>\n\n\t\t\t\t<div v-if=\"openedNews.attachments\">\n\t\t\t\t\t<IonLabel class=\"listGroupTitle\" v-if=\"openedNews.attachments.length !== 0\">\n\t\t\t\t\t\t<p>Documents attachés</p>\n\t\t\t\t\t</IonLabel>\n\n\t\t\t\t\t<IonList v-if=\"openedNews.attachments.length !== 0\" class=\"listGroup\">\n\t\t\t\t\t\t<IonItem v-for=\"attachment in openedNews.attachments\" :key=\"attachment.id\" @click=\"openLink(attachment.url)\">\n\t\t\t\t\t\t\t<span v-if=\"attachment.type == 1\" class=\"material-symbols-outlined mdls\" slot=\"start\">description</span>\n\t\t\t\t\t\t\t<span v-else-if=\"attachment.type == 0\" class=\"material-symbols-outlined mdls\" slot=\"start\">link</span>\n\t\t\t\t\t\t\t<IonLabel>\n\t\t\t\t\t\t\t\t<h2>{{ attachment.name }}</h2>\n\t\t\t\t\t\t\t\t<p>{{ attachment.url }}</p>\n\t\t\t\t\t\t\t</IonLabel>\n\t\t\t\t\t\t</IonItem>\n\t\t\t\t\t</IonList>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</ion-content>\n</template>\n\n<style scoped>\n\t.mainTitle {\n\t\tmargin-top: 0px;\n\t\tmargin: auto 16px !important;\n\t}\n\n\t.content {\n\t\tmargin: 10px 20px;\n\t}\n\n\t.avatar {\n\t\twidth: 38px;\n\t\theight: 38px;\n\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\n\t\tbackground: linear-gradient(180deg, #b4b4b4 0%,#7e7e7e 100%);\n\t\tborder-radius: 50%;\n\n\t\tcolor: #fff;\n\n\t\tfont-weight: 500;\n\t\tfont-size: 1.05rem;\n\n\t\tpadding-bottom: 1px;\n\t}\n\n\t.md .avatar {\n\t\tbackground: rgba(var(--ion-color-primary-rgb), 0.2);\n\t\tcolor: var(--ion-color-primary);\n\t\tmargin-right: 15px;\n\t}\n</style>\n","import { render } from \"./InfoView.vue?vue&type=template&id=532a17eb&scoped=true\"\nimport script from \"./InfoView.vue?vue&type=script&lang=js\"\nexport * from \"./InfoView.vue?vue&type=script&lang=js\"\n\nimport \"./InfoView.vue?vue&type=style&index=0&id=532a17eb&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-532a17eb\"]])\n\nexport default __exports__"],"names":["class","slot","_createElementVNode","_createVNode","_component_IonHeader","translucent","_component_IonToolbar","_component_ion_buttons","_component_IonBackButton","text","_ctx","backTitle","onClick","pop","openedNews","_createBlock","_component_ion_title","key","title","_component_ion_skeleton_text","style","_component_ion_content","fullscreen","_createElementBlock","_hoisted_1","_component_ion_header","collapse","_component_ion_toolbar","_hoisted_2","_toDisplayString","_component_IonItem","_hoisted_3","shortName","_component_IonLabel","author","dateString","_component_IonList","_hoisted_4","isSurvey","inset","color","_hoisted_5","_hoisted_6","_hoisted_7","innerHTML","htmlContent","attachments","_hoisted_9","length","_hoisted_10","_Fragment","_renderList","attachment","id","$event","openLink","url","type","_hoisted_11","_hoisted_12","name","defineComponent","components","IonHeader","IonToolbar","IonButtons","IonBackButton","IonTitle","IonContent","IonSkeletonText","IonList","IonItem","IonLabel","props","urlNews","String","required","data","currentRoute","this","$router","value","methods","async","Browser","presentationStyle","getLettersFromName","split","slice","join","match","mounted","encoded","decoded","decodeURIComponent","parsed","JSON","parse","__exports__","render"],"sourceRoot":""}