{"version":3,"file":"js/384-legacy.5f7ef35c.js","mappings":"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","sources":["webpack://papillon/./src/views/homework/HomeworkItemView.vue","webpack://papillon/./src/views/homework/HomeworkItemView.vue?968f","webpack://papillon/./src/views/homework/HomeworkSetup.vue?ef08","webpack://papillon/./src/views/homework/HomeworkView.vue","webpack://papillon/./src/views/homework/HomeworkView.vue?d727","webpack://papillon/./src/views/homework/HomeworkSetup.vue?081b","webpack://papillon/./src/views/homework/HomeworkSetup.vue"],"sourcesContent":["<script>\n\timport {\n\t\tdefineComponent\n\t} from 'vue';\n\timport {\n\t\tIonHeader,\n\t\tIonToolbar,\n\t\tIonList,\n\t\tIonItem,\n\t\tIonLabel,\n\t\tIonButtons,\n        IonButton,\n\t\tIonTitle,\n\t\tIonContent,\n        IonBackButton\n\t} from '@ionic/vue';\n\n    import { Browser } from '@capacitor/browser';\n\n\texport default defineComponent({\n\t\tname: 'FolderPage',\n\t\tcomponents: {\n\t\t\tIonHeader,\n\t\t\tIonToolbar,\n\t\t\tIonButtons,\n            IonButton,\n\t\t\tIonBackButton,\n\t\t\tIonTitle,\n\t\t\tIonContent,\n\t\t\tIonList,\n\t\t\tIonItem,\n\t\t\tIonLabel,\n\t\t},\n        props: {\n            urlHw: {\n                type: String,\n                required: true,\n            }\n        },\n\t\tdata() {\n            let backTitle = 'Retour';\n\n\t\t\t// get current route\n\t\t\tconst currentRoute = this.$router.currentRoute.value;\n\n\t\t\tif(currentRoute.name == \"Homework\") {\n\t\t\t\tbackTitle = 'Devoirs';\n\t\t\t}\n\n\t\t\treturn {\n                backTitle: backTitle,\n                openedHw: [],\n                openedData: [],\n                openedHomework: [],\n                openedFiles: [],\n                custom: false,\n                deleted: false,\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tasync openLink(url) {\n                await Browser.open({\n                    url: url,\n\t\t\t\t\tpresentationStyle: 'popover',\n                });\n            },\n            async deleteHW() {\n                const customHomeworks = JSON.parse(localStorage.customHomeworks);\n\n                // find homework\n                const homework = customHomeworks.find((homework) => {\n                    return homework.homework.data.id == this.openedData.id;\n                });\n\n                // remove homework\n                customHomeworks.splice(customHomeworks.indexOf(homework), 1);\n\n                // save customHomeworks\n                localStorage.customHomeworks = JSON.stringify(customHomeworks);\n\n                this.deleted = true;\n            }\n\t\t},\n\t\tmounted() {\n            // if urlHw prop is set\n            if(this.urlHw) {\n                const encoded = this.urlHw;\n\n                // decode url\n                const decoded = decodeURIComponent(encoded);\n\n                // parse json\n                const parsed = JSON.parse(decoded);\n                // open urlHw\n                this.openedHw = parsed;\n                this.openedData = parsed.data;\n                this.openedHomework = parsed.homework;\n                this.openedFiles = parsed.files;\n\n                // if parsed.data.id starts with \"custom\"\n                if(typeof parsed.data.id !== \"number\") {\n                    if(parsed.data.id.startsWith(\"custom\")) {\n                        this.custom = true;\n                    }\n                }\n            }\n\n            return false;\n        }\n\t});\n</script>\n\n<template>\n\t\t<IonHeader class=\"AppHeader\" translucent>\n\t\t\t<IonToolbar>\n\t\t\t\t<ion-buttons slot=\"start\">\n\t\t\t\t\t<IonBackButton class=\"only-ios\" :text=\"backTitle\" @click=\"pop\"></IonBackButton>\n\t\t\t\t\t<IonBackButton class=\"only-md\" @click=\"pop\"></IonBackButton>\n\t\t\t\t</ion-buttons>\n\n                <ion-title v-if=\"openedHomework && custom\">Devoir personnalisé</ion-title>\n                <ion-title v-else>Travail à faire <span v-if=\"openedHomework\">en {{ openedHomework.subject }}</span></ion-title>\n\n                <ion-buttons slot=\"end\">\n\t\t\t\t\t<ion-button v-if=\"custom\" color=\"danger\" @click=\"deleteHW($event)\">\n                        <span slot=\"start\" class=\"material-symbols-outlined mdls\">delete</span>\n                        Suppr.\n                    </ion-button>\n\t\t\t\t</ion-buttons>\n\t\t\t</IonToolbar>\n\t\t</IonHeader>\n\n\t\t<ion-content :fullscreen=\"true\">\n            <IonList inset v-if=\"deleted\">\n                <IonItem color=\"danger\">\n                    <span class=\"material-symbols-outlined mdls\" slot=\"start\">delete</span>\n\n                    <IonLabel>\n                        <h2>Ce devoir à été supprimé</h2>\n                        <p>Vous consultez une archive de ce devoir.</p>\n                    </IonLabel>\n                </IonItem>\n            </IonList>\n\n            <div v-if=\"openedHw\">\n                <div class=\"content\" v-html=\"openedHomework.content\"></div>\n            </div>\n\n            <IonLabel class=\"listGroupTitle\" v-if=\"openedFiles.length !== 0\">\n\t\t\t\t<p>Documents attachés</p>\n\t\t\t</IonLabel>\n\n            <IonList v-if=\"openedFiles.length !== 0\" class=\"listGroup\">\n                <IonItem v-for=\"attachment in openedFiles\" :key=\"attachment.id\" @click=\"openLink(attachment.url)\">\n                    <span v-if=\"attachment.type == 1\" class=\"material-symbols-outlined mdls\" slot=\"start\">description</span>\n                    <span v-else-if=\"attachment.type == 0\" class=\"material-symbols-outlined mdls\" slot=\"start\">link</span>\n\n                    <IonLabel>\n                        <h2>{{ attachment.name }}</h2>\n                        <p>{{ attachment.url }}</p>\n                    </IonLabel>\n                </IonItem>\n            </IonList>\n\t\t</ion-content>\n</template>\n\n<style scoped>\n    .hwTitle {\n        font-weight: 500 !important;\n    }\n\n\t.content {\n        margin: 10px 20px;\n\n        font-size: 16px;\n        line-height: 20px;\n        \n        margin-top: 15px;\n        \n        -webkit-user-select: text;\n        user-select: text;\n    }\n</style>\n","import { render } from \"./HomeworkItemView.vue?vue&type=template&id=457e3472&scoped=true\"\nimport script from \"./HomeworkItemView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeworkItemView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeworkItemView.vue?vue&type=style&index=0&id=457e3472&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-457e3472\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_nav = _resolveComponent(\"ion-nav\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_nav, {\n        root: $data.component,\n        ref: \"page\"\n      }, null, 8, [\"root\"])\n    ]),\n    _: 1\n  }))\n}","<script>\n\timport { defineComponent } from 'vue';\n\timport { IonHeader, IonContent, IonToolbar, IonTitle, IonMenuButton, IonPage, IonButtons, IonList, IonLabel, IonItem, IonNavLink, IonRefresher, IonRefresherContent, IonCheckbox, IonButton, IonModal, IonFab, IonDatetime, alertController } from '@ionic/vue';\n\n    import { alertCircle } from 'ionicons/icons';\n\n    import { Virtual } from 'swiper'\n    import { Swiper, SwiperSlide } from 'swiper/vue';\n    import 'swiper/css';\n\n    import HomeworkItemView from './HomeworkItemView.vue';\n\n    import GetHomeworks from \"@/functions/fetch/GetHomeworks.js\";\n    import { tickHomework } from \"@/functions/fetch/GetHomeworks.js\";\n\n    import displayToast from '@/functions/utils/displayToast.js';\n    import hapticsController from '@/functions/utils/hapticsController.js';\n\n\texport default defineComponent({\n\t\tname: 'FolderPage',\n\t\tcomponents: {\n\t\t\tIonHeader,\n\t\t\tIonContent,\n\t\t\tIonToolbar,\n\t\t\tIonTitle,\n\t\t\tIonMenuButton,\n\t\t\tIonButtons,\n            IonButton,\n\t\t\tIonList,\n            IonPage,\n            Swiper,\n            SwiperSlide,\n            IonRefresher,\n            IonRefresherContent,\n            IonCheckbox,\n            IonModal,\n            IonDatetime,\n            IonItem,\n            IonLabel,\n            IonNavLink,\n            IonFab\n\t\t},\n\t\tsetup() {\n\t\t\treturn { \n                baseIndex: 250,\n                minDate: require('@/functions/utils/datetimePicker.js').minCalendarDate(),\n                maxDate: require('@/functions/utils/datetimePicker.js').maxCalendarDate(),\n                isDateAvailable: require('@/functions/utils/datetimePicker.js').isDateAvailable,\n\t\t\t\tVirtual\n\t\t\t}\n\t\t},\n\t\tdata() {\n            const slides = Array.from({ length: this.baseIndex * 2 }).map(\n                (el, index) => `Slide ${index}`\n            );\n\n\t\t\treturn {\n                HomeworkItemView: HomeworkItemView,\n\t\t\t\tslides,\n                currentIndex: this.baseIndex,\n                rnButtonString: this.createDateString(this.$rn),\n                loadedrnButtonString: this.createDateString(this.$rn),\n                rnCalendarString: this.$rn.toISOString().split('T')[0],\n                days: [],\n                connected: false,\n                shouldResetSwiper: false,\n                rnPickerModalOpen: false,\n                isChangingDate: false,\n                isLoading: true,\n                loginService: localStorage.getItem(\"loginService\"),\n                baseRn: new Date(),\n                swiper: null,\n\t\t\t}\n\t\t},\n\t\tmethods: {\n            async addHomework() {\n                const alert = await alertController.create({\n                    header: 'Ajouter un devoir',\n                    subHeader: 'Entrez ici le contenu de votre devoir',\n                    inputs: [\n                        {\n                            name: 'subject',\n                            type: 'input',\n                            placeholder: 'Matière (optionnel)'\n                        },\n                        {\n                            name: 'content',\n                            type: 'textarea',\n                            placeholder: 'Contenu du devoir'\n                        },\n                    ],\n                    buttons: [\n                        {\n                            text: 'Annuler',\n                            role: 'cancel',\n                        },\n                        {\n                            text: 'Ajouter',\n                            handler: async (data) => {\n                                const text = data.content;\n                                let subject = data.subject;\n\n                                if (!subject) {\n                                    subject = \"DEVOIR PERSONNALISÉ\"\n                                }\n\n                                if (!text) {\n                                    return;\n                                }\n\n                                // get --ion-color-primary\n                                const color = getComputedStyle(document.documentElement).getPropertyValue('--ion-color-primary');\n\n                                // get homework description\n                                let shortText = text;\n\n                                if (shortText.length > 80) {\n                                    shortText = shortText.substring(0, 80) + '...';\n                                }\n\n                                const newHomework = {\n                                    data: {\n                                        id: \"custom_\" + Math.random().toString(36).substr(2, 9),\n                                        date: this.$rn.toISOString().split('T')[0].replace(/-/g, \"/\") + \" 00:00\",\n                                        color: color,\n                                        done: false,\n                                    },\n                                    homework: {\n                                        subject: subject.toUpperCase(),\n                                        content: text,\n                                        shortContent: shortText,\n                                    },\n                                    files: [],\n                                };\n\n                                // add homework to homeworks\n                                let customHomeworks = [];\n\n                                if (localStorage.customHomeworks) {\n                                    customHomeworks = JSON.parse(localStorage.customHomeworks);\n                                }\n\n                                customHomeworks.push({\n                                    date: this.$rn,\n                                    homework: newHomework\n                                })\n\n                                localStorage.customHomeworks = JSON.stringify(customHomeworks);\n\n                                // refresh homeworks\n                                this.handleRefresh();\n                            }\n                        }\n                    ],\n                    mode: 'md'\n                });\n\n                await alert.present();\n            },\n            isED() {\n              return localStorage.loginService === 'ecoledirecte'\n            },\n            getHomeworks(force, goTo, event) {\n                const startloading = setTimeout(() => {\n                    this.isLoading = true;\n                }, 500);\n\n                for (let i = 0; i < 3; i++) {\n                    const index = this.swiper.realIndex + (i - 1);\n\n                    // get index diff\n                    const indexDiff = this.baseIndex - index;\n\n                    // get rn\n                    let selectedRN = new Date(this.baseRn);\n\n                    if(goTo) {\n                        selectedRN = new Date(this.$rn);\n                    }\n\n                    selectedRN.setDate(selectedRN.getDate() - indexDiff);\n\n                    // if i is 1\n                    if(i == 1) {\n                        this.$rn = selectedRN;\n                        this.rnButtonString = this.createDateString(this.$rn);\n                        this.rnCalendarString = this.$rn.toISOString().split('T')[0];\n                    }\n\n                    // get homeworks for rn\n                    GetHomeworks(selectedRN, selectedRN, force).then((homeworks) => {\n                        if(i == 2) {\n                            clearTimeout(startloading);\n                            this.isLoading = false;\n\n                            if(event) {\n                                event.detail.complete();\n                            }\n                        }\n\n                        if (homeworks.error) {\n                            if(homeworks.error == \"ERR_BAD_REQUEST\") {\n                                if(this.days[index]) {\n                                    this.days[index].loading = true;\n                                }\n                            }\n                            else {\n                                this.days[index] = [];\n                                if(this.days[index]) {\n                                    this.days[index].error = homeworks.error;\n                                }\n                            }\n                        }\n                        else {\n                            this.days[index] = this.editHomeworks(homeworks);\n                            this.loadedrnButtonString = this.createDateString(this.$rn);\n                            if(this.days[index]) {\n                                this.days[index].loading = false;\n                            }\n                        }\n                    });\n                }\n            },\n            editHomeworks(homeworks) {\n                // for each homework\n                for (let i = 0; i < homeworks.length; i++) {\n                    // set homework to edit\n                    const homework = homeworks[i];\n\n                    // remove <br/> tags from homework.homework.content\n                    homeworks[i].homework.shortContent = homework.homework.shortContent.replace(/[<]br[^>]*[>]/gi,\"\");\n                }\n\n                // set homeworks to edit\n                return homeworks;\n            },\n            createDateString(date) {\n                const dateObject = new Date(date);\n                const day_string = dateObject.toLocaleString('default', { weekday: 'long' }).slice(0, 3);\n                // return string like \"jeu. 1\"\n                return day_string + \". \" + dateObject.getDate();\n            },\n\t\t\trnInputChanged() {\n                if(!this.isChangingDate) {\n                    // get new date from rnInput\n                    const newDate = new Date(this.$refs.rnInput.$el.value);\n\n                    // update rn\n                    this.$rn = newDate;\n                    this.baseRn = newDate;\n\n                    // reset swiper\n                    this.swiper.slideTo(this.baseIndex, 0, false);\n\n                    // emit event\n                    document.dispatchEvent(new CustomEvent('rnChanged', { detail: newDate }));\n                }\n                else {\n                    this.isChangingDate = false;\n                }\n            },\n            confirmRnInput() {\n                this.changernPickerModalOpen(false);\n            },\n            openRnPicker() {\n                this.$refs.rnPickerModal.$el.present();\n            },\n            resetSwiper() {\n                // this.swiper.slideTo(1, 0);\n                return false;\n            },\n            handleRefresh(event) {\n                this.getHomeworks(true, false, event);\n            },\n            changernPickerModalOpen(state) {\n                this.rnPickerModalOpen = state;\n            },\n            changeDone(hw) {\n                // microinteractions\n                hapticsController.notification('success');\n\n                // vars\n                const homeworkID = hw.data.id;\n                const dateSet = new Date(this.$rn)\n\n                const checkboxID = `checkbox_${hw.data.id}`;\n                const checkbox = document.getElementById(checkboxID);\n\n                // new send request\n                if(!this.dontRetryCheck) {\n                    tickHomework([homeworkID, dateSet, hw]).then(() => {\n                        setTimeout(() => {\n                            this.dontRetryCheck = true;\n\n                            setTimeout(() => {\n                                this.dontRetryCheck = false;\n                            }, 200);\n                        }, 200);\n                        \n                        // reset homework cache\n                        localStorage.removeItem('HomeworkCache');\n\n                        // reload homeworks\n                        this.getHomeworks();\n\n                    })\n                    .catch((error) => {\n                        console.error(error)\n                        // revert change\n                        setTimeout(() => {\n                            this.dontRetryCheck = true;\n                            checkbox.checked = !checkbox.checked;\n\n                            setTimeout(() => {\n                                this.dontRetryCheck = false;\n                            }, 200);\n                        }, 200);\n\n                        \n\n                        displayToast.presentToastFull(\n                            \"Impossible de marquer ce devoir comme fait\",\n                            \"Une erreur est survenue lors de la requête.\",\n                            \"danger\",\n                            alertCircle,\n                            true,\n                            error\n                         )\n                    });\n                }\n                else {\n                    // revert change\n                    checkbox.checked = !checkbox.checked;\n                }\n            }\n\t\t},\n\t\tmounted() {\n            this.swiper = this.$refs.swiper.$el.swiper;\n\n            document.addEventListener('rnChanged', (e) => {\n                this.rnButtonString = this.createDateString(e.detail);\n                this.getHomeworks(false, e.detail);\n            });\n\n            this.getHomeworks();\n\n            document.addEventListener('tokenUpdated', () => {\n                this.getHomeworks();\n                return false;\n            });\n\n            // detect swiper slide change\n            this.swiper.on('slideChangeTransitionEnd', () => {\n                // reset swiper\n                this.resetSwiper()\n                // isChangingDate\n                this.isChangingDate = true;\n                // emit event\n                this.getHomeworks();\n            });\n\n            this.swiper.on('activeIndexChange', () => {\n                this.currentIndex = this.swiper.activeIndex;\n            });\n\t\t}\n\t});\n</script>\n\n<template>\n\t<ion-page ref=\"page\">\n\t\t<IonHeader class=\"AppHeader\" translucent>\n\t\t\t<IonToolbar>\n\t\t\t\t<ion-buttons slot=\"start\">\n\t\t\t\t\t<ion-menu-button color=\"dark\"></ion-menu-button>\n\t\t\t\t</ion-buttons>\n\n\t\t\t\t<ion-title>Travail à faire</ion-title>\n\n                <ion-buttons slot=\"end\">\n                    <ion-button id=\"rnPickerModalButton\" color=\"dark\" @click=\"changernPickerModalOpen(true)\">\n                    <span class=\"material-symbols-outlined mdls\" slot=\"start\">calendar_month</span>\n\n                    <p>{{ rnButtonString }}</p>\n                    </ion-button>\n                </ion-buttons>\n\n                <ion-progress-bar type=\"indeterminate\" v-if=\"isLoading\"></ion-progress-bar>\n\t\t\t</IonToolbar>\n\t\t</IonHeader>\n\n\t\t<ion-content :fullscreen=\"true\" class=\"content\">\n            <ion-item v-if=\"loginService === 'ecoledirecte'\">\n                <div class=\"alphaMessage\">\n                    <span class=\"material-symbols-outlined mdls icon\">warning</span>\n                    <div class=\"alphaText\">\n                        <h2>La fonctionnalité \"Travail à faire\" est encore en test pour EcoleDirecte.</h2>\n                        <p class=\"description\">Certains bugs, notamment lors de l'affichage du contenu du devoir, peuvent apparaître.</p>\n                    </div>\n                </div>\t\t\t\t\n            </ion-item>\n            <ion-refresher slot=\"fixed\" @ionRefresh=\"handleRefresh($event)\">\n                <ion-refresher-content></ion-refresher-content>\n            </ion-refresher>\n\n            <IonFab slot=\"fixed\" vertical=\"bottom\" horizontal=\"end\" class=\"newHomeworksBtnFab\">\n\t\t\t\t<ion-button @click=\"addHomework($event)\" size=\"large\" shape=\"round\" class=\"newHomeworksBtn\" mode=\"md\" aria-label=\"Ajouter un devoir\">\n\t\t\t\t\t<span class=\"material-symbols-outlined mdls\" slot=\"icon-only\">add</span>\n\t\t\t\t</ion-button>\n\t\t\t</IonFab>\n\n\n\n            <div id=\"noTouchZone\"></div>\n\n            <swiper class=\"swiper\" ref=\"swiper\" :modules=\"[Virtual]\" virtual :initialSlide=\"baseIndex\" :speed=\"200\" :spaceBetween=\"10\" :preventClicks=\"true\">\n                <swiper-slide class=\"slide\"\n                v-for=\"(slideContent, index) in slides\"\n                :key=\"index\"\n                :virtualIndex=\"index\">\n                    <transition-group name=\"CoursAnim\" tag=\"div\" id=\"DayData\">\n                        <div v-if=\"currentIndex == index && days[index].length > 0\">\n                            <IonList v-for=\"homework in days[`${index}`]\" :key=\"homework.id\" inset class=\"hwListItem\">\n                                <IonItem button >\n                                    <div slot=\"start\">\n                                        <ion-checkbox :id=\"`checkbox_${homework.data.id}`\" :checked=\"homework.data.done\" @ionChange=\"changeDone(homework)\"></ion-checkbox>\n                                    </div>\n                                    \n                                    <IonNavLink class=\"navLink\"  router-direction=\"forward\" :component=\"HomeworkItemView\" :componentProps=\"{urlHw: encodeURIComponent(JSON.stringify(homework))}\">\n                                        <IonLabel :style=\"`--courseColor: ${homework.data.color};`\" class=\"ion-text-wrap\">\n                                            <p><span class=\"courseColor\"></span> {{ homework.homework.subject }}</p>\n                                            <h5 v-if=\"isED()\" v-html=\"homework.homework.shortContent\" class=\"hwContent\"></h5>\n                                            <h5 v-else class=\"hwContent\">{{ homework.homework.shortContent }}</h5>\n\n                                            <p v-if=\"homework.files.length > 0\">\n                                                <span>{{ homework.files[0].name }}</span>\n                                            </p>\n                                        </IonLabel>\n                                    </IonNavLink>\n                                </IonItem>\n                            </IonList>\n                        </div>\n                    </transition-group>\n\n                    <div v-if=\"days[`${index}`]\">\n                        <Transition name=\"CoursAnim\">\n                            <div class=\"NoCours\" v-if=\"days[`${index}`].length == 0 && !days[`${index}`].error && !days[`${index}`].loading && currentIndex == index\">\n                                <h1>😎</h1>\n                                <h2>Aucun devoir pour ce jour</h2>\n                                <p>Sélectionnez un autre jour dans le calendrier ou balayez l’écran pour changer de journée.</p>\n\n                                <ion-button mode=\"md\" fill=\"clear\" @click=\"changernPickerModalOpen(true)\" class=\"changeDayButton\">Ouvrir le calendrier</ion-button>\n                            </div>\n                        </Transition>\n\n                        <div class=\"NoCours\" v-if=\"days[`${index}`].length == 0 && days[`${index}`].error == 'ERR_NETWORK' && !days[`${index}`].loading && !connected\">\n                            <h1>🌏</h1>\n                            <h2>Pas de connexion à Internet</h2>\n                            <p>Vous pouvez uniquement consulter les journées déjà chargées préalablement lorsque vous êtes hors-ligne.</p>\n                        </div>\n\n                        <div class=\"NoCours\" v-if=\"days[`${index}`].length == 0 && days[`${index}`].error == 'ERR_NETWORK' && !days[`${index}`].loading && connected\">\n                            <h1>🛠️</h1>\n                            <h2>Serveurs indisponibles</h2>\n                            <p>Vous pouvez uniquement consulter les journées déjà chargées préalablement. Nos serveurs seront bientôt de nouveaux disponibles.</p>\n                        </div>\n                    </div>\n                    <div v-else>\n                        <div class=\"loadingSpin\">\n                            <IonSpinner></IonSpinner>\n                        </div>\n                    </div>\n\n                </swiper-slide>\n            </swiper>\n\n\n            <IonModal :is-open=\"rnPickerModalOpen\" ref=\"rnPickerModal\" class=\"datetimeModal\" @didDismiss=\"changernPickerModalOpen(false)\" :keep-contents-mounted=\"true\" :initial-breakpoint=\"0.55\" :breakpoints=\"[0, 0.55]\">\n                <IonHeader>\n                    <IonToolbar>\n                    <ion-title>Sélection de la date</ion-title>\n                    <ion-buttons slot=\"end\">\n                        <ion-button @click=\"confirmRnInput()\">Terminé</ion-button>\n                    </ion-buttons>\n                    </IonToolbar>\n                </IonHeader>\n                <ion-content>\n                    <IonDatetime \n                        presentation=\"date\"\n                        ref=\"rnInput\"\n                        size=\"cover\"\n                        :value=\"rnCalendarString\"\n                        :firstDayOfWeek=\"1\"\n                        :min=\"minDate\"\n                        :max=\"maxDate\"\n                        :is-date-enabled=\"isDateAvailable\"\n                        @ionChange=\"rnInputChanged()\"\n                    >\n                    </IonDatetime>\n                </ion-content>\n            </IonModal>\n\t\t</ion-content>\n\t</ion-page>\n</template>\n  \n<style scoped>\n\n    .alphaMessage {\n\t\tbackground: var(--ion-color-warning);\n\t\tmargin: 20px;\n\t\tborder-radius: 10px;\n\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\n\t\tpadding: 20px;\n\t\tgap: 20px;\n\n\t\tcolor: #fff;\n\t}\n\n\t.alphaMessage * {\n\t\tmargin: 0;\n\t}\n\n\t.alphaMessage .icon {\n\t\theight: 44px;\n\t\twidth: 44px;\n\t\tfont-size: 30px;\n\t\toverflow: visible !important;\n\n\t\tcolor: #fff;\n\t\topacity: 1 !important;\n\t}\n\n\t.alphaMessage .alphaText {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 5px;\n\t}\n\n\t.alphaMessage .alphaText h2 {\n\t\tfont-size: 18px;\n\t}\n\n\t.alphaMessage .alphaText .description {\n\t\tfont-size: 15px;\n\t\topacity: 0.7;\n\t}\n    .swiper {\n        height: 100%;\n        \n        overflow: hidden;\n        padding-top: 8px !important;\n\n        margin-bottom: 0;\n    }\n\n\n\t.loadingSpin {\n        width: 100%;\n        min-height: 40vh;\n        height: 100%;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .courseColor {\n        width: 10px;\n        height: 10px;\n        border-radius: 50%;\n        background-color: var(--courseColor);\n        display: inline-block;\n        margin-right: 5px;\n    }\n\n    .changeDayButton {\n        margin-top: 16px !important;\n    }\n\n    .hwContent {\n        font-size: 16px;\n    }\n\n    #noTouchZone {\n        width: 20px !important;\n    }\n\n    .navLink {\n        margin: 10px 0px;\n        width: 100%;\n    }\n\n    .hwListItem {\n        margin: 6px 12px;\n        margin-bottom: 10px;\n    }\n\n    .hwContent {\n        font-weight: 500;\n    }\n\n    .hwListItem.add {\n        box-shadow: none !important;\n        background: transparent !important;\n    }\n\n    .hwListItem.add ion-item::part(native) {\n        border: 1px solid var(--ion-color-step-100) !important;\n        --background: transparent !important;\n    }\n\n    .newHomeworksBtn {\n\t\twidth: 56px;\n\t\theight: 56px;\n\t}\n\n    .ios .hwListItem.add ion-item::part(native) {\n        border-radius: 12px !important;\n    }\n</style>\n","import { render } from \"./HomeworkView.vue?vue&type=template&id=84b5deda&scoped=true\"\nimport script from \"./HomeworkView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeworkView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeworkView.vue?vue&type=style&index=0&id=84b5deda&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-84b5deda\"]])\n\nexport default __exports__","\n    import { IonNav, IonPage } from '@ionic/vue';\n    import HomeworksView from './HomeworkView.vue';\n  \n    export default {\n      components: { IonNav, IonPage },\n      data() {\n        return {\n          component: HomeworksView,\n        };\n      }\n    };\n","import { render } from \"./HomeworkSetup.vue?vue&type=template&id=a90d13ac&ts=true\"\nimport script from \"./HomeworkSetup.vue?vue&type=script&lang=ts\"\nexport * from \"./HomeworkSetup.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","slot","class","_createVNode","_component_IonHeader","translucent","_component_IonToolbar","_component_ion_buttons","_component_IonBackButton","text","_ctx","backTitle","onClick","pop","openedHomework","custom","_createBlock","_component_ion_title","key","_createElementBlock","_hoisted_1","_toDisplayString","subject","_component_ion_button","color","_cache","$event","deleteHW","_hoisted_2","_component_ion_content","fullscreen","deleted","_component_IonList","inset","_component_IonItem","_hoisted_3","_component_IonLabel","_hoisted_4","_hoisted_5","openedHw","_hoisted_6","innerHTML","content","openedFiles","length","_hoisted_8","_Fragment","_renderList","attachment","id","openLink","url","type","_hoisted_9","_hoisted_10","name","defineComponent","components","IonHeader","IonToolbar","IonButtons","IonButton","IonBackButton","IonTitle","IonContent","IonList","IonItem","IonLabel","props","urlHw","String","required","data","currentRoute","this","$router","value","openedData","methods","async","Browser","presentationStyle","customHomeworks","JSON","parse","localStorage","homework","find","splice","indexOf","stringify","mounted","encoded","decoded","decodeURIComponent","parsed","files","startsWith","__exports__","render","$props","$setup","$data","$options","_component_ion_nav","_resolveComponent","_component_ion_page","_openBlock","default","_withCtx","root","component","ref","_","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_22","_hoisted_23","_hoisted_24","_component_ion_menu_button","changernPickerModalOpen","rnButtonString","isLoading","_component_ion_progress_bar","loginService","_component_ion_item","_component_ion_refresher","onIonRefresh","handleRefresh","_component_ion_refresher_content","_component_IonFab","vertical","horizontal","addHomework","size","shape","mode","_component_swiper","modules","Virtual","virtual","initialSlide","baseIndex","speed","spaceBetween","preventClicks","slides","slideContent","index","_component_swiper_slide","virtualIndex","_TransitionGroup","tag","currentIndex","days","button","_component_ion_checkbox","checked","done","onIonChange","changeDone","_component_IonNavLink","HomeworkItemView","componentProps","encodeURIComponent","style","_normalizeStyle","_hoisted_7","isED","shortContent","_hoisted_11","_Transition","error","loading","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","fill","connected","_hoisted_16","_hoisted_20","_hoisted_21","_hoisted_25","_hoisted_26","_hoisted_27","_component_IonSpinner","_component_IonModal","rnPickerModalOpen","onDidDismiss","breakpoints","confirmRnInput","_component_IonDatetime","presentation","rnCalendarString","firstDayOfWeek","min","minDate","max","maxDate","isDateAvailable","rnInputChanged","IonMenuButton","IonPage","Swiper","SwiperSlide","IonRefresher","IonRefresherContent","IonCheckbox","IonModal","IonDatetime","IonNavLink","IonFab","setup","require","Array","from","map","el","createDateString","$rn","loadedrnButtonString","toISOString","split","shouldResetSwiper","isChangingDate","getItem","baseRn","Date","swiper","alert","alertController","header","subHeader","inputs","placeholder","buttons","role","handler","getComputedStyle","document","documentElement","getPropertyValue","shortText","substring","newHomework","Math","random","toString","substr","date","replace","toUpperCase","push","present","getHomeworks","force","goTo","event","startloading","setTimeout","i","realIndex","indexDiff","selectedRN","setDate","getDate","GetHomeworks","then","homeworks","clearTimeout","detail","complete","editHomeworks","dateObject","day_string","toLocaleString","weekday","slice","newDate","$refs","rnInput","$el","slideTo","dispatchEvent","CustomEvent","openRnPicker","rnPickerModal","resetSwiper","state","hw","hapticsController","homeworkID","dateSet","checkboxID","checkbox","getElementById","dontRetryCheck","tickHomework","removeItem","catch","console","displayToast","alertCircle","addEventListener","e","on","activeIndex","IonNav","HomeworksView"],"sourceRoot":""}