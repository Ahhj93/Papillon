{"version":3,"file":"js/app-legacy.6cd21904.js","mappings":"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","sources":["webpack://papillon/./node_modules/@stencil/core/internal/client/ lazy ^\\.\\/.*\\.entry\\.js.*$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack://papillon/./node_modules/ionicons/node_modules/@stencil/core/internal/client/ lazy ^\\.\\/.*\\.entry\\.js.*$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack://papillon/./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://papillon/./src/functions/app.ts","webpack://papillon/./src/App.vue?0e79","webpack://papillon/./src/App.vue?847a","webpack://papillon/./src/App.vue","webpack://papillon/./src/MainApp.vue?49be","webpack://papillon/./src/MainApp.vue","webpack://papillon/./src/router/index.ts","webpack://papillon/./src/main.ts","webpack://papillon/./src/functions/fetch/GetGrades.js","webpack://papillon/./src/functions/fetch/GetHomeworks.js","webpack://papillon/./src/functions/fetch/GetNews.js","webpack://papillon/./src/functions/fetch/GetRecap.js","webpack://papillon/./src/functions/fetch/GetTimetable.js","webpack://papillon/./src/functions/fetch/GetUserData.js","webpack://papillon/./src/functions/fetch/getEDPeriods.js","webpack://papillon/./src/functions/fetch/getEDPhoto.js","webpack://papillon/./src/functions/login/GetToken.js","webpack://papillon/./src/functions/utils/displayToast.js","webpack://papillon/./src/functions/utils/hapticsController.js","webpack://papillon/./src/functions/utils/subjectColor.js","webpack://papillon/webpack/bootstrap","webpack://papillon/webpack/runtime/chunk loaded","webpack://papillon/webpack/runtime/compat get default export","webpack://papillon/webpack/runtime/define property getters","webpack://papillon/webpack/runtime/ensure chunk","webpack://papillon/webpack/runtime/get javascript chunk filename","webpack://papillon/webpack/runtime/get mini-css chunk filename","webpack://papillon/webpack/runtime/global","webpack://papillon/webpack/runtime/hasOwnProperty shorthand","webpack://papillon/webpack/runtime/load script","webpack://papillon/webpack/runtime/make namespace object","webpack://papillon/webpack/runtime/node module decorator","webpack://papillon/webpack/runtime/publicPath","webpack://papillon/webpack/runtime/css loading","webpack://papillon/webpack/runtime/jsonp chunk loading","webpack://papillon/webpack/startup"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 1993;\nmodule.exports = webpackEmptyAsyncContext;","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 1875;\nmodule.exports = webpackEmptyAsyncContext;","var map = {\n\t\"./af\": 2786,\n\t\"./af.js\": 2786,\n\t\"./ar\": 867,\n\t\"./ar-dz\": 4130,\n\t\"./ar-dz.js\": 4130,\n\t\"./ar-kw\": 6737,\n\t\"./ar-kw.js\": 6737,\n\t\"./ar-ly\": 6440,\n\t\"./ar-ly.js\": 6440,\n\t\"./ar-ma\": 7702,\n\t\"./ar-ma.js\": 7702,\n\t\"./ar-sa\": 6040,\n\t\"./ar-sa.js\": 6040,\n\t\"./ar-tn\": 7100,\n\t\"./ar-tn.js\": 7100,\n\t\"./ar.js\": 867,\n\t\"./az\": 1083,\n\t\"./az.js\": 1083,\n\t\"./be\": 9808,\n\t\"./be.js\": 9808,\n\t\"./bg\": 8338,\n\t\"./bg.js\": 8338,\n\t\"./bm\": 7438,\n\t\"./bm.js\": 7438,\n\t\"./bn\": 8905,\n\t\"./bn-bd\": 6225,\n\t\"./bn-bd.js\": 6225,\n\t\"./bn.js\": 8905,\n\t\"./bo\": 1560,\n\t\"./bo.js\": 1560,\n\t\"./br\": 1278,\n\t\"./br.js\": 1278,\n\t\"./bs\": 622,\n\t\"./bs.js\": 622,\n\t\"./ca\": 2468,\n\t\"./ca.js\": 2468,\n\t\"./cs\": 5822,\n\t\"./cs.js\": 5822,\n\t\"./cv\": 877,\n\t\"./cv.js\": 877,\n\t\"./cy\": 7373,\n\t\"./cy.js\": 7373,\n\t\"./da\": 4780,\n\t\"./da.js\": 4780,\n\t\"./de\": 9740,\n\t\"./de-at\": 217,\n\t\"./de-at.js\": 217,\n\t\"./de-ch\": 894,\n\t\"./de-ch.js\": 894,\n\t\"./de.js\": 9740,\n\t\"./dv\": 5300,\n\t\"./dv.js\": 5300,\n\t\"./el\": 837,\n\t\"./el.js\": 837,\n\t\"./en-au\": 8348,\n\t\"./en-au.js\": 8348,\n\t\"./en-ca\": 7925,\n\t\"./en-ca.js\": 7925,\n\t\"./en-gb\": 2243,\n\t\"./en-gb.js\": 2243,\n\t\"./en-ie\": 6436,\n\t\"./en-ie.js\": 6436,\n\t\"./en-il\": 941,\n\t\"./en-il.js\": 941,\n\t\"./en-in\": 4175,\n\t\"./en-in.js\": 4175,\n\t\"./en-nz\": 6319,\n\t\"./en-nz.js\": 6319,\n\t\"./en-sg\": 1662,\n\t\"./en-sg.js\": 1662,\n\t\"./eo\": 2915,\n\t\"./eo.js\": 2915,\n\t\"./es\": 5655,\n\t\"./es-do\": 5251,\n\t\"./es-do.js\": 5251,\n\t\"./es-mx\": 6112,\n\t\"./es-mx.js\": 6112,\n\t\"./es-us\": 1146,\n\t\"./es-us.js\": 1146,\n\t\"./es.js\": 5655,\n\t\"./et\": 5603,\n\t\"./et.js\": 5603,\n\t\"./eu\": 7763,\n\t\"./eu.js\": 7763,\n\t\"./fa\": 6959,\n\t\"./fa.js\": 6959,\n\t\"./fi\": 1897,\n\t\"./fi.js\": 1897,\n\t\"./fil\": 2549,\n\t\"./fil.js\": 2549,\n\t\"./fo\": 4694,\n\t\"./fo.js\": 4694,\n\t\"./fr\": 4470,\n\t\"./fr-ca\": 3049,\n\t\"./fr-ca.js\": 3049,\n\t\"./fr-ch\": 2330,\n\t\"./fr-ch.js\": 2330,\n\t\"./fr.js\": 4470,\n\t\"./fy\": 5044,\n\t\"./fy.js\": 5044,\n\t\"./ga\": 9295,\n\t\"./ga.js\": 9295,\n\t\"./gd\": 2101,\n\t\"./gd.js\": 2101,\n\t\"./gl\": 8794,\n\t\"./gl.js\": 8794,\n\t\"./gom-deva\": 7884,\n\t\"./gom-deva.js\": 7884,\n\t\"./gom-latn\": 3168,\n\t\"./gom-latn.js\": 3168,\n\t\"./gu\": 5349,\n\t\"./gu.js\": 5349,\n\t\"./he\": 4206,\n\t\"./he.js\": 4206,\n\t\"./hi\": 94,\n\t\"./hi.js\": 94,\n\t\"./hr\": 316,\n\t\"./hr.js\": 316,\n\t\"./hu\": 2138,\n\t\"./hu.js\": 2138,\n\t\"./hy-am\": 1423,\n\t\"./hy-am.js\": 1423,\n\t\"./id\": 9218,\n\t\"./id.js\": 9218,\n\t\"./is\": 135,\n\t\"./is.js\": 135,\n\t\"./it\": 626,\n\t\"./it-ch\": 150,\n\t\"./it-ch.js\": 150,\n\t\"./it.js\": 626,\n\t\"./ja\": 9183,\n\t\"./ja.js\": 9183,\n\t\"./jv\": 4286,\n\t\"./jv.js\": 4286,\n\t\"./ka\": 2105,\n\t\"./ka.js\": 2105,\n\t\"./kk\": 7772,\n\t\"./kk.js\": 7772,\n\t\"./km\": 8758,\n\t\"./km.js\": 8758,\n\t\"./kn\": 9282,\n\t\"./kn.js\": 9282,\n\t\"./ko\": 3730,\n\t\"./ko.js\": 3730,\n\t\"./ku\": 1408,\n\t\"./ku.js\": 1408,\n\t\"./ky\": 3291,\n\t\"./ky.js\": 3291,\n\t\"./lb\": 6841,\n\t\"./lb.js\": 6841,\n\t\"./lo\": 5466,\n\t\"./lo.js\": 5466,\n\t\"./lt\": 7010,\n\t\"./lt.js\": 7010,\n\t\"./lv\": 7595,\n\t\"./lv.js\": 7595,\n\t\"./me\": 9861,\n\t\"./me.js\": 9861,\n\t\"./mi\": 5493,\n\t\"./mi.js\": 5493,\n\t\"./mk\": 5966,\n\t\"./mk.js\": 5966,\n\t\"./ml\": 7341,\n\t\"./ml.js\": 7341,\n\t\"./mn\": 5115,\n\t\"./mn.js\": 5115,\n\t\"./mr\": 370,\n\t\"./mr.js\": 370,\n\t\"./ms\": 9847,\n\t\"./ms-my\": 1237,\n\t\"./ms-my.js\": 1237,\n\t\"./ms.js\": 9847,\n\t\"./mt\": 2126,\n\t\"./mt.js\": 2126,\n\t\"./my\": 6165,\n\t\"./my.js\": 6165,\n\t\"./nb\": 4924,\n\t\"./nb.js\": 4924,\n\t\"./ne\": 6744,\n\t\"./ne.js\": 6744,\n\t\"./nl\": 3901,\n\t\"./nl-be\": 9814,\n\t\"./nl-be.js\": 9814,\n\t\"./nl.js\": 3901,\n\t\"./nn\": 3877,\n\t\"./nn.js\": 3877,\n\t\"./oc-lnc\": 2135,\n\t\"./oc-lnc.js\": 2135,\n\t\"./pa-in\": 5858,\n\t\"./pa-in.js\": 5858,\n\t\"./pl\": 4495,\n\t\"./pl.js\": 4495,\n\t\"./pt\": 9520,\n\t\"./pt-br\": 7971,\n\t\"./pt-br.js\": 7971,\n\t\"./pt.js\": 9520,\n\t\"./ro\": 6459,\n\t\"./ro.js\": 6459,\n\t\"./ru\": 1793,\n\t\"./ru.js\": 1793,\n\t\"./sd\": 950,\n\t\"./sd.js\": 950,\n\t\"./se\": 7930,\n\t\"./se.js\": 7930,\n\t\"./si\": 124,\n\t\"./si.js\": 124,\n\t\"./sk\": 4249,\n\t\"./sk.js\": 4249,\n\t\"./sl\": 4985,\n\t\"./sl.js\": 4985,\n\t\"./sq\": 1104,\n\t\"./sq.js\": 1104,\n\t\"./sr\": 9131,\n\t\"./sr-cyrl\": 9915,\n\t\"./sr-cyrl.js\": 9915,\n\t\"./sr.js\": 9131,\n\t\"./ss\": 5893,\n\t\"./ss.js\": 5893,\n\t\"./sv\": 8760,\n\t\"./sv.js\": 8760,\n\t\"./sw\": 1172,\n\t\"./sw.js\": 1172,\n\t\"./ta\": 7333,\n\t\"./ta.js\": 7333,\n\t\"./te\": 3110,\n\t\"./te.js\": 3110,\n\t\"./tet\": 2095,\n\t\"./tet.js\": 2095,\n\t\"./tg\": 7321,\n\t\"./tg.js\": 7321,\n\t\"./th\": 9041,\n\t\"./th.js\": 9041,\n\t\"./tk\": 9005,\n\t\"./tk.js\": 9005,\n\t\"./tl-ph\": 5768,\n\t\"./tl-ph.js\": 5768,\n\t\"./tlh\": 9444,\n\t\"./tlh.js\": 9444,\n\t\"./tr\": 2397,\n\t\"./tr.js\": 2397,\n\t\"./tzl\": 8254,\n\t\"./tzl.js\": 8254,\n\t\"./tzm\": 1106,\n\t\"./tzm-latn\": 699,\n\t\"./tzm-latn.js\": 699,\n\t\"./tzm.js\": 1106,\n\t\"./ug-cn\": 9288,\n\t\"./ug-cn.js\": 9288,\n\t\"./uk\": 7691,\n\t\"./uk.js\": 7691,\n\t\"./ur\": 3795,\n\t\"./ur.js\": 3795,\n\t\"./uz\": 6791,\n\t\"./uz-latn\": 588,\n\t\"./uz-latn.js\": 588,\n\t\"./uz.js\": 6791,\n\t\"./vi\": 5666,\n\t\"./vi.js\": 5666,\n\t\"./x-pseudo\": 4378,\n\t\"./x-pseudo.js\": 4378,\n\t\"./yo\": 5805,\n\t\"./yo.js\": 5805,\n\t\"./zh-cn\": 3839,\n\t\"./zh-cn.js\": 3839,\n\t\"./zh-hk\": 5726,\n\t\"./zh-hk.js\": 5726,\n\t\"./zh-mo\": 9807,\n\t\"./zh-mo.js\": 9807,\n\t\"./zh-tw\": 4152,\n\t\"./zh-tw.js\": 4152\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6700;","// Imports\n// import { app } from '@/main.ts'\nimport { Capacitor } from '@capacitor/core';\nimport { App } from '@capacitor/app';\nimport { SafeArea } from 'capacitor-plugin-safe-area';\n\n// Variables\nlet isDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\nlet themeMode = localStorage.getItem('themeMode');\n\n// safe area\nSafeArea.getSafeAreaInsets().then(async (result) => {\n\tconst insets = result.insets;\n\t\n\t// set safe area\n\tdocument.documentElement.style.setProperty('--papillon-safe-area-top', insets.top + 'px');\n\tdocument.documentElement.style.setProperty('--papillon-safe-area-right', insets.right + 'px');\n\tdocument.documentElement.style.setProperty('--papillon-safe-area-bottom', insets.bottom + 'px');\n\tdocument.documentElement.style.setProperty('--papillon-safe-area-left', insets.left + 'px');\n\n\tdocument.documentElement.style.setProperty('--ion-safe-area-top', insets.top + 'px');\n\tdocument.documentElement.style.setProperty('--ion-safe-area-right', insets.right + 'px');\n\tdocument.documentElement.style.setProperty('--ion-safe-area-bottom', insets.bottom + 'px');\n\tdocument.documentElement.style.setProperty('--ion-safe-area-left', insets.left + 'px');\n});\n\n// Status bar\nimport { StatusBar, Style } from '@capacitor/status-bar';\n\nfunction checkDarkMode() {\n\tisDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n\tthemeMode = localStorage.getItem('themeMode');\n}\n\nfunction setStatusBarStyle() {\n\tStatusBar.setOverlaysWebView({overlay: true});\n\tStatusBar.setStyle({style: Style.Default})\n}\n\nfunction setStyle() {\n\tcheckDarkMode();\n\tupdateStatus();\n\n\tif (themeMode === 'dark' || (isDarkMode && themeMode !== 'light')) {\n\t\t// add .dark class to body\n\t\tdocument.body.classList.add('dark');\n\n\t\t// remove .light class from body\n\t\tdocument.body.classList.remove('light');\n\t} else {\n\t\t// add .light class to body\n\t\tdocument.body.classList.add('light');\n\n\t\t// remove .dark class from body\n\t\tdocument.body.classList.remove('dark');\n\t}\n}\n\n// Navigation bar (Android only)\nimport { NavigationBar } from '@mauricewegner/capacitor-navigation-bar';\n\nfunction setNavigationBarStyle() {\n\tif (themeMode === 'dark' || (isDarkMode && themeMode !== 'light')) {\n\t\tNavigationBar.setColor({\n\t\t\t\tcolor: \"#111112\",\n\t\t\t\tdarkButtons: false\n\t\t});\n\t} else {\n\t\tNavigationBar.setColor({\n\t\t\t\tcolor: \"#ffffff\",\n\t\t\t\tdarkButtons: true\n\t\t});\n\t}\n}\n\nfunction updateStatus() {\n\tif (Capacitor.getPlatform() !== 'web') {\n\t\tcheckDarkMode();\n\n\t\tif (Capacitor.getPlatform() === 'android') {\n\t\t\tsetStatusBarStyle();\n\t\t\tsetNavigationBarStyle();\n\t\t}\n\t}\n}\n\n// Constantly check for dark mode\nupdateStatus();\n\n// on prefers color scheme change\nwindow.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {\n\tupdateStatus();\n});\n\n// constantly set style\nsetInterval(setStyle, 100);\nsetInterval(updateStatus, 100);\n\nimport { AndroidShortcuts } from 'capacitor-android-shortcuts';\n\n\n/* FIXME: This code is not working\nasync function getToBase64(filepath: string) {\n\tconst response = await axios.get(filepath, { responseType: 'blob' });\n\tconst filereader = new FileReader();\n\treturn new Promise((resolve) => {\n\t\tfilereader.onloadend = () => {\n\t\t\tconst result = filereader.result;\n\t\t\tresolve(result);\n\t\t};\n\t\tfilereader.readAsDataURL(response.data);\n\t})\n}\n*/\n\n/*\nAndroidShortcuts.isDynamicSupported().then((result) => {\n\tif (result) {\n\t\tAndroidShortcuts.addDynamic({\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\tid: \"timetable\",\n\t\t\t\t\tshortLabel: \"Emploi du temps\",\n\t\t\t\t\tlongLabel: \"Consulter l'emploi du temps\",\n\t\t\t\t\ticon: {\n\t\t\t\t\t\ttype: \"Bitmap\",\n\t\t\t\t\t\tname: \"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\",\n\t\t\t\t\t},\n\t\t\t\t\tdata: \"timetable\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"homework\",\n\t\t\t\t\tshortLabel: \"Devoirs\",\n\t\t\t\t\tlongLabel: \"Consulter les devoirs\",\n\t\t\t\t\ticon: {\n\t\t\t\t\t\ttype: \"Bitmap\",\n\t\t\t\t\t\tname: \"iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbcSURBVHgB7Z3NbxtFGMbfON9fisMp5ACuhDhwgESVuIUkR6SW5IqgihGiHJP+Ban/gqZHJCQSid5TFYljHfWMmnKjQorhAOXSuIpjQyInvE86C/7Yj9n1zO7sen5StM56nVjPM/O+O7Oz7xJZLBaLpV8ZIIOp1WoLFxcXC7lcbmFwcHAGr3l3/vLyMj8wMJBvPZb3VXkffir8a7XZbD7jfYf82crU1NQhGYpRBpycnKwMDQ0ts3ArELtT5KjAHDYCJuzz3z0wyZDEDYDoLPQ6v9xQJbgEFf4pszH3kzYjEQOOj4/zo6OjG/xyHa2dkgVhamd8fHyPEiBWAyD82NjYJsfnrRhbuywVNuJu3EbEZkC9Xt/k+HvXQOE7idUI7QYgxvMZzLYBoSYslbOzs9XZ2dkKaSRHmkC44VZ/j1vT4xSKDwojIyNHjUZjmzSipQew+Pjyj/llgbKBtt6gvAdwi9kYHh5+StkRH6BBPeUevUWKUWrA6enpNifa3RQk2ihgBH5PdUhSFoJY/O94U6Q+gBvYzsTExB1SgBID+kn8FnYnJye/oB7p2YA+Fd+hZxN6ygE4zaT+FR8URQOMTGQDkHA5KSk/K0ghxV4Sc6QQhGkFFn+HLP/BA85ilOmL0AZgkIXz/IyeavZClQdri2EHa6EN4NBzRNkaZKmkIkyoyn4gVA5A3Ccrvh8Fvs4RKh9I9wAxv3NElkB4NmB1enq6LHOsdA8Qk2sWCTD9LnuslAG1Wq1INvRIg+l32Yk7qRBkE28kcFZ0LSghB/YA2/ojk+ewHdgLAnuAbf09EdgLhvw+rbv1/1GrUunJD/T85Qs6OfuH4ub63Nu0vXSD5qe0jSnzPGgt8tZz1sC3B7ABGPEukAYg/mcPv01E+FamR8bowdqX2kxg/cp87WDV633PHIB1mbrEB2j5SYsPTs7+vvouusAZEVaGeL3vl4S1znT+9OI3MoXnL/8inYill67kfD60TH0CeoFOWMsNr/dcDUD4IXvmo5K8Vxjy6gErZFEKXy9Ycd3vcfAaWZTiFdJdDeDMre3sp1/x0rTLABH/M3O16/rcW2QIeaFtG10G8Fx2gTLC7cUl+ubjW1dbExD3uLXRZYDOwVecQPTbCx+9fs1bE0zAzYZd+1wO+oBSTqv4DjfeeZ+nHUYpSbhxz3Tuc+sBqY7/buJj3unrH783YeojuAdwti5QSvET/8/aKzKArsadkzkoCd6cmuEE+vnVVoYUiA/SYcBr8W9dzddjG2RCSsQHUgYkiiP+vBB9XvzuZUKKxHfFOAMgWudUtZcJaRcfGGcAKD15RI9+/bltX6cJWRAfuF0TxgXkxPMATAA3+fzdwTHh4Pdf6NP3Pmw7PiXid12cz8kclBRePSGl4oNgA1DahQzCzYRW0hR2RC2jNtx6wDMyDC8T0hbzuXF3fVHje4BDpwlpTLg8G9pVm6grCaPMFxmKk5gxx5828QHutu/c12WAKO1lLDABs5omrCkKy/n5eddanK4QJEp4GRmGHNIoPlN1K4/mOhDjbG10L0gjXpq6GtBsNg/IohROwA/d9ntNRZTJopqy205XA8QNZkbngZThWTzWczKOu4zWonVJX5+NmbLXG36zofukkXffmCNT0L12CAVivd7zNABhCDcXkCa2l24a0QvwHbaXPiGNHPpV5/W9HuCVuVWAWc0Ha18ltnINwuN/4zvMS153jgKq8vq973uLEkpPirvjM7NUMWYqk5OT1/wO8O0BuLuPe8F9skQCFXiDjgm8TdX2gsgEtn4QeE0YvYCzeIksoZBp/UC6Wkq9Xk9rCeIkkGr9QHpVBM8P2V4gCbf+VeljZQ/EuMAmZClK4+PjFdmDQ5UsEwk5a3WhVSIdehxCLcxCQhbdy07UdSAeFCQdehxCr4xD9+J/pqRucsYIFXocIi1N5LmNXc4HNin/T4k12aEI9FQ7ular7frdht8PiEdhRa6r0XPx7n42gcXfY/GL1ANKytf3owkqxAdKlqfji/TTGEGV+EDZ/QE8UNvqk8RcUiU+UP4UJQ5HeEoeCpdmavZUrJm9gzNAUohyA0Cj0Shwb8jUY6wwyIpynh+ElluU8EUxJM9CSMJp5sTExKIO8YGWHtBKWnsDC4/H3ZZki3BHRbsBDqhBKnJDgQxGxPrII9uwxGaAg6lGQHgxqt3Bo9EpJmI3wEFU5d1MujwOQg0n2H08/yVO4R0SM8BBVJHaEjXVChQDIszs8XZfd4wPInEDWoEZ3BqXOWmv868LqkrnCMEPeYtl9+WkRW/FKAM6gSEooYYwhUJSLGCeXxfEts0ciIwQIrYQ+xVuisMtV35LAy0Wi8ViSYp/ATgGMNS0JunqAAAAAElFTkSuQmCC\"\n\t\t\t\t\t},\n\t\t\t\t\tdata: \"homework\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"grades\",\n\t\t\t\t\tshortLabel: \"Notes\",\n\t\t\t\t\tlongLabel: \"Consulter les notes\",\n\t\t\t\t\ticon: {\n\t\t\t\t\t\ttype: \"Bitmap\",\n\t\t\t\t\t\tname: \"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\"\n\t\t\t\t\t},\n\t\t\t\t\tdata: \"grades\",\n\t\t\t\t},\n\t\t\t],\n\t\t}).catch((err) => {\n\t\t\tconsole.error(\"[Android Shortcuts]: \" + err);\n\t\t});\n\t}\n});\n*/\n\n// save logs to localstorage\n// console.log, console.warn, console.error, console.info, console.debug\n\n\n// don't affect console.log, console.warn, console.error\n\n\nfunction saveInLocalStorage(content :string, type: string){\n\t// save to localstorage\n\t// save to array in localstorage ({date, type, message})\n\t// max 1000 logs\n\tconst logs = JSON.parse(localStorage.getItem('logs')||\"[]\");\n\t\n\t// style the content to be more readable \n\tif (typeof content === 'object') {\n\t\tcontent = JSON.stringify(content, null, 2);\n\t}\n\n\tlogs.push({date: new Date, type: type, message: content});\n\tif (logs.length > 100) {\n\t\tlogs.shift();\n\t}\n\tlocalStorage.setItem('logs', JSON.stringify(logs));\n}\n\nif (localStorage.getItem('logs') === null) {\n\tlocalStorage.setItem('logs', JSON.stringify([]));\n}\n\nconst consoleLog = console.log;\nconst consoleWarn = console.warn;\nconst consoleError = console.error;\nconst consoleInfo = console.info;\nconst consoleDebug = console.debug;\n\nconsole.log = function(content :string){\n\tconsoleLog(content);\n\tsaveInLocalStorage(content, 'log');\n}\n\nconsole.warn = function(content :string){\n\tconsoleWarn(content);\n\tsaveInLocalStorage(content, 'warn');\n}\n\nconsole.error = function(content :string){\n\tconsoleError(content);\n\tsaveInLocalStorage(content, 'error');\n}\n\nconsole.info = function(content :string){\n\tconsoleInfo(content);\n\tsaveInLocalStorage(content, 'info');\n}\n\nconsole.debug = function(content :string){\n\tconsoleDebug(content);\n\tsaveInLocalStorage(content, 'debug');\n}\n\n\n// Back hardware button to exit app\nApp.addListener('backButton', ({canGoBack}) => {\n\tif(!canGoBack){\n\t\tApp.exitApp();\n\t} else {\n\t\twindow.history.back();\n\t}\n});","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, createBlock as _createBlock, resolveDynamicComponent as _resolveDynamicComponent, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f9449056\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"userItem_content\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"avatar\"\n}\nconst _hoisted_3 = [\"src\"]\nconst _hoisted_4 = {\n  key: 2,\n  class: \"userData\"\n}\nconst _hoisted_5 = {\n  key: 3,\n  class: \"userData\"\n}\nconst _hoisted_6 = { key: 0 }\nconst _hoisted_7 = {\n  class: \"material-symbols-outlined mdls\",\n  slot: \"start\"\n}\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"completeMenuNavBar\" }, null, -1))\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-symbols-outlined mdls\",\n  slot: \"start\"\n}, \"support\", -1))\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-symbols-outlined mdls\",\n  slot: \"start\"\n}, \"dns\", -1))\nconst _hoisted_11 = { class: \"update_inner\" }\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { id: \"update-header\" }, [\n  /*#__PURE__*/_createElementVNode(\"img\", {\n    class: \"logoPapillon\",\n    src: \"/assets/icons/icon-192.webp\"\n  }),\n  /*#__PURE__*/_createElementVNode(\"h1\", null, \"Quoi de neuf dans Papillon ?\"),\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Voici les dernières nouveautés de Papillon.\")\n], -1))\nconst _hoisted_13 = {\n  class: \"material-symbols-outlined mdls\",\n  slot: \"start\"\n}\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"warning\" }, \"Cet écran n’apparaîtra pas au redémarrage de Papillon. Il restera accessible dans les paramètres.\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_skeleton_text = _resolveComponent(\"ion-skeleton-text\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_ion_label = _resolveComponent(\"ion-label\")!\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_ion_list = _resolveComponent(\"ion-list\")!\n  const _component_ion_chip = _resolveComponent(\"ion-chip\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_menu = _resolveComponent(\"ion-menu\")!\n  const _component_ion_router_outlet = _resolveComponent(\"ion-router-outlet\")!\n  const _component_ion_split_pane = _resolveComponent(\"ion-split-pane\")!\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_buttons = _resolveComponent(\"ion-buttons\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_modal = _resolveComponent(\"ion-modal\")!\n  const _component_ion_app = _resolveComponent(\"ion-app\")!\n\n  return (_openBlock(), _createBlock(_component_ion_app, null, {\n    default: _withCtx(() => [\n      (_ctx.appCanal == 'dev')\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            id: \"debug_banner\",\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.displayDevMsg && _ctx.displayDevMsg(...args)))\n          }, \" Devbuild \"))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_component_ion_split_pane, { \"content-id\": \"main-content\" }, {\n        default: _withCtx(() => [\n          (_ctx.loggedIn)\n            ? (_openBlock(), _createBlock(_component_ion_menu, {\n                key: 0,\n                onIonWillOpen: _cache[2] || (_cache[2] = ($event: any) => (_ctx.menuOpened(true))),\n                onIonWillClose: _cache[3] || (_cache[3] = ($event: any) => (_ctx.menuOpened(false))),\n                onIonDidOpen: _cache[4] || (_cache[4] = ($event: any) => (_ctx.menuOpened(true))),\n                onIonDidClose: _cache[5] || (_cache[5] = ($event: any) => (_ctx.menuOpened(false))),\n                type: \"overlay\",\n                \"content-id\": \"main-content\",\n                class: \"menu\",\n                swipeGesture: true\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_header, { collapse: \"fade\" }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", {\n                        class: \"userItem\",\n                        style: _normalizeStyle(`background-image: url('${_ctx.avatar}');`)\n                      }, [\n                        _createElementVNode(\"div\", _hoisted_1, [\n                          (_ctx.dataLoading)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                                _createVNode(_component_ion_skeleton_text, {\n                                  animated: true,\n                                  style: {\"width\":\"100%\",\"height\":\"100%\",\"border-radius\":\"50%\"}\n                                })\n                              ]))\n                            : (_openBlock(), _createElementBlock(\"img\", {\n                                key: 1,\n                                class: \"avatar\",\n                                src: _ctx.avatar,\n                                ref: \"avatar\"\n                              }, null, 8, _hoisted_3)),\n                          (_ctx.dataLoading)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                                _createElementVNode(\"h3\", null, [\n                                  _createVNode(_component_ion_skeleton_text, {\n                                    animated: true,\n                                    style: {\"width\":\"40%\",\"margin-bottom\":\"5px\",\"height\":\"18px\"}\n                                  })\n                                ]),\n                                _createElementVNode(\"p\", null, [\n                                  _createVNode(_component_ion_skeleton_text, {\n                                    animated: true,\n                                    style: {\"width\":\"80%\"}\n                                  })\n                                ])\n                              ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                                _createElementVNode(\"h3\", null, _toDisplayString(_ctx.userData.student.name), 1),\n                                (_ctx.userData.class.school.trim() != '')\n                                  ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, _toDisplayString(_ctx.userData.class.name) + \" — \" + _toDisplayString(_ctx.userData.class.school), 1))\n                                  : _createCommentVNode(\"\", true)\n                              ]))\n                        ])\n                      ], 4)\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_ion_content, null, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_ion_list, { id: \"inbox-list\" }, {\n                        default: _withCtx(() => [\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.appPages, (p, i) => {\n                            return (_openBlock(), _createBlock(_component_ion_item, {\n                              mode: \"md\",\n                              onClick: ($event: any) => (_ctx.changePage(p.url, i)),\n                              \"router-link\": p.url,\n                              key: i,\n                              button: \"\",\n                              routerDirection: \"root\",\n                              lines: \"none\",\n                              detail: false,\n                              class: _normalizeClass({ selected: _ctx.selectedIndex === i })\n                            }, {\n                              default: _withCtx(() => [\n                                _createElementVNode(\"span\", _hoisted_7, _toDisplayString(p.icon), 1),\n                                _createVNode(_component_ion_label, null, {\n                                  default: _withCtx(() => [\n                                    _createTextVNode(_toDisplayString(p.title), 1)\n                                  ]),\n                                  _: 2\n                                }, 1024)\n                              ]),\n                              _: 2\n                            }, 1032, [\"onClick\", \"router-link\", \"class\"]))\n                          }), 128))\n                        ]),\n                        _: 1\n                      }),\n                      _hoisted_8,\n                      _createVNode(_component_ion_list, { id: \"bottomActionsList\" }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_ion_item, {\n                            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.openURL('https://docs.getpapillon.xyz'))),\n                            button: \"\",\n                            mode: \"md\",\n                            lines: \"none\",\n                            detail: false\n                          }, {\n                            default: _withCtx(() => [\n                              _hoisted_9,\n                              _createVNode(_component_ion_label, null, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(\"Aide de Papillon\")\n                                ]),\n                                _: 1\n                              })\n                            ]),\n                            _: 1\n                          }),\n                          _createVNode(_component_ion_item, {\n                            button: \"\",\n                            mode: \"md\",\n                            lines: \"none\",\n                            detail: false\n                          }, {\n                            default: _withCtx(() => [\n                              _hoisted_10,\n                              _createVNode(_component_ion_label, null, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(\"Serveur\")\n                                ]),\n                                _: 1\n                              }),\n                              (_ctx.connectedToServer == 'connected')\n                                ? (_openBlock(), _createBlock(_component_ion_chip, {\n                                    key: 0,\n                                    slot: \"end\",\n                                    color: \"success\"\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createVNode(_component_ion_label, null, {\n                                        default: _withCtx(() => [\n                                          _createTextVNode(\"Connecté\")\n                                        ]),\n                                        _: 1\n                                      })\n                                    ]),\n                                    _: 1\n                                  }))\n                                : (_ctx.connectedToServer == 'connecting')\n                                  ? (_openBlock(), _createBlock(_component_ion_chip, {\n                                      key: 1,\n                                      slot: \"end\",\n                                      color: \"warning\"\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_ion_label, null, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(\"Reconnexion\")\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }))\n                                  : (_ctx.connectedToServer == 'disconnected')\n                                    ? (_openBlock(), _createBlock(_component_ion_chip, {\n                                        key: 2,\n                                        slot: \"end\",\n                                        color: \"danger\"\n                                      }, {\n                                        default: _withCtx(() => [\n                                          _createVNode(_component_ion_label, null, {\n                                            default: _withCtx(() => [\n                                              _createTextVNode(\"Déconnecté\")\n                                            ]),\n                                            _: 1\n                                          })\n                                        ]),\n                                        _: 1\n                                      }))\n                                    : (_openBlock(), _createBlock(_component_ion_chip, {\n                                        key: 3,\n                                        slot: \"end\",\n                                        color: \"medium\"\n                                      }, {\n                                        default: _withCtx(() => [\n                                          _createVNode(_component_ion_label, null, {\n                                            default: _withCtx(() => [\n                                              _createTextVNode(\"En pause\")\n                                            ]),\n                                            _: 1\n                                          })\n                                        ]),\n                                        _: 1\n                                      }))\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true),\n          _createVNode(_component_ion_router_outlet, {\n            ref: \"outlet\",\n            animated: true,\n            animation: _ctx.transition,\n            id: \"main-content\"\n          }, {\n            default: _withCtx(({ Component }) => [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(Component)))\n            ]),\n            _: 1\n          }, 8, [\"animation\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_modal, { ref: \"changelogModal\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_header, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_toolbar, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_title, null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Notes de mise à jour\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_ion_buttons, { slot: \"end\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_ion_button, {\n                        strong: true,\n                        onClick: _ctx.hideChangelog\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"Terminé\")\n                        ]),\n                        _: 1\n                      }, 8, [\"onClick\"])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_ion_content, { class: \"update\" }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_11, [\n                _hoisted_12,\n                _createVNode(_component_ion_list, { inset: \"\" }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.appUpdates.features, (feature, i) => {\n                      return (_openBlock(), _createBlock(_component_ion_item, { key: i }, {\n                        default: _withCtx(() => [\n                          _createElementVNode(\"span\", _hoisted_13, _toDisplayString(feature.icon), 1),\n                          _createVNode(_component_ion_label, { class: \"ion-text-wrap\" }, {\n                            default: _withCtx(() => [\n                              _createElementVNode(\"h2\", null, _toDisplayString(feature.name), 1),\n                              _createElementVNode(\"p\", null, _toDisplayString(feature.description), 1)\n                            ]),\n                            _: 2\n                          }, 1024)\n                        ]),\n                        _: 2\n                      }, 1024))\n                    }), 128))\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_ion_button, {\n                  mode: \"md\",\n                  onClick: _ctx.hideChangelog,\n                  fill: \"solid\",\n                  class: \"endButton\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"Accéder à Papillon\")\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\"]),\n                _hoisted_14\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 512)\n    ]),\n    _: 1\n  }))\n}","\nimport { IonApp, IonContent, IonButton, IonButtons, IonItem, IonLabel, IonList, IonMenu, IonMenuToggle, IonRouterOutlet, IonHeader, IonToolbar, IonSplitPane, toastController, IonSkeletonText, alertController, IonModal, IonThumbnail } from '@ionic/vue';\n\nimport { StatusBar, Style } from '@capacitor/status-bar';\n\nimport { Browser } from '@capacitor/browser';\n\nconst { BackgroundFetch } = require(\"@transistorsoft/capacitor-background-fetch\");\n\nimport { Capacitor } from '@capacitor/core';\n\nconst { version, canal } = require('/package')\n\nimport { defineComponent } from 'vue';\nimport { useRoute } from 'vue-router';\n\nconst { changelog } = require('/src/update')\n\nimport { globeOutline } from 'ionicons/icons';\nimport { AndroidShortcuts } from 'capacitor-android-shortcuts';\n\nimport { createAnimation } from '@ionic/vue';\n\nconst GetUser = require('./functions/fetch/GetUserData');\nconst GetRecap = require('./functions/fetch/GetRecap');\nconst GetToken = require('./functions/login/GetToken');\n\nimport { LocalNotifications } from '@capacitor/local-notifications';\n\nimport { SplashScreen } from '@capacitor/splash-screen';\n\n// defines the user data return interface\ninterface UserData {\n\tstudent: {\n\t\tname: string,\n\t\tavatar: string,\n\t\tine: string,\n\t\tcontact: {\n\t\t\temail: string,\n\t\t\tphone: string\n\t\t}\n\t},\n\tclass: {\n\t\tname: string,\n\t\tschool: string\n\t}\n}\n\nexport default defineComponent({\n\tname: 'App',\n\tcomponents: {\n\t\tIonApp,\n\t\tIonContent,\n\t\tIonItem,\n\t\tIonLabel,\n\t\tIonList,\n\t\tIonMenu,\n\t\tIonMenuToggle,\n\t\tIonRouterOutlet,\n\t\tIonSplitPane,\n\t\tIonHeader,\n\t\tIonToolbar,\n\t\tIonSkeletonText,\n\t\tIonModal,\n\t\tIonThumbnail,\n\t\tIonButtons,\n\t\tIonButton\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloggedIn: localStorage.loggedIn,\n\t\t\tdataLoading: true,\n\t\t\tuserData: {\n\t\t\t\tstudent: {\n\t\t\t\t\tname: '',\n\t\t\t\t\tavatar: '',\n\t\t\t\t\tine: '',\n\t\t\t\t\tcontact: {\n\t\t\t\t\t\temail: '',\n\t\t\t\t\t\tphone: ''\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tclass: {\n\t\t\t\t\tname: '',\n\t\t\t\t\tschool: ''\n\t\t\t\t}\n\t\t\t},\n\t\t\tavatar: '',\n\t\t\tpresentingElement: undefined as any,\n\t\t\tisMenuOpened: false,\n\t\t\tchangeStatusTimeout: true,\n\t\t\tconnectedToServer: \"\",\n\t\t\tshowTransition: undefined as any,\n\t\t\tselectedIndex: 0,\n\t\t}\n\t},\n\tsetup() {\n\t\t// defines the tabs shown in the menu\n\t\t// GLOBAL - Accueil\n\t\tconst appPages = [\n\t\t\t{\n\t\t\t\ttitle: 'Accueil',\n\t\t\t\turl: '/home',\n\t\t\t\ticon: \"home\",\n\t\t\t\tdisabled: false\n\t\t\t}\n\t\t];\n\n\t\t// SKOLENGO\n\t\tif (localStorage.getItem(\"loginService\") === \"skolengo\") {\n\t\t\tappPages.push({\n\t\t\t\t\ttitle: 'Emploi du temps',\n\t\t\t\t\turl: '/timetable',\n\t\t\t\t\ticon: \"calendar_month\",\n\t\t\t\t\tdisabled: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Travail à faire',\n\t\t\t\t\turl: '/homework',\n\t\t\t\t\ticon: \"auto_stories\",\n\t\t\t\t\tdisabled: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Actualités',\n\t\t\t\t\turl: '/news',\n\t\t\t\t\ticon: \"newspaper\",\n\t\t\t\t\tdisabled: false,\n\t\t\t\t})\n\t\t}\n\n\t\t// PRONOTE\n\t\tif (localStorage.getItem(\"loginService\") === \"pronote\") {\n\t\t\tappPages.push({\n\t\t\t\t\ttitle: 'Emploi du temps',\n\t\t\t\t\turl: '/timetable',\n\t\t\t\t\ticon: \"calendar_month\",\n\t\t\t\t\tdisabled: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Travail à faire',\n\t\t\t\t\turl: '/homework',\n\t\t\t\t\ticon: \"auto_stories\",\n\t\t\t\t\tdisabled: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Notes',\n\t\t\t\t\turl: '/grades',\n\t\t\t\t\ticon: \"insights\",\n\t\t\t\t\tdisabled: false,\n\t\t\t\t})\n\n\t\t\tif (localStorage.getItem('viescolaireEnabled') == 'true') {\n\t\t\t\tappPages.push({\n\t\t\t\t\ttitle: 'Vie scolaire',\n\t\t\t\t\turl: '/schoollife',\n\t\t\t\t\ticon: \"gavel\",\n\t\t\t\t\tdisabled: false,\n\t\t\t\t})\n\t\t\t}\n\t\t\tappPages.push({\n\t\t\t\t\ttitle: 'Actualités',\n\t\t\t\t\turl: '/news',\n\t\t\t\t\ticon: \"newspaper\",\n\t\t\t\t\tdisabled: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Conversations',\n\t\t\t\t\turl: '/conversations',\n\t\t\t\t\ticon: \"forum\",\n\t\t\t\t\tdisabled: false,\n\t\t\t\t})\n\t\t}\n\n\t\t// ECOLEDIRECTE\n\t\tif (localStorage.getItem(\"loginService\") === \"ecoledirecte\") {\n\t\t\tconst usercache = localStorage.getItem(\"UserCache\");\n\t\t\tif (usercache != null) {\n\t\t\t\tconst JSONUserCache = JSON.parse(usercache);\n\t\t\t\tJSONUserCache.modules.forEach((module1: any) => {\n\t\t\t\t\tswitch (module1.code) {\n\t\t\t\t\t\tcase \"VIE_SCOLAIRE\":\n\t\t\t\t\t\t\tif (module1.enable) {\n\t\t\t\t\t\t\t\tappPages.push({\n\t\t\t\t\t\t\t\t\ttitle: 'Vie scolaire',\n\t\t\t\t\t\t\t\t\turl: '/schoollife',\n\t\t\t\t\t\t\t\t\ticon: \"gavel\",\n\t\t\t\t\t\t\t\t\tdisabled: false\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"VIE_DE_LA_CLASSE\":\n\t\t\t\t\t\t\tif (module1.enable) {\n\t\t\t\t\t\t\t\tappPages.push({\n\t\t\t\t\t\t\t\t\ttitle: 'Vie de la classe (non dispo.)',\n\t\t\t\t\t\t\t\t\turl: '/classlife',\n\t\t\t\t\t\t\t\t\ticon: \"forum\",\n\t\t\t\t\t\t\t\t\tdisabled: true\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"NOTES\":\n\t\t\t\t\t\t\tif (module1.enable) {\n\t\t\t\t\t\t\t\tappPages.push({\n\t\t\t\t\t\t\t\t\ttitle: 'Notes',\n\t\t\t\t\t\t\t\t\turl: '/grades',\n\t\t\t\t\t\t\t\t\ticon: \"insights\",\n\t\t\t\t\t\t\t\t\tdisabled: false\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"CLOUD\":\n\t\t\t\t\t\t\tif (module1.enable) {\n\t\t\t\t\t\t\t\tappPages.push({\n\t\t\t\t\t\t\t\t\ttitle: 'Cloud (non dispo.)',\n\t\t\t\t\t\t\t\t\turl: '/cloud',\n\t\t\t\t\t\t\t\t\ticon: \"cloud\",\n\t\t\t\t\t\t\t\t\tdisabled: true\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"MESSAGERIE\":\n\t\t\t\t\t\t\tif (module1.enable) {\n\t\t\t\t\t\t\t\tappPages.push({\n\t\t\t\t\t\t\t\t\ttitle: 'Messagerie (non dispo.)',\n\t\t\t\t\t\t\t\t\turl: '/mails',\n\t\t\t\t\t\t\t\t\ticon: \"mail\",\n\t\t\t\t\t\t\t\t\tdisabled: true\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"EDT\":\n\t\t\t\t\t\t\tif (module1.enable) {\n\t\t\t\t\t\t\t\tappPages.push({\n\t\t\t\t\t\t\t\t\ttitle: 'Emploi du temps',\n\t\t\t\t\t\t\t\t\turl: '/timetable',\n\t\t\t\t\t\t\t\t\ticon: \"calendar_month\",\n\t\t\t\t\t\t\t\t\tdisabled: false\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t//documents élèves\n\t\t\t\t\t\tcase \"CAHIER_DE_TEXTES\":\n\t\t\t\t\t\t\tif (module1.enable) {\n\t\t\t\t\t\t\t\tappPages.push({\n\t\t\t\t\t\t\t\t\ttitle: 'Travail à faire',\n\t\t\t\t\t\t\t\t\turl: '/homework',\n\t\t\t\t\t\t\t\t\ticon: \"auto_stories\",\n\t\t\t\t\t\t\t\t\tdisabled: false\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t}\n\t\t}\n\n\t\t// GLOBAL - Paramètres\n\t\tappPages.push({\n\t\t\ttitle: 'Paramètres',\n\t\t\turl: '/settings',\n\t\t\ticon: \"settings\",\n\t\t\tdisabled: false\n\t\t})\n\n\t\tconst route = useRoute();\n\n\t\treturn {\n\t\t\tappCanal: canal,\n\t\t\tappVersion: version,\n\t\t\tappUpdates: changelog,\n\t\t\tappPages,\n\t\t\tlabels: [],\n\t\t\tisSelected: (url: string) => url === route.path ? 'selected' : ''\n\t\t}\n\t},\n\tmethods: {\n\t\tcheckAndroidShortcuts() {\n\t\t\tif(Capacitor.getPlatform() == \"android\") {\n\t\t\t\tAndroidShortcuts.isDynamicSupported().then((result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tAndroidShortcuts.addListener('shortcut', (response: any) => {\n\t\t\t\t\t\t\tswitch (response.data) {\n\t\t\t\t\t\t\t\tcase \"timetable\":\n\t\t\t\t\t\t\t\t\tthis.$router.push('/timetable');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"homework\":\n\t\t\t\t\t\t\t\t\tthis.$router.push('/homework');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"grades\":\n\t\t\t\t\t\t\t\t\tthis.$router.push('/grades');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tasync notify(title: string, body: string) {\n\t\t\tLocalNotifications.schedule({\n\t\t\t\tnotifications: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\tbody: body,\n\t\t\t\t\t\tid: this.randomID(),\n\t\t\t\t\t\tschedule: { at: new Date(Date.now() + 1000) },\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t},\n\t\tasync openURL(url: string) {\n\t\t\tawait Browser.open({\n\t\t\t\turl: url,\n\t\t\t\tpresentationStyle: 'popover',\n\t\t\t});\n\t\t},\n\t\trandomID() {\n\t\t\treturn Math.floor(Math.random() * 100000 + 1000);\n\t\t},\n\t\tasync backgroundFetchEvent(taskId: any) {\n\t\t\tGetToken.default().then(async (token: any) => {\n\t\t\t\tif (token) {\n\t\t\t\t\tGetRecap.default().then(async (recap: any) => {\n\t\t\t\t\t\tif (recap) {\n\t\t\t\t\t\t\t// grades\n\t\t\t\t\t\t\tconst lastGrades = JSON.parse(localStorage.getItem('lastGrades') || '[]');\n\t\t\t\t\t\t\tconst recapGrades = recap.grades.last;\n\n\t\t\t\t\t\t\tif (lastGrades.length === 0) {\n\t\t\t\t\t\t\t\tlocalStorage.setItem('lastGrades', JSON.stringify(recapGrades));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (JSON.stringify(lastGrades[0]) == JSON.stringify(recapGrades[0])) {\n\t\t\t\t\t\t\t\t// get last grade\n\t\t\t\t\t\t\t\tconst lastGrade = recapGrades[0];\n\t\t\t\t\t\t\t\tlet description = lastGrade.info.description\n\n\t\t\t\t\t\t\t\t// get grade as 20\n\t\t\t\t\t\t\t\tconst gradeAs20 = Math.round((lastGrade.grade.value / lastGrade.grade.out_of) * 20);\n\n\t\t\t\t\t\t\t\tconst reactions = {\n\t\t\t\t\t\t\t\t\t0: 'Bon... 💀',\n\t\t\t\t\t\t\t\t\t5: 'Aïe aïe aïe... 😤',\n\t\t\t\t\t\t\t\t\t10: 'Peut-être une prochaine fois... 🫡',\n\t\t\t\t\t\t\t\t\t12: 'Bien joué 👍',\n\t\t\t\t\t\t\t\t\t14: 'Sympa ! 👌',\n\t\t\t\t\t\t\t\t\t17: 'Bravo ! 🤩',\n\t\t\t\t\t\t\t\t\t18: 'Félicitations ! 👏',\n\t\t\t\t\t\t\t\t\t20: 'Champagne ! 🍾'\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlet reaction = '';\n\n\t\t\t\t\t\t\t\t// get reaction if gradeAs20 is over a certain value\n\t\t\t\t\t\t\t\tfor (const [key, value] of Object.entries(reactions)) {\n\t\t\t\t\t\t\t\t\tif (gradeAs20 >= parseInt(key)) {\n\t\t\t\t\t\t\t\t\t\treaction = value;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (description.trim() === '') {\n\t\t\t\t\t\t\t\t\tdescription = 'votre nouvelle note.';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tdescription = '\"' + description + '\".';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.notify(\n\t\t\t\t\t\t\t\t\t'Nouvelle note en ' + lastGrade.info.subject,\n\t\t\t\t\t\t\t\t\t'Vous avez eu ' + lastGrade.grade.value + '/' + lastGrade.grade.out_of + ' sur ' + description + ' ' + reaction\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tlocalStorage.setItem('lastGrades', JSON.stringify(recapGrades));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait BackgroundFetch.finish(taskId);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tasync configureBackgroundFetch() {\n\t\t\tawait BackgroundFetch.configure({ minimumFetchInterval: 15 }, async (taskId: any) => {\n\t\t\t\tconsole.log('[js] BackgroundFetch event received: ', taskId);\n\n\t\t\t\ttry {\n\t\t\t\t\tthis.backgroundFetchEvent(taskId);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t\tawait BackgroundFetch.finish(taskId);\n\t\t\t\t}\n\t\t\t}, () => {\n\t\t\t\tconsole.error('[js] RNBackgroundFetch failed to start');\n\t\t\t});\n\t\t},\n\t\tcheckIosShortcuts() {\n\t\t\treturn false;\n\t\t},\n\t\tRGBToHSL(r: number, g: number, b: number) {\n\t\t\tr /= 255;\n\t\t\tg /= 255;\n\t\t\tb /= 255;\n\t\t\tconst l = Math.max(r, g, b);\n\t\t\tconst s = l - Math.min(r, g, b);\n\t\t\tconst h = s\n\t\t\t\t? l === r\n\t\t\t\t\t? (g - b) / s\n\t\t\t\t\t: l === g\n\t\t\t\t\t\t? 2 + (b - r) / s\n\t\t\t\t\t\t: 4 + (r - g) / s\n\t\t\t\t: 0;\n\t\t\treturn [\n\t\t\t\t60 * h < 0 ? 60 * h + 360 : 60 * h,\n\t\t\t\t100 * (s ? (l <= 0.5 ? s / (2 * l - s) : s / (2 - (2 * l - s))) : 0),\n\t\t\t\t(100 * (2 * l - s)) / 2,\n\t\t\t];\n\t\t},\n\t\tasync presentToast(header: string, msg: string, color: string, icon: any) {\n\t\t\tconst toast = await toastController.create({\n\t\t\t\theader: header,\n\t\t\t\tduration: 2000,\n\t\t\t\tposition: \"top\",\n\t\t\t\tcolor: color,\n\t\t\t\ticon: icon,\n\t\t\t\tcssClass: \"toast-small\",\n\t\t\t});\n\n\t\t\tawait toast.present();\n\t\t},\n\t\tgetUserData() {\n\t\t\t// get user data\n\t\t\tthis.dataLoading = true;\n\t\t\tGetUser.default().then((data: UserData) => {\n\t\t\t\tthis.userData = data;\n\n\t\t\t\tif (data.student) {\n\t\t\t\t\tthis.dataLoading = false;\n\t\t\t\t}\n\n\t\t\t\tif (!localStorage.getItem('avatarCache')) {\n\t\t\t\t\tthis.avatar = data.student.avatar;\n\t\t\t\t}\n\n\t\t\t\t// check if user has custom name\n\t\t\t\tif (localStorage.getItem('customName')) {\n\t\t\t\t\tthis.userData.student.name = localStorage.getItem('customName') as string;\n\t\t\t\t}\n\n\t\t\t\t// set userData in localStorage\n\t\t\t\tif (data !== undefined) {\n\t\t\t\t\tlocalStorage.userData = JSON.stringify(data);\n\n\t\t\t\t\tdocument.dispatchEvent(new CustomEvent('userDataLoaded'));\n\t\t\t\t}\n\n\t\t\t\t// put last word of this.userData.student.name first\n\t\t\t\tconst name = this.userData.student.name.split(' ');\n\t\t\t\tconst lastName = name[name.length - 1];\n\t\t\t\tname.pop();\n\t\t\t\tname.unshift(lastName);\n\t\t\t\tthis.userData.student.name = name.join(' ');\n\t\t\t});\n\t\t},\n\t\tchangePage(url: string, index: number) {\n\t\t\tconsole.log(index);\n\n\t\t\t// change index\n\t\t\tthis.selectedIndex = index;\n\n\t\t\t// close menu\n\t\t\tconst menu = document.querySelector('ion-menu');\n\t\t\tsetTimeout(() => {\n\t\t\t\tmenu?.toggle();\n\t\t\t}, 100);\n\t\t},\n\t\tasync askNotifPerms() {\n\t\t\tawait LocalNotifications.requestPermissions();\n\t\t},\n\t\tasync TestNotif() {\n\t\t\tconst toast = await toastController.create({\n\t\t\t\theader: \"Bonjour, c'est une notification de test !\",\n\t\t\t\tmessage: \"Exemple de notification\",\n\t\t\t\tduration: 200000,\n\t\t\t\tposition: \"top\",\n\t\t\t\tcolor: \"light\",\n\t\t\t});\n\n\t\t\tawait toast.present();\n\t\t},\n\t\ttransition(baseEl: any, opts: any) {\n\t\t\tconst enteringAnimation = createAnimation()\n\t\t\t\t.addElement(opts.enteringEl)\n\t\t\t\t.fromTo('opacity', 0, 1)\n\t\t\t\t.fromTo('transform', 'scale(0.9)', 'scale(1)')\n\t\t\t\t.fromTo('filter', 'blur(15px)', 'blur(0px)')\n\t\t\t\t.easing('cubic-bezier(.66,-0.01,0,1)')\n\t\t\t\t.duration(400);\n\n\t\t\tconst leavingAnimation = createAnimation()\n\t\t\t\t.addElement(opts.leavingEl)\n\t\t\t\t.fromTo('opacity', 1, 0)\n\t\t\t\t.fromTo('transform', 'scale(1)', 'scale(1.05)')\n\t\t\t\t.fromTo('filter', 'blur(0px)', 'blur(15px)')\n\t\t\t\t.easing('cubic-bezier(1,0,1,.99)')\n\t\t\t\t.duration(200);\n\n\t\t\tconst animation = createAnimation()\n\t\t\t\t.addAnimation(enteringAnimation)\n\t\t\t\t.addAnimation(leavingAnimation);\n\n\t\t\treturn animation;\n\t\t},\n\t\tasync menuOpened(isOpen: boolean) {\n\t\t\tif(Capacitor.getPlatform() !== 'web') {\n\t\t\t\tif (isOpen) {\n\t\t\t\t\tStatusBar.setStyle({ style: Style.Dark })\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (this.changeStatusTimeout) {\n\t\t\t\t\t\tStatusBar.setStyle({ style: Style.Default })\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif (this.isMenuOpened == true) {\n\t\t\t\t\t\t\tStatusBar.setStyle({ style: Style.Dark })\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 500);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync displayDevMsg() {\n\t\t\tconst alert = await alertController.create({\n\t\t\t\theader: 'Version de développement',\n\t\t\t\tmessage: 'Papillon fonctionne actuellement en mode développement. Certaines fonctionnalités ne sont pas encore terminées et risquent de ne pas fonctionner correctement.',\n\t\t\t\tmode: 'md',\n\t\t\t\tbuttons: ['Je comprends']\n\t\t\t});\n\n\t\t\tawait alert.present();\n\t\t},\n\t\tasync displayDevMessage() {\n\t\t\tconst alert = await alertController.create({\n\t\t\t\theader: 'Fonctionnalité non disponible',\n\t\t\t\tmessage: \"Cette fonctionnalité n'est pas disponible pour le moment. Elle le sera prochainement.\",\n\t\t\t\tmode: 'md',\n\t\t\t\tbuttons: ['Je comprends']\n\t\t\t});\n\n\t\t\tawait alert.present();\n\t\t},\n\t\tshowChangelog() {\n\t\t\t// update version\n\t\t\tlocalStorage.setItem('version', this.appVersion);\n\n\t\t\t// show changelog\n\t\t\tconst changelogModal = (this.$refs.changelogModal as any).$el;\n\t\t\tchangelogModal.present();\n\t\t},\n\t\thideChangelog() {\n\t\t\tconst changelogModal = (this.$refs.changelogModal as any).$el;\n\t\t\tchangelogModal.dismiss();\n\t\t},\n\t\tsetSelectedIndex(path: string) {\n\t\t\t// find index of page in appPages\n\t\t\tconst index = this.appPages.findIndex((page) => {\n\t\t\t\treturn page.url == path;\n\t\t\t});\n\n\t\t\t// change index\n\t\t\tthis.selectedIndex = index;\n\t\t},\n\t},\n\twatch: {\n\t\t$route(to, /*from*/) {\n\t\t\tconst path = to.path;\n\t\t\tthis.setSelectedIndex(path);\n\t\t}\n\t},\n\tmounted() {\n\t\t// get current page from URL\n\t\tconst currentUrl = window.location.pathname;\n\t\tthis.setSelectedIndex(currentUrl);\n\n\t\t// hide splash screen when dom is loaded\n\t\tthis.$nextTick(function () {\n\t\t\tsetTimeout(() => {\n\t\t\t\tSplashScreen.hide();\n\t\t\t}, 220);\n\t\t})\n\n\t\t// shortcuts\n\t\tif (Capacitor.getPlatform() === 'android') {\n\t\t\tthis.checkAndroidShortcuts();\n\t\t}\n\t\telse if (Capacitor.getPlatform() === 'ios') {\n\t\t\tthis.checkIosShortcuts();\n\t\t\tthis.configureBackgroundFetch();\n\t\t}\n\n\t\t// user data if logged in\n\t\tif (localStorage.loggedIn) {\n\t\t\tthis.getUserData();\n\t\t}\n\n\t\tlet lastRefesh = new Date();\n\n\t\tdocument.addEventListener('connectionState', (e: any) => {\n\t\t\tconst state = e.detail;\n\t\t\tthis.connectedToServer = state;\n\n\t\t\tlastRefesh = new Date();\n\t\t});\n\n\t\t// check if lastRefesh is older than 5 minutes\n\t\tsetInterval(() => {\n\t\t\tconst now = new Date();\n\t\t\tconst diff = now.getTime() - lastRefesh.getTime();\n\t\t\tconst minutes = Math.floor((diff / 1000) / 60);\n\n\t\t\tif (minutes >= 5) {\n\t\t\t\tthis.connectedToServer = \"paused\";\n\t\t\t}\n\t\t}, 1000);\n\n\t\tdocument.addEventListener('tokenUpdated', () => {\n\t\t\tthis.getUserData();\n\t\t});\n\n\t\t// if avatarCache is set, make it the avatar\n\t\tif (localStorage.getItem('customAvatar')) {\n\t\t\tthis.avatar = localStorage.getItem('customAvatar') as string;\n\t\t}\n\t\telse if (localStorage.getItem('avatarCache')) {\n\t\t\tthis.avatar = localStorage.getItem('avatarCache') as string;\n\t\t}\n\n\t\tdocument.addEventListener('userDataUpdated', () => {\n\t\t\tif (localStorage.getItem('customAvatar')) {\n\t\t\t\tthis.avatar = localStorage.getItem('customAvatar') as string;\n\t\t\t}\n\t\t\telse if (localStorage.getItem('avatarCache')) {\n\t\t\t\tthis.avatar = localStorage.getItem('avatarCache') as string;\n\t\t\t}\n\n\t\t\t// check if user has custom name\n\t\t\tif (localStorage.getItem('customName')) {\n\t\t\t\tthis.userData.student.name = localStorage.getItem('customName') as string;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.getUserData();\n\t\t\t}\n\t\t});\n\n\t\t// check internet connection\n\t\twindow.addEventListener('online', () => {\n\t\t\tthis.presentToast('Vous êtes de nouveau connecté.', 'Certaines informations nécessiteront peut-être un rafraîchissement.', 'success', globeOutline)\n\t\t\tdocument.dispatchEvent(new CustomEvent('connectionState', { detail: 'paused' }));\n\t\t});\n\n\t\twindow.addEventListener('offline', () => {\n\t\t\tthis.presentToast('Vous n\\'êtes plus connecté à Internet.', 'Vous n\\'aurez accès qu\\'aux informations déjà téléchargées.', 'danger', globeOutline)\n\t\t\tdocument.dispatchEvent(new CustomEvent('connectionState', { detail: 'disconnected' }));\n\t\t});\n\n\t\t// check if online\n\t\tif (!navigator.onLine) {\n\t\t\tthis.presentToast('Vous n\\'êtes pas connecté à Internet.', 'Vous n\\'aurez accès qu\\'aux informations déjà téléchargées.', 'danger', globeOutline)\n\t\t\tdocument.dispatchEvent(new CustomEvent('connectionState', { detail: 'disconnected' }));\n\t\t}\n\n\t\tthis.askNotifPerms();\n\n\t\t// on settingsUpdated event, setup the app\n\t\tdocument.addEventListener('settingsUpdated', () => {\n\t\t\t// if viescolaireEnabled is set to false, remove school life tab\n\t\t\tif (localStorage.getItem('viescolaireEnabled') !== 'true') {\n\t\t\t\t// remove school life tab\n\t\t\t\tif(!this.appPages.find(p => p.title === \"Vie scolaire\")) return;\n\t\t\t\tthis.appPages.splice(3, 1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// add school life tab\n\t\t\t\tif(this.appPages.find(p => p.title === \"Vie scolaire\")) return;\n\t\t\t\tthis.appPages.splice(3, 0, {\n\t\t\t\t\ttitle: 'Vie scolaire',\n\t\t\t\t\turl: '/schoollife',\n\t\t\t\t\ticon: \"gavel\",\n\t\t\t\t\tdisabled: false\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// apply customizations\n\t\tif (localStorage.getItem('customizations')) {\n\t\t\tconst customizations = JSON.parse(localStorage.getItem('customizations') as string);\n\n\t\t\tif (customizations.color) {\n\t\t\t\tdocument.body.style.setProperty('--ion-color-primary', customizations.color.color.hex);\n\t\t\t\tdocument.body.style.setProperty('--ion-color-primary-rgb', customizations.color.color.rgb);\n\t\t\t}\n\t\t}\n\n\t\t// check current version in local storage\n\t\tif (localStorage.getItem('version')) {\n\t\t\tif (localStorage.getItem('version') !== this.appVersion) {\n\t\t\t\tthis.showChangelog();\n\t\t\t}\n\t\t}\n\t\telse if (!this.loggedIn) {\n\t\t\t// do nothing\n\t\t}\n\t\telse {\n\t\t\t// this.showChangelog();\n\t\t}\n\n\t\tdocument.addEventListener('showChangelog', () => {\n\t\t\tthis.showChangelog();\n\t\t})\n\n\t\tdocument.addEventListener('navTransitionEnable', (e: any) => {\n\t\t\tthis.showTransition = undefined;\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.showTransition = this.transition;\n\t\t\t}, 200);\n\n\t\t\tconsole.log('navTransitionEnable', e.detail);\n\t\t});\n\t}\n});\n","import { render } from \"./App.vue?vue&type=template&id=f9449056&scoped=true&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=f9449056&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f9449056\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { ref, onMounted } from 'vue';\n\timport { IonPage, IonNav } from '@ionic/vue';\n\timport App from './App.vue';\n\t\n\t\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MainApp',\n  setup(__props) {\n\n\tconst nav = ref(null)\n\n\tonMounted(() => {\n\t\t(window as any).nav = nav;\n\t})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonPage), null, {\n    default: _withCtx(() => [\n      _createVNode(_unref(IonNav), {\n        ref_key: \"nav\",\n        ref: nav,\n        root: App,\n        swipeGesture: true\n      }, null, 512)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./MainApp.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MainApp.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createRouter, createWebHistory } from '@ionic/vue-router';\nimport type { RouteRecordRaw } from 'vue-router';\n\ntype Routes = RouteRecordRaw[]\n\nconst loginRoutes: Routes = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: () => import ('../views/login/LoginSetup.vue')\n  }\n]\n\nconst routes: Routes = [\n  ...loginRoutes,\n  {\n    path: '',\n    redirect: '/home'\n  },\n  {\n    path: '/home',\n    name: 'Home',\n    component: () => import ('../views/homepage/HomepageSetup.vue')\n  },\n  {\n    path: '/timetable',\n    name: 'Timetable',\n    component: () => import ('../views/timetable/TimetableSetup.vue')\n  },\n  {\n    path: '/homework',\n    name: 'Homework',\n    component: () => import ('../views/homework/HomeworkSetup.vue')\n  },\n  {\n    path: '/homework/hw/:hw?',\n    props: true,\n    name: 'HomeworkItem',\n    component: () => import ('../views/homework/HomeworkItemView.vue')\n  },\n  {\n    path: '/grades',\n    name: 'Grades',\n    component: () => import ('../views/grades/GradesSetup.vue')\n  },\n  {\n    path: '/grades/:markID',\n    props: true,\n    name: 'Mark',\n    component: () => import ('../views/grades/MarkView.vue')\n  },\n  {\n    path: '/schoollife',\n    name: 'Schoollife',\n    component: () => import ('../views/schoollife/SchoollifeSetup.vue')\n  },\n  {\n    path: '/conversations',\n    name: 'Conversations',\n    component: () => import ('../views/chat/ChatView.vue')\n  },\n  {\n    path: '/chat/:conversationID',\n    props: true,\n    name: 'chat',\n    component: () => import ('../views/chat/ConversationView.vue')\n  },\n  {\n    path: '/news',\n    name: 'News',\n    component: () => import ('../views/news/NewsView.vue')\n  },\n  {\n    path: '/news/info/:urlNews',\n    props: true,\n    name: 'Info',\n    component: () => import ('../views/news/InfoView.vue')\n  },\n  {\n    path: '/settings',\n    name: 'Settings',\n    component: () => import ('../views/settings/SettingsSetup.vue')\n  },\n  \n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nrouter.beforeEach(async (to) => {\n  if (localStorage.loggedIn !== \"true\" && to.name !== 'Login') {\n    return { name: 'Login' }\n  }\n})\n\nexport default router\n","// Necessary imports for Vue\nimport { createApp } from 'vue'\n// Define MainApp.vue as the main component\nimport MainApp from './MainApp.vue'\nimport router from './router';\n\nimport VueLazyload from \"vue-lazyload\";\n\nimport { IonicVue } from '@ionic/vue';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/vue/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/vue/css/normalize.css';\nimport '@ionic/vue/css/structure.css';\nimport '@ionic/vue/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/vue/css/padding.css';\nimport '@ionic/vue/css/float-elements.css';\nimport '@ionic/vue/css/text-alignment.css';\nimport '@ionic/vue/css/text-transformation.css';\nimport '@ionic/vue/css/flex-utils.css';\nimport '@ionic/vue/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\nimport './theme/fixes.css';\nimport './theme/fonts.css';\nimport './theme/theme.css';\n\n// TypeScript custom components\nrequire('@/functions/app.ts');\n\nexport const app = createApp(MainApp)\n\t.use(IonicVue)\n\t.use(VueLazyload)\n\t.use(router);\n\t\nrouter.isReady().then(() => {\n\tapp.mount('#app');\n});\n\n// Global vars in Vue\napp.config.globalProperties.$rn = new Date;\napp.config.globalProperties.$api = localStorage.getItem('customApiUrl') || \"https://api.getpapillon.xyz\";\n","// modules\nimport axios from 'axios';\n\n// vars\nimport { app } from '@/main.ts'\nimport GetToken from '@/functions/login/GetToken.js';\n\nimport subjectColor from '@/functions/utils/subjectColor.js'\nimport * as moment from \"moment\";\nimport displayToast from \"@/functions/utils/displayToast\";\n// funcs\nfunction isFloat(n){\n\treturn Number(n) === n && n % 1 !== 0;\n}\n\n// main function\nasync function getGrades(forceReload) {\n\tswitch(localStorage.loginService) {\n        case \"pronote\":    \n            // return pronote grades\n\t\t\treturn getPronoteGrades(forceReload);\n\t\tcase \"ecoledirecte\":\n            return getEDGrades(forceReload);\n    }\n}\n\n// pronote : get grades\nfunction getPronoteGrades(forceReload) {\n\t// gather vars\n\tconst API = app.config.globalProperties.$api;\n\n\t// get token\n\tconst token = localStorage.getItem('token');\n\n\t// construct url (date is a TEST date)\n\tconst URL = `${API}/grades?token=${token}`;\n\n\t// check if grade is cached\n\tlet gradeCache = localStorage.getItem('GradeCache');\n\n\tif(gradeCache != null && !forceReload) {\n\t\t// grade is cached, check if it's up to date\n\t\tgradeCache = JSON.parse(gradeCache);\n\n\t\tconst today = new Date();\n\t\tconst cacheDate = new Date(gradeCache.date);\n\n\t\tif(today.toDateString() == cacheDate.toDateString()) {\n\t\t\t// grade is up to date, return it\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tresolve(constructPronoteGrades(gradeCache.grades));\n\t\t\t});\n\t\t}\n\t}\n\n\t// send request\n\treturn axios.get(URL)\n\t\t.then((response) => {\n\t\t\tif(response.data == 'expired') {\n\t\t\t\t// token expired, get new token\n\t\t\t\tGetToken();\n\t\t\t}\n\n\t\t\t// save grades to localstorage cache with today's date\n\t\t\tconst today = new Date();\n\t\t\tconst gradeCache = {\n\t\t\t\tdate: today,\n\t\t\t\tgrades: response.data\n\t\t\t}\n\n\t\t\tlocalStorage.setItem('GradeCache', JSON.stringify(gradeCache));\n\n\t\t\t// construct grades and return it as a promise\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tresolve(constructPronoteGrades(response.data));\n\t\t\t});\n\t\t})\n\t\t.catch((error) => {\n\t\t\tif(error.response.status == 498) {\n\t\t\t\t// token expired, get new token\n\t\t\t\tGetToken();\n\t\t\t}\n\n\t\t\t// error, return error\n\t\t\tif(error.code) {\n                // return error code\n                return error.code;\n            }\n\t\t});\n}\n\nfunction determineSignificant(significant, service) {\n\tconst result = {\n\t\tsignificant: true,\n\t\tsignificantReason: null,\n\t\tsignificantZero: false,\n\t}\n\n\tif (service == 'pronote') {\n\t\tswitch (significant) {\n\t\t\tcase 0:\n\t\t\t\tresult.significant = true;\n\t\t\t\tresult.significantReason = null;\n\t\t\t\tresult.significantZero = false;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tresult.significant = false;\n\t\t\t\tresult.significantReason = \"Abs.\";\n\t\t\t\tresult.significantZero = false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tresult.significant = false;\n\t\t\t\tresult.significantReason = \"Disp.\";\n\t\t\t\tresult.significantZero = false;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tresult.significant = false;\n\t\t\t\tresult.significantReason = \"N.Not\";\n\t\t\t\tresult.significantZero = false;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tresult.significant = false;\n\t\t\t\tresult.significantReason = \"Inap.\";\n\t\t\t\tresult.significantZero = false;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tresult.significant = false;\n\t\t\t\tresult.significantReason = \"N.Ren\";\n\t\t\t\tresult.significantZero = false;\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tresult.significant = false;\n\t\t\t\tresult.significantReason = \"Abs.\";\n\t\t\t\tresult.significantZero = true;\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\tresult.significant = false;\n\t\t\t\tresult.significantReason = \"N.Ren\";\n\t\t\t\tresult.significantZero = true;\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tresult.significant = false;\n\t\t\t\tresult.significantReason = \"Disp.\";\n\t\t\t\tresult.significantZero = true;\n\t\t\t\tbreak;\n\t\t\tcase -1:\n\t\t\t\tresult.significant = false;\n\t\t\t\tresult.significantReason = null;\n\t\t\t\tresult.significantZero = false;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif(service == 'ecoledirecte') {\n\t\tif(significant.nonSignificatif) {\n\t\t\tresult.significant = false;\n\t\t}\n\t\tif(significant.enLettre) {\n\t\t\tresult.significant = false;\n\t\t\tresult.significantReason =  significant.valeur;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction generateRandomId() {\n\treturn Math.random().toString(36).substr(2, 9).toUpperCase();\n}\n\nfunction groupSubjects(subjectData, markArray) {\n\tlet subject = []\n\tlet subjectName = '';\n\tlet subjectId = '';\n\tlet grouped = false;\n\tlet excluded = false;\n\n\tif (localStorage.getItem('groupSubjects') != 'true') {\n\t\tsubject = markArray.find(subject => subject.id == subjectData.id);\n\t\tsubjectName = subjectData.name;\n\t\tsubjectId = subjectData.id;\n\t} else {\n\t\tif (localStorage.getItem('excludedGroupSubjects') != null) {\n\t\t\tconst excludedGroupSubjects = JSON.parse(localStorage.getItem('excludedGroupSubjects'));\n\t\t\tfor (let i = 0; i < excludedGroupSubjects.length; i++) {\n\t\t\t\tif (subjectData.name.split(' > ')[0] == excludedGroupSubjects[i]) {\n\t\t\t\t\texcluded = true;\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\texcluded = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (excluded) {\n\t\t\tsubject = markArray.find(subject => subject.id == subjectData.id);\n\t\t\tsubjectName = subjectData.name;\n\t\t\tsubjectId = subjectData.id;\n\t\t} else {\n\t\t\tsubject = markArray.find(subject => subject.name == subjectData.name.split(' > ')[0]);\n\t\t\tsubjectName = subjectData.name.split(' > ')[0];\n\t\t\tsubjectId = subjectData.id;\n\n\t\t\tif (subjectData.name.split(' > ').length > 1) {\n\t\t\t\tgrouped = true;\n\t\t\t\tsubjectId = generateRandomId();\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tsubject: subject, \n\t\tsubjectName: subjectName, \n\t\tsubjectId: subjectId, \n\t\tgrouped: grouped,\n\t\texcluded: excluded\n\t}\n}\n\n// pronote : construct grades\nfunction constructPronoteGrades(grades) {    \n\tconst averages = grades.averages;\n\tconst marks = grades.grades;\n\n\tconst markArray = [];\n\n\t// order marks by date\n\tmarks.sort((a, b) => {\n\t\treturn new Date(b.date) - new Date(a.date);\n\t});\n\n\t// for each mark, add it to the corresponding subject in the array\n\tmarks.forEach(mark => {\n\t\t// check if subject exists\n\t\tlet { subject, subjectName, subjectId, grouped, excluded } = groupSubjects(mark.subject, markArray);\n\n\t\tif(subject == undefined) {\n\t\t\t// subject doesn't exist, create it\n\t\t\tsubject = {\n\t\t\t\tname: subjectName,\n\t\t\t\tid: subjectId,\n\t\t\t\tgrouped: grouped,\n\t\t\t\tgrpExcluded: excluded,\n\t\t\t\tmarks: []\n\t\t\t}\n\n\t\t\tmarkArray.push(subject);\n\t\t}\n\n\t\t// add mark to subject\n\t\tconst newMark = {\n\t\t\tid: mark.id,\n\t\t\tinfo: {\n\t\t\t\tsubject: subjectName,\n\t\t\t\tdate: mark.date,\n\t\t\t\tdescription: mark.description || \"Pas d'intitulé\",\n\t\t\t},\n\t\t\tgrade: mark.grade\n\t\t}\n\n\t\t// determine if mark is significant\n\t\tconst significant = determineSignificant(mark.grade.significant, 'pronote');\n\t\tnewMark.info.significant = significant.significant;\n\t\tnewMark.info.significantReason = significant.significantReason;\n\t\tnewMark.info.significantZero = significant.significantZero;\n\n\t\tdelete newMark.grade.significant;\n\n\t\tif (newMark.info.significantZero) {\n\t\t\tnewMark.grade.value = 0;\n\t\t}\n\n\t\tif (!newMark.info.significant && mark.grade.average == -1) {\n\t\t\tnewMark.info.significantAverage = false;\n\t\t} else {\n\t\t\tnewMark.info.significantAverage = true;\n\t\t}\n\n\t\tif (!newMark.info.significant && newMark.info.significantReason == null) {\n\t\t\treturn; // It's an empty mark so don't show it on the tab\n\t\t}\n\n\t\tnewMark.info.outOf20 = mark.is_out_of_20;\n\t\tnewMark.info.bonus = mark.is_bonus;\n\t\tnewMark.info.optional = mark.is_optional;\n\n\t\tnewMark.grade.value = parseFloat(newMark.grade.value).toFixed(2);\n\n\t\tif(isFloat(newMark.grade.average)) {\n\t\t\tnewMark.grade.average = parseFloat(newMark.grade.average).toFixed(2);\n\t\t}\n\t\t\n\t\tif(isFloat(newMark.grade.min)) {\n\t\t\tnewMark.grade.min = parseFloat(newMark.grade.min).toFixed(2);\n\t\t}\n\n\t\tif(isFloat(newMark.grade.max)) {\n\t\t\tnewMark.grade.max = parseFloat(newMark.grade.max).toFixed(2);\n\t\t}\n\n\t\tsubject.marks.push(newMark);\n\t});\n\t\n\t// sort marks by date\n\tmarkArray.forEach(subject => {\n\t\tsubject.marks.sort((a, b) => {\n\t\t\treturn new Date(b.date) - new Date(a.date);\n\t\t});\n\t});\n\n\t// add averages\n\taverages.forEach(average => {\n\t\t// check if subject exists\n\t\t\n\t\tconst { subject, subjectName, subjectId, grouped } = groupSubjects(average.subject, markArray);\n\n\t\tif(subject == undefined) {\n\t\t\t// subject doesn't exist, create it\n\t\t\tconst subject = {\n\t\t\t\tname: subjectName,\n\t\t\t\tid: subjectId,\n\t\t\t\tgrouped: grouped,\n\t\t\t\tmarks: []\n\t\t\t}\n\n\t\t\tmarkArray.push(subject);\n\t\t}\n\n\t\t// determine if average is significant\n\t\tconst significant = determineSignificant(average.significant, 'pronote');\n\t\tsubject.significant = significant.significant;\n\t\tsubject.significantReason = significant.significantReason;\n\t\tsubject.significantZero = significant.significantZero;\n\n\t\tif (subject.significantZero) {\n\t\t\tsubject.average = 0;\n\t\t}\n\n\t\tif (!subject.significant && average.class_average == -1) {\n\t\t\tsubject.significantAverage = false;\n\t\t} else {\n\t\t\tsubject.significantAverage = true;\n\t\t}\n\n\t\t\n\t\tsubject.color = subjectColor.getSubjectColor(subjectName, subjectColor.getRandomColor()),\n\t\tsubject.class = {};\n\n\t\tif (!subject.grouped) {\n\t\t\tsubject.class.average = average.class_average;\n\t\t\tsubject.class.min = average.min;\n\t\t\tsubject.class.max = average.max;\n\t\t\tsubject.average = average.average;\n\t\t} else {\n\t\t\tlet studentAverage = 0;\n\t\t\tlet classAverage = 0;\n\t\t\tlet classMin = 0;\n\t\t\tlet classMax = 0;\n\n\t\t\tsubject.marks.forEach(mark => {\n\t\t\t\tconst coef = mark.grade.coefficient;\n\n\t\t\t\tstudentAverage += mark.grade.value * coef;\n\t\t\t\tclassAverage += mark.grade.average * coef;\n\t\t\t\tclassMin += mark.grade.min * coef;\n\t\t\t\tclassMax += mark.grade.max * coef;\n\t\t\t});\n\n\t\t\tsubject.average = parseFloat((studentAverage / subject.marks.reduce((a, b) => a + (b.grade.coefficient * b.grade.out_of), 0) * 20).toFixed(2));\n\t\t\tsubject.class.average = parseFloat((classAverage / subject.marks.reduce((a, b) => a + (b.grade.coefficient * b.grade.out_of), 0) * 20).toFixed(2));\n\t\t\tsubject.class.min = parseFloat((classMin / subject.marks.reduce((a, b) => a + (b.grade.coefficient * b.grade.out_of), 0) * 20).toFixed(2));\n\t\t\tsubject.class.max = parseFloat((classMax / subject.marks.reduce((a, b) => a + (b.grade.coefficient * b.grade.out_of), 0) * 20).toFixed(2));\n\t\t}\n\t});\n\n\t// calculate averages for each subject in markArray\n\tlet studentAverage = 0;\n\tlet classAverage = 0;\n\tlet classMin = 0;\n\tlet classMax = 0;\n\n\tmarkArray.forEach(subject => {\n\t\tstudentAverage += subject.average;\n\t\tclassAverage += subject.class.average;\n\t\tclassMin += subject.class.min;\n\t\tclassMax += subject.class.max;\n\t});\n\n\tstudentAverage /= markArray.length;\n\tclassAverage /= markArray.length;\n\tclassMin /= markArray.length;\n\tclassMax /= markArray.length;\n\n\tif (studentAverage != -1 && studentAverage != undefined) {\n\t\tstudentAverage = grades.overall_average;\n\t}\n\n\tif (grades.class_overall_average != -1 && grades.class_overall_average != undefined) {\n\t\tclassAverage = grades.class_overall_average;\n\t}\n\n\tconst avgs = {\n\t\taverage: studentAverage,\n\t\tclass: {\n\t\t\taverage: classAverage,\n\t\t\tmin: classMin,\n\t\t\tmax: classMax\n\t\t}\n\t}\n\n\t// order all subjects by first mark date\n\tmarkArray.sort((a, b) => {\n\t\treturn new Date(a.marks[0].date) - new Date(b.marks[0].date);\n\t});\n\n\n\tconst finalArray = {\n\t\tmarks: markArray,\n\t\taverages: avgs\n\t}\n\t\n\treturn finalArray;\n}\n\n// ecoledirecte : get grades\nfunction getEDGrades(forceReload) {\n\t// gather vars\n\tconst EDAPI = \"https://api.ecoledirecte.com/v3\"\n\tconsole.log(\"Getting grades from ecoledirecte\")\n\n\t// get token\n\tconst token = localStorage.getItem('token');\n\n\tconst userID = JSON.parse(localStorage.UserCache).id;\n\t// construct url (date is a TEST date)\n\tconst URL = `${EDAPI}/eleves/${userID}/notes.awp?verbe=get`;\n\n\t// check if grade is cached\n\tlet gradeCache = localStorage.getItem('GradeCache');\n\n\tif(gradeCache != null && !forceReload) {\n\t\t// grade is cached, check if it's up to date\n\t\tgradeCache = JSON.parse(gradeCache);\n\n\t\tconst today = new Date();\n\t\tconst cacheDate = new Date(gradeCache.date);\n\n\t\tif(today.toDateString() == cacheDate.toDateString()) {\n\t\t\t// grade is up to date, return it\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tresolve(constructEDGrades(gradeCache.grades));\n\t\t\t});\n\t\t}\n\t}\n\n\tconst requestOptions = {\n\t\theaders: { \"Content-Type\": \"application/x-www-form-urlencoded\", \"X-Token\": token },            \n\t};\n\tconst body = `data={}`\n\n\t// send request\n\treturn axios.post(URL, body, requestOptions).then((response) => {\n\t\tif (response.data.code != 200) {\n\t\t\tif (response.data.code === 525) {\n\t\t\t\t// get new token\n\t\t\t\tGetToken();\n\t\t\t} else if(response.data.code === 520) {\n\t\t\t\tGetToken();\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn new Promise((reject) => {\n\t\t\t\t\treject({\n\t\t\t\t\t\terror: response.data.code\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// save grades to localstorage cache with today's date\n\t\tconst today = new Date();\n\t\tconst gradeCache = {\n\t\t\tdate: today,\n\t\t\tgrades: response.data.data\n\t\t}\n\n\t\tlocalStorage.setItem('GradeCache', JSON.stringify(gradeCache));\n\n\t\t// construct grades and return it as a promise\n\t\treturn new Promise((resolve) => {\n\t\t\tresolve(constructEDGrades(response.data.data));\n\t\t});\n\t})\n}\n\n/*\n=================================\nPLEASE UNCOMMENT THIS WHEN NEEDED\n=================================\n\nfunction groupEDSubjects(subjectData, markArray) {\n\tlet subject = []\n\tlet subjectName = '';\n\tlet subjectId = '';\n\tlet grouped = false;\n\tlet excluded = false;\n\n\tconsole.log(\"GROUP ED SUBJECTS\")\n\n\tif (localStorage.getItem('groupSubjects') != 'true') {\n\t\tsubject = markArray.find(subject => subject.id == subjectData.id);\n\t\tsubjectName = subjectData.discipline;\n\t\tsubjectId = subjectData.id;\n\t} else {\n\t\tsubject = markArray.find(subject => subject.id == subjectData.id);\n\t\tsubjectName = subjectData.discipline;\n\t\tsubjectId = subjectData.id;\n\t}\n\t\n\t\n\t\n\t\n\t/* else {\n\t\tif (localStorage.getItem('excludedGroupSubjects') != null) {\n\t\t\tlet excludedGroupSubjects = JSON.parse(localStorage.getItem('excludedGroupSubjects'));\n\t\t\tfor (let i = 0; i < excludedGroupSubjects.length; i++) {\n\t\t\t\tif (subjectData.discipline.split(' > ')[0] == excludedGroupSubjects[i]) {\n\t\t\t\t\texcluded = true;\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\texcluded = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (excluded) {\n\t\t\tsubject = markArray.find(subject => subject.id == subjectData.id);\n\t\t\tsubjectName = subjectData.discipline;\n\t\t\tsubjectId = subjectData.id;\n\t\t} else {\n\t\t\tsubject = markArray.find(subject => subject.discipline == subjectData.discipline.split(' > ')[0]);\n\t\t\tsubjectName = subjectData.discipline.split(' > ')[0];\n\t\t\tsubjectId = subjectData.id;\n\n\t\t\tif (subjectData.discipline.split(' > ').length > 1) {\n\t\t\t\tgrouped = true;\n\t\t\t\tsubjectId = generateRandomId();\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tsubject: subject, \n\t\tsubjectName: subjectName, \n\t\tsubjectId: subjectId, \n\t\tgrouped: grouped,\n\t\texcluded: excluded\n\t}\n}\n\n*/\n\n// ecoledirecte : construct grades\nfunction constructEDGrades(grades) {   \n\tconsole.log(\"Building grades\") \n\tconst marks = grades.notes;\n\tif(!grades.periodes){\n\t\tdisplayToast.presentError(\"Impossible de construire les notes.\", \"danger\", \"[ED] Auth failed. Essayez d'actualiser manuellement pour résoudre le problème.\")\n\t\treturn {\n\t\t\tmarks: [],\n\t\t\taverages: []\n\t\t}\n\t} \n\tconst allPeriods = JSON.parse(localStorage.getItem('periodsCache'));\n\tconst actualPeriodID = allPeriods.find(period => period.actual == true).id;\n\tconst actualPeriod = grades.periodes.find(period => period.idPeriode == actualPeriodID);\n\n\tconst matieres = actualPeriod.ensembleMatieres.disciplines\n\n\tconst markArray = [];\n\n\t// order marks by date\n\tmarks.sort((a, b) => {\n\t\treturn new Date(b.date) - new Date(a.date);\n\t});\n\tmatieres.forEach(matiere => {\n\t\tconst subject = {\n\t\t\tdata: matiere,\n\t\t\tcodeMatiere: matiere.codeMatiere,\n\t\t\tname: matiere.discipline,\n\t\t\tid: matiere.id,\n\t\t\tgrouped: matiere.groupeMatiere,\n\t\t\tclass: {},\n\t\t\tcolor: subjectColor.getSubjectColor(matiere.discipline, subjectColor.getRandomColor()),\n\t\t\tmarks: [],\n\t\t\taverage: parseFloat(matiere.moyenne.replace(\",\", \".\")),\n\t\t\tsignificant: true\n\t\t}\n\t\tmarkArray.push(subject);\n\t})\n\tlet currentPeriod;\n\tif(localStorage.getItem(\"currentPeriod\")) {\n\t\tlet currentPeriodConstruct = JSON.parse(localStorage.getItem(\"currentPeriod\"))\n\t\tlet currentPeriodConstruct1 = grades.periodes.filter(p => p.idPeriode === currentPeriodConstruct.id)\n\t\tcurrentPeriod = {\n\t\t\t...currentPeriodConstruct,\n\t\t\t...currentPeriodConstruct1\n\t\t}\n\t}\n\telse {\n\t\tlet allPeriods = JSON.parse(localStorage.getItem('userData')).periods;\n\t\tlet actualPeriod = allPeriods.find(period => period.actual == true);\n\t\tlet actualPeriod1 = grades.periodes.filter(p => p.idPeriode === actualPeriod.id)\n\t\tcurrentPeriod = {\n\t\t\t...actualPeriod,\n\t\t\t...actualPeriod1\n\t\t}\n\t}\n\t\n\t// for each mark, add it to the corresponding subject in the array\n\tmarks.forEach(mark => {\n\t\tif(mark.codePeriode != currentPeriod.id) return;\n\t\t// add mark to subject\n\t\tconst newMark = {\n\t\t\tid: mark.id,\n\t\t\tinfo: {\n\t\t\t\tsubject: mark.libelleMatiere,\n\t\t\t\tdate: mark.date,\n\t\t\t\tdescription: mark.devoir || \"Pas d'intitulé\",\n\t\t\t\tsignificant: true\n\t\t\t},\n\t\t\tclass: { max: mark.maxClasse, min: mark.minClasse, average: mark.moyenneClasse },\n\t\t\tgrade: { value: parseFloat(mark.valeur.replace(\",\", \".\")), coefficient: parseFloat(mark.coef), average: parseFloat(mark.moyenneClasse), min: parseFloat(mark.minClasse), max: parseFloat(mark.maxClasse), out_of: parseFloat(mark.noteSur) }\n\t\t}\n\n\t\t// determine if mark is significant\n\t\tconst significant = determineSignificant(mark, 'ecoledirecte');\n\t\tnewMark.info.significant = significant.significant;\n\t\tnewMark.info.significantReason = significant.significantReason;\n\t\tnewMark.info.significantZero = significant.significantZero;\n\n\t\t//delete newMark.grade.significant;\n\n\t\tif (newMark.info.significantZero) {\n\t\t\tnewMark.grade.value = 0;\n\t\t}\n\n\t\tif (!newMark.info.significant && newMark.grade.average == -1) {\n\t\t\tnewMark.info.significantAverage = false;\n\t\t} else {\n\t\t\tnewMark.info.significantAverage = true;\n\t\t}\n\n\t\tif (!newMark.info.significant && newMark.info.significantReason == null) {\n\t\t\treturn; // It's an empty mark so don't show it on the tab\n\t\t}\n\n\t\tif(mark.noteSur == \"20\") {\n\t\t\tnewMark.info.outOf20 = 20;\n\t\t}\n\t\t\n\t\t//newMark.info.bonus = mark.is_bonus;\n\t\t//newMark.info.optional = mark.is_optional;\n\n\t\tnewMark.grade.value = parseFloat(newMark.grade.value).toFixed(2);\n\n\t\tif(isFloat(newMark.grade.average)) {\n\t\t\tnewMark.grade.average = parseFloat(newMark.grade.average).toFixed(2);\n\t\t}\n\t\t\n\t\tif(isFloat(newMark.grade.min)) {\n\t\t\tnewMark.grade.min = parseFloat(newMark.grade.min).toFixed(2);\n\t\t}\n\n\t\tif(isFloat(newMark.grade.max)) {\n\t\t\tnewMark.grade.max = parseFloat(newMark.grade.max).toFixed(2);\n\t\t}\n\n\t\tconst subject = markArray.find(matiere => matiere.codeMatiere == mark.codeMatiere)\n\t\tsubject.marks.push(newMark);\n\t});\n\t\n\t// sort marks by date\n\tmarkArray.forEach(subject => {\n\t\tsubject.marks.sort((a, b) => {\n\t\t\treturn new Date(b.date) - new Date(a.date);\n\t\t});\n\t});\n\n\t// add averages\n\tmarkArray.forEach(subject => {\n\t\t// check if subject exists\t\t\n\t\tif (!subject.grouped) {\n\t\t\t\n\t\t\tif(subject.data.moyenne.length > 1) subject.average = parseFloat(subject.data.moyenne.replace(\",\", \".\"))\n\t\t\telse subject.average = 0;\n\n\t\t\tif(subject.data.moyenneClasse.length > 1) subject.class.average = parseFloat(subject.data.moyenneClasse.replace(\",\", \".\"))\n\t\t\telse subject.class.average = 0;\n\n\t\t\tif(subject.data.moyenneMin.length > 1) subject.class.min = parseFloat(subject.data.moyenneMin.replace(\",\", \".\"))\n\t\t\telse subject.class.min = 0;\n\n\t\t\tif(subject.data.moyenneMax.length > 1) subject.class.max = parseFloat(subject.data.moyenneMax.replace(\",\", \".\"))\n\t\t\telse subject.class.max = 0;\n\n\t\t} else {\n\t\t\tsubject.marks.forEach(mark => {\n\t\t\t\tconst coef = mark.grade.coefficient;\n\n\t\t\t\tstudentAverage += mark.grade.value * coef;\n\t\t\t\tclassAverage += mark.grade.average * coef;\n\t\t\t\tclassMin += mark.grade.min * coef;\n\t\t\t\tclassMax += mark.grade.max * coef;\n\t\t\t});\n\t\t\t/*\n\t\t\tsubject.average = parseFloat((studentAverage / subject.marks.reduce((a, b) => a + (b.grade.coefficient * b.grade.out_of), 0) * 20).toFixed(2));\n\t\t\tsubject.class.average = parseFloat((classAverage / subject.marks.reduce((a, b) => a + (b.grade.coefficient * b.grade.out_of), 0) * 20).toFixed(2));\n\t\t\tsubject.class.min = parseFloat((classMin / subject.marks.reduce((a, b) => a + (b.grade.coefficient * b.grade.out_of), 0) * 20).toFixed(2));\n\t\t\tsubject.class.max = parseFloat((classMax / subject.marks.reduce((a, b) => a + (b.grade.coefficient * b.grade.out_of), 0) * 20).toFixed(2));\n\t\t\t*/\n\t\t}\n\t});\n\n\t// calculate averages for each subject in markArray\n\t\n\tlet studentAverage = parseFloat(currentPeriod[0].ensembleMatieres.moyenneGenerale.replace(\",\", \".\"));\n\tlet classAverage = parseFloat(currentPeriod[0].ensembleMatieres.moyenneClasse.replace(\",\", \".\"));\n\tlet classMin = parseFloat(currentPeriod[0].ensembleMatieres.moyenneMin.replace(\",\", \".\"));\n\tlet classMax = parseFloat(currentPeriod[0].ensembleMatieres.moyenneMax.replace(\",\", \".\"));\n\tlet averagesCalculate = [moment(currentPeriod[0].ensembleMatieres.dateCalcul).format(\"DD/MM/YYYY\"), currentPeriod[0].ensembleMatieres.dateCalcul.split(' ')[1] ]//moment(period.ensembleMatieres.dateCalcul).format(\"HH:MM\")]\n\t/*\n\tmarkArray.forEach(subject => {\n\t\tstudentAverage += subject.average;\n\t\tclassAverage += subject.class.average;\n\t\tclassMin += subject.class.min;\n\t\tclassMax += subject.class.max;\n\t});\n\t\n\tstudentAverage /= markArray.length;\n\tclassAverage /= markArray.length;\n\tclassMin /= markArray.length;\n\tclassMax /= markArray.length;\n\n\tif (studentAverage != -1 && studentAverage != undefined) {\n\t\tstudentAverage = grades.overall_average;\n\t}\n\n\tif (grades.class_overall_average != -1 && grades.class_overall_average != undefined) {\n\t\tclassAverage = grades.class_overall_average;\n\t}\n*/\n\tconst avgs = {\n\t\taverage: studentAverage,\n\t\tclass: {\n\t\t\taverage: classAverage,\n\t\t\tmin: classMin,\n\t\t\tmax: classMax\n\t\t},\n\t\tcalculate: averagesCalculate\n\t}\n\n\t// order all subjects by first mark date\n\tmarkArray.sort((a, b) => {\n\t\tif(a.marks.length == 0) return;\n\t\tif(b.marks.length == 0) return;\n\t\treturn new Date(a.marks[0].date) - new Date(b.marks[0].date);\n\t});\n\n\n\tconst finalArray = {\n\t\tmarks: markArray,\n\t\taverages: avgs\n\t}\n\t\n\treturn finalArray;\n}\n\n\n\n\n// export\nexport default getGrades;","// modules\nimport axios from 'axios';\nimport * as moment from \"moment\";\n\n// vars\nimport {app} from '@/main.ts'\nimport GetToken from '@/functions/login/GetToken.js';\n\nimport subjectColor from '@/functions/utils/subjectColor.js'\nimport {ApiUrl, ApiVersion, Kdecole} from \"kdecole-api\";\nimport displayToast from \"@/functions/utils/displayToast\";\n\n// main function\nasync function getHomeworks(dateFrom, dateTo, forceReload) {\n    switch (localStorage.loginService) {\n        case \"pronote\":\n            // return pronote homework\n            return getPronoteHomework(dateFrom, dateTo, forceReload);\n        case \"ecoledirecte\":\n            return getEDHomework(dateFrom, dateTo, forceReload)\n        case 'skolengo':\n            return getSkolengoHomeWork(dateFrom, dateTo, forceReload)\n    }\n}\n\nasync function getSkolengoHomeWork(dateFrom, dateTo, forceReload) {\n\n    const dayString = new Date(dateFrom).toISOString().split('T')[0]\n    let cacheSearch = JSON.parse(localStorage.getItem('HomeworkCache')) || [];\n    cacheSearch = cacheSearch.filter((element) => {\n        return element.dateFrom === dayString;\n    });\n    if (cacheSearch.length > 0 && !forceReload) {\n        // return cached homework in promise\n        return new Promise((resolve) => {\n            const homework = JSON.parse(cacheSearch[0].homework);\n            resolve(constructSkolengoHomework(homework));\n        });\n    } else {\n        try {\n            const token = localStorage.getItem('token');\n            const ent = localStorage.getItem('ent');\n            const etudiant = new Kdecole(token, ApiVersion[ent], 0, 'https://cors.api.getpapillon.xyz/' + ApiUrl[ent])\n\n            console.log(\"[REQUEST] [HOMEWORK] Requesting homeworks...\")\n            const taf = await etudiant.getTravailAFaire(undefined, new Date(dateFrom))\n            if (!taf.tafOuvert) throw new Error(\"Service TAF fermé\")\n\n            const homeworks = (\n                await Promise.all(\n                    taf.listeTravaux.map(jour => jour.listTravail).flat()\n                        .map(travail => etudiant.getContenuActivite(travail.uidSeance, travail.uid).catch(console.error))\n                )).filter(t => t !== undefined)\n\n            if (!homeworks.length) throw new Error(\"Aucun travail à faire n'a été trouvé.\")\n\n            const all_homeworks = constructSkolengoHomework(homeworks)\n\n            const cache = JSON.parse(localStorage.getItem('HomeworkCache')) || [];\n            const cacheElement = {\n                dateFrom: dayString,\n                token: token,\n                homework: JSON.stringify(homeworks)\n            };\n            cache.push(cacheElement);\n            localStorage.setItem('HomeworkCache', JSON.stringify(cache));\n\n            return all_homeworks\n        } catch (e) {\n            displayToast.presentError(`${e.message}`, \"danger\", e)\n            console.error(e);\n        }\n    }\n}\n\nfunction constructSkolengoHomework(homework) {\n    return homework.map(travail => ({\n        data: {\n            id: travail.uid,\n            date: travail.date,\n            color: subjectColor.getSubjectColor(travail.matiere),\n            done: travail.flagRealise,\n        },\n        homework: {\n            subject: travail.matiere,\n            content: travail.codeHTML.replace(/style=/g, 'nostyle='),\n            shortContent: travail.type,\n        },\n        files: travail.pjs.map(pj => ({name: pj.name, url: pj.url})),\n    }))\n}\n\n// pronote : get homework\nfunction getPronoteHomework(dateFrom, dateTo, forceReload) {\n    // gather vars\n    const API = app.config.globalProperties.$api;\n    const dayRequest = new Date(dateFrom);\n    const dayRequestTo = new Date(dateTo);\n\n    // get token\n    const token = localStorage.getItem('token');\n\n    // get date as YYYY-MM-DD\n    const dayString = dayRequest.toISOString().split('T')[0];\n    const dayStringTo = dayRequestTo.toISOString().split('T')[0];\n\n    // construct url (date is a TEST date)\n    const URL = `${API}/homework?dateFrom=${dayString}&dateTo=${dayStringTo}&token=${token}`;\n\n    // check if homework is cached\n    let cacheSearch = JSON.parse(localStorage.getItem('HomeworkCache')) || [];\n    cacheSearch = cacheSearch.filter((element) => {\n        return element.dateFrom == dayString && element.dateTo == dayStringTo;\n    });\n    if (cacheSearch.length > 0 && !forceReload) {\n        // return cached homework in promise\n        return new Promise((resolve) => {\n            const homework = JSON.parse(cacheSearch[0].homework);\n            resolve(constructPronoteHomework(homework, dateFrom));\n        });\n    } else {\n        // get homework from API\n        return axios.get(URL)\n            .then((response) => {\n                // get homework\n                let homeworks = response.data;\n\n                // construct homework\n                homeworks = constructPronoteHomework(homeworks, dateFrom);\n\n                // cache response\n                let cache = JSON.parse(localStorage.getItem('HomeworkCache')) || [];\n                const cacheElement = {\n                    dateFrom: dayString,\n                    dateTo: dayStringTo,\n                    token: token,\n                    homework: JSON.stringify(response.data)\n                };\n                // Remove old cache\n                cache = cache.filter((element) => {\n                    return element.dateFrom != dayString && element.dateTo != dayStringTo;\n                });\n                // Add new cache\n                cache.push(cacheElement);\n                localStorage.setItem('HomeworkCache', JSON.stringify(cache));\n\n                // return homeworks\n                return homeworks;\n            })\n            .catch((error) => {\n                if (error.response) {\n                    // check if \"notfound\" or \"expired\"\n                    if (error.response.data == \"notfound\") {\n                        // get new token\n                        GetToken();\n                    } else if (error.response.data == \"expired\") {\n                        // get new token\n                        GetToken();\n                    }\n                }\n\n                if (error.code) {\n                    // return error code\n                    return error.code;\n                }\n            });\n    }\n}\n\n// pronote : construct homework\nfunction constructPronoteHomework(hw, dateFrom) {\n    // declaring vars\n    const homeworkArray = [];\n\n    // for each course in homework\n    hw.forEach((homework) => {\n        // for each file in homework.files\n        homework.files.forEach((file) => {\n            // if no file.name, set it to \"Document\"\n            if (!file.name) {\n                file.name = \"Document\";\n            }\n\n            // if file.url is not a link\n            if (!file.url.startsWith(\"http\")) {\n                // remove file\n                homework.files.splice(homework.files.indexOf(file), 1);\n            }\n        });\n\n        // get homework description\n        let homeworkDescription = homework.description;\n        // limit to 50 chars but let it end on a word\n        if (homeworkDescription.length > 80) {\n            homeworkDescription = homeworkDescription.substring(0, 80);\n            homeworkDescription = homeworkDescription.substring(0, homeworkDescription.lastIndexOf(\" \"));\n            homeworkDescription += \"...\";\n        }\n\n        // replace new lines in homework.description with <br/>\n        homework.description = homework.description.replace(/\\n/g, \"<br/>\");\n\n        // parse links in homework.description\n        homework.description = homework.description.replace(/(https?:\\/\\/[^\\s]+)/g, '<a href=\"$1\" target=\"_blank\">$1</a>');\n\n        // construct course\n        const newHomework = {\n            data: {\n                id: homework.id,\n                date: homework.date.replace(/-/g, \"/\"),\n                color: subjectColor.getSubjectColor(homework.subject.name, homework.background_color),\n                done: homework.done,\n            },\n            homework: {\n                subject: homework.subject.name,\n                content: homework.description,\n                shortContent: homeworkDescription,\n            },\n            files: homework.files,\n        };\n\n        subjectColor.setSubjectColor(newHomework.homework.subject, newHomework.data.color, true);\n\n        // push course to courses\n        homeworkArray.push(newHomework);\n    });\n\n    // add custom homework\n    const customHomework = JSON.parse(localStorage.getItem('customHomeworks')) || [];\n\n    customHomework.forEach((homework) => {\n        const homeworkDate = new Date(homework.date);\n        homeworkDate.setHours(0, 0, 0, 0);\n\n        const searchDate = new Date(dateFrom);\n        searchDate.setHours(0, 0, 0, 0);\n\n        // check if homework is in date range\n        if (homeworkDate.getDate() == searchDate.getDate()) {\n            // construct homework\n            homeworkArray.push(homework.homework);\n        }\n    });\n\n    // return courses\n    return homeworkArray;\n}\n\n\n// ed : get homework\nfunction getEDHomework(dateFrom, dateTo, forceReload) {\n    // gather vars\n    const EDAPI = \"https://api.ecoledirecte.com/v3\"//app.config.globalProperties.$api;\n    const dayRequest = new moment(dateFrom);\n    const dayRequestTo = new moment(dateTo);\n\n    const newDayRequest = dayRequest.format(\"YYYY-MM-DD\").replace(\"/\", \"-\").replace(\"/\", \"-\").replace(\"/\", \"-\")\n\n    // get token\n    const token = localStorage.getItem('token');\n    const userID = JSON.parse(localStorage.UserCache).id;\n\n    // get date as YYYY-MM-DD\n    const dayString = dayRequest.toISOString().split('T')[0];\n    const dayStringTo = dayRequestTo.toISOString().split('T')[0];\n\n    // construct url (date is a TEST date)\n    const URL = `${EDAPI}/Eleves/${userID}/cahierdetexte.awp?verbe=get`;\n    // check if homework is cached\n    let cacheSearch = JSON.parse(localStorage.getItem('HomeworkCache')) || [];\n    cacheSearch = cacheSearch.filter((element) => {\n        return element.dateFrom == dayString && element.dateTo == dayStringTo;\n    });\n    if (cacheSearch.length > 0 && !forceReload) {\n        // return cached homework in promise\n        return new Promise((resolve) => {\n            const homework = JSON.parse(cacheSearch[0].homework);\n            resolve(constructEDHomework(homework));\n        });\n    } else {\n        // get homework from API\n\n        const requestOptions = {\n            headers: {\"Content-Type\": \"application/x-www-form-urlencoded\", \"X-Token\": token},\n        };\n        const body = `data={}`\n\n        console.log(\"[REQUEST] [HOMEWORK] Requesting homeworks...\")\n\n        return axios.post(URL, body, requestOptions)\n            .then(async (response) => {\n                if (response.data.code != 200) {\n                    if (response.data.code === 525) {\n                        // get new token\n                        GetToken();\n                    } else if(response.data.code === 520) {\n                        GetToken();\n                    }\n                    else {\n                        return new Promise((reject) => {\n                            reject({\n                                error: response.data.code\n                            });\n                        });\n                    }\n                }\n\n                // get homework\n                const homeworksdate = response.data.data;\n\n                let all_homeworks = [];\n\n                console.log(\"[REQUEST] [HOMEWORK] Requesting content homeworks...\")\n\n                async function requestContent() {\n                    return new Promise((resolve) => {\n                        Object.keys(homeworksdate).forEach(async date => {\n\n                            const URL2 = `${EDAPI}/Eleves/${userID}/cahierdetexte/${date}.awp?verbe=get`;\n        \n                            await axios.post(URL2, body, requestOptions).then(response2 => {\n                                if (response.data.data.code) {\n                                    if (response.data.data.code == 525) {\n                                        // get new token\n                                        GetToken();\n                                    }\n                                    else {\n                                        return new Promise((reject) => {\n                                            reject({\n                                                error: response.data.data.code\n                                            });\n                                        });\n                                    }\n                                }\n        \n                                const homework = response2.data.data;\n                                all_homeworks[date] = homework.matieres;\n\n                                resolve(all_homeworks)\n                            })\n                        })\n                    })\n                }\n                all_homeworks = await requestContent()\n                // construct homework\n                all_homeworks = constructEDHomework(all_homeworks);\n\n\n                // cache response\n                const cache = JSON.parse(localStorage.getItem('HomeworkCache')) || [];\n                const cacheElement = {\n                    dateFrom: dayString,\n                    dateTo: dayStringTo,\n                    newDayRequest: newDayRequest,\n                    token: token,\n                    homework: JSON.stringify(all_homeworks)\n                };\n                cache.push(cacheElement);\n                localStorage.setItem('HomeworkCache', JSON.stringify(cache));\n\n                // return homeworks\n                return all_homeworks;\n            })\n    }\n}\n\n// ed : construct homework\nfunction constructEDHomework(hw) {\n\n    console.log(\"Building homeworks...\")\n    // declaring vars\n    const homeworkArray = [];\n    \n    /*\n    ===============================================\n    UNUSED VARIABLES | PLEASE UNCOMMENT WHEN NEEDED\n    ===============================================\n    const token = localStorage.getItem('token');\n    const userID = JSON.parse(localStorage.UserCache).id;\n    */\n\n    if(hw.length > 0) {\n        hw.forEach(homework2 => {\n            return homeworkArray.push(homework2);\n        })\n        return homeworkArray;\n    }\n   \n    // for each course in homework\n    Object.keys(hw).forEach((date) => {\n        //on obtiens une date avec une liste\n\n        //2023-03-17\n        hw[date].forEach((homework) => {\n            // get homework\n            const hws = homework;\n            //foreach documents\n            if(!hws.aFaire) {\n                console.warn(\"Skip construct of homework because doesn't contain any \\\"aFaire\\\" var\")\n                return;\n            }\n            hws.aFaire.documents.forEach((file) => {\n                // if no file.name, set it to \"Document\"\n                if (!file.libelle) {\n                    file.name = \"Document\";\n                }\n                // if file.url is not a link\n                /*if (!file.url.startsWith(\"http\")) {\n                    // remove file\n                    homework.files.splice(homework.files.indexOf(file), 1);\n                }*/\n            });\n            //homework description\n            hws.aFaire.contenu = atob(hws.aFaire.contenu)\n            let homeworkDescription = hws.aFaire.contenu;\n            /*\n                Traitement des balises HTML (<strong>, <u>)\n\n\n            */\n\n            if (homeworkDescription.length > 80) {\n                homeworkDescription = homeworkDescription.substring(0, 80);\n                homeworkDescription = homeworkDescription.substring(0, homeworkDescription.lastIndexOf(\" \"));\n                homeworkDescription += \"...\";\n            }\n\n            // replace new lines in homework.description with <br/>\n            hws.aFaire.contenu = hws.aFaire.contenu.replace(/\\n/g, \"<br/>\");\n            // parse links in homework.description\n            hws.aFaire.contenu = hws.aFaire.contenu.replace(/(https?:\\/\\/[^\\s]+)/g, '<a href=\"$1\" target=\"_blank\">$1</a>');\n\n\n            // construct course\n            const newHomework = {\n                data: {\n                    id: hws.id,\n                    //date: hws.aFaire.donneLe.replace(/-/g, \"/\"),\n                    date: hws.aFaire.donneLe.replace(/-/g, \"/\"),\n                    color: subjectColor.getSubjectColor(hws.matiere, hws.color || \"#12d4a6\"),\n                    done: hws.effectue,\n                },\n                homework: {\n                    subject: hws.matiere,\n                    content: hws.aFaire.contenu,\n                    shortContent: homeworkDescription,\n                },\n                files: hws.aFaire.documents,\n            };\n            subjectColor.setSubjectColor(newHomework.homework.subject, newHomework.data.color, true);\n\n            // push course to courses\n            homeworkArray.push(newHomework);\n\n        })\n    });\n\n    // return courses\n    return homeworkArray;\n}\n\n// tick\nasync function tickHomework(id) {\n    // if id starts with \"custom_\"\n    if (id[0].toString().startsWith(\"custom_\")) {\n        // return custom homework\n        return tickCustomHomework(id[0]);\n    }\n    else {\n        switch (localStorage.loginService) {\n            case \"pronote\":\n                // return pronote homework\n                return tickPronoteHomework(id);\n            case \"ecoledirecte\":\n                // tick Ed homework\n                return tickEDHomework(id)\n        }\n    }\n}\n\nasync function tickCustomHomework(id) {\n    const customHomeworks = JSON.parse(localStorage.customHomeworks);\n\n    // find homework\n    const homework = customHomeworks.find((homework) => {\n        return homework.homework.data.id == id;\n    });\n\n    // if homework is found\n    if (homework) { \n        // toggle homework.done\n        homework.homework.data.done = !homework.homework.data.done;\n    }\n\n    // save customHomeworks\n    localStorage.customHomeworks = JSON.stringify(customHomeworks);\n}\n\n// tick pronote homework\nasync function tickPronoteHomework(data) {\n    const homeworkID = data[0];\n    const dateSet = data[1];\n\n    // get token\n    const token = localStorage.getItem('token');\n    const API = app.config.globalProperties.$api;\n\n    const dayRequest = new Date(dateSet);\n    const dayString = dayRequest.toISOString().split('T')[0];\n\n    const URL = `${API}/homework/changeState`;\n\n    return axios.post(URL, {\n        token: token,\n        homeworkId: homeworkID,\n        dateFrom: dayString,\n        dateTo: dayString\n    })\n}\n\nasync function tickEDHomework(data) {\n    const EDAPI = \"https://api.ecoledirecte.com/v3\"\n    const token = localStorage.getItem('token');\n    const studentId = JSON.parse(localStorage.getItem('UserCache')).id;\n    const homework = data[2].homework\n\n    const homeworkID = data[0]\n\n    const requestOptions = {\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\", \"X-Token\": `${token}`},\n    };\n\n    let done, undone\n\n    if (homework.effectue) {\n        done = []\n        undone = [homeworkID]\n    } else {\n        done = [homeworkID]\n        undone = []\n    }\n\n    done = [homeworkID]\n    undone = []\n\n    const body = `data={\n                \"idDevoirsEffectues\": [${done}],\n                \"idDevoirsNonEffectues\": [${undone}]\n            }`\n\n    const URL = `${EDAPI}/Eleves/${studentId}/cahierdetexte.awp?verbe=put`;\n\n    return axios.post(URL, body, requestOptions)\n}\n\n\n// export\nexport {\n    tickHomework,\n    getHomeworks as default,\n}\n","// modules\nimport axios from 'axios';\n\n// vars\nimport { app } from '@/main.ts'\nimport GetToken from '@/functions/login/GetToken.js';\nimport {ApiUrl, ApiVersion, Kdecole} from \"kdecole-api\";\nimport displayToast from \"@/functions/utils/displayToast\";\n\n// main function\nasync function getNews(forceReload) {\n    switch (localStorage.loginService) {\n        case \"pronote\":\n            // return pronote news\n            return getPronoteNews(forceReload);\n        case \"ecoledirecte\":\n            return getEDNews(forceReload)\n        case 'skolengo':\n            return getSkolengoNews(forceReload)\n    }\n}\n\nfunction getSkolengoNews(forceReload) {\n    const token = localStorage.getItem('token');\n    const ent = localStorage.getItem('ent');\n    const etudiant = new Kdecole(token, ApiVersion[ent], 0, 'https://cors.api.getpapillon.xyz/' + ApiUrl[ent])\n\n    let newsCache = localStorage.getItem('NewsCache');\n    if (newsCache != null && !forceReload) {\n        newsCache = JSON.parse(newsCache);\n\n        const today = new Date();\n        const cacheDate = new Date(newsCache.date);\n\n        if (today.toDateString() == cacheDate.toDateString()) {\n            return new Promise((resolve) => {\n                resolve(constructSkolengoNews(newsCache.news));\n            });\n        }\n    }\n\n    return etudiant.getActualites().then(actu => {\n        const today = new Date();\n        const newsCache = {\n            date: today,\n            news: actu\n        }\n        localStorage.setItem('NewsCache', JSON.stringify(newsCache));\n\n        return new Promise((resolve) => {\n            resolve(constructSkolengoNews(actu));\n        });\n    }).catch((error) => {\n        displayToast.presentError(`${error.message}`, \"danger\", error)\n        console.error(error);\n    })\n\n}\n\nfunction constructSkolengoNews(news) {\n    return news.map((item) => ({\n        title: item.titre,\n        content: item.titre,\n        htmlContent: 'Rendez vous votre ENT pour consulter le détail de cet article.',\n        date: new Date(item.date),\n        dateString: new Date(item.date).toLocaleDateString('fr-FR', {\n            weekday: 'long',\n            month: 'long',\n            day: 'numeric'\n        }) + \" à \" + new Date(item.date).toLocaleTimeString('fr-FR', {hour: '2-digit', minute: '2-digit'}),\n        category: item.type,\n        author: item.auteur,\n        attachments: [],\n        isSurvey: false,\n        isRead: true,\n        isAnonymized: false,\n    })).sort((a, b) => {\n        return new Date(b.date) - new Date(a.date);\n    })\n}\n\n// pronote : get timetable\nfunction getPronoteNews(forceReload) {\n    // gather vars\n    const API = app.config.globalProperties.$api;\n\n    // get token\n    const token = localStorage.getItem('token');\n\n    // construct url (date is a TEST date)\n    const URL = `${API}/news?token=${token}`;\n\n    // check if timetable is cached\n    let newsCache = localStorage.getItem('NewsCache');\n\n    if(newsCache != null && !forceReload) {\n        // timetable is cached, check if it's up to date\n        newsCache = JSON.parse(newsCache);\n\n        const today = new Date();\n        const cacheDate = new Date(newsCache.date);\n\n        if(today.toDateString() == cacheDate.toDateString()) {\n            // timetable is up to date, return it\n            return new Promise((resolve) => {\n                resolve(constructPronoteNews(newsCache.news));\n            });\n        }\n    }\n\n    // send request\n    return axios.get(URL)\n        .then((response) => {\n            if(response.data == 'expired') {\n                // token expired, get new token\n                GetToken();\n            }\n\n            // save timetable to localstorage cache with today's date\n            const today = new Date();\n            const newsCache = {\n                date: today,\n                news: response.data\n            }\n\n            localStorage.setItem('NewsCache', JSON.stringify(newsCache));\n\n            // construct timetable and return it as a promise\n            return new Promise((resolve) => {\n                resolve(constructPronoteNews(response.data));\n            });\n        })\n        .catch((error) => {\n            if(error.response.data == 'expired') {\n                // token expired, get new token\n                GetToken();\n            }\n\n            // error, return error\n            if(error.code) {\n                // return error code\n                return error.code;\n            }\n        });\n}\n\n// pronote : construct timetable\nfunction constructPronoteNews(news) {\n    const newsArray = [];\n\n    // for each news in news\n    for(let i = 0; i < news.length; i++) {\n        // get news\n        const newsItem = news[i];\n\n        // if no title, set it to \"Sans titre\"\n        if(newsItem.title == null) {\n            newsItem.title = \"Sans titre\";\n        }\n\n        const newsReturn = {\n            title: newsItem.title,\n            content: newsItem.content,\n            htmlContent: newsItem.html_content[0].texte.V,\n            date: newsItem.date,\n            dateString: new Date(newsItem.date).toLocaleDateString( 'fr-FR', { weekday: 'long', month: 'long', day: 'numeric' }) + \" à \" + new Date(newsItem.date).toLocaleTimeString( 'fr-FR', { hour: '2-digit', minute: '2-digit' }),\n            category: newsItem.category,\n            author: newsItem.author,\n            attachments: newsItem.attachments,\n            isSurvey: newsItem.survey,\n            isRead: newsItem.read,\n            isAnonymized: newsItem.anonymous_survey,\n        }\n\n        newsArray.push(newsReturn);\n    }\n\n    // sort news by date\n    newsArray.sort((a, b) => {\n        return new Date(b.date) - new Date(a.date);\n    });\n\n    return newsArray;\n}\n//ED: return empty array temporarily to display homepage\nfunction getEDNews(/*forceReload*/) {\n    return new Promise((resolve) => {\n        resolve([])\n    })\n}\n\n\n// export\nexport default getNews\n","// modules\n\n// vars\nimport getTimetable from './GetTimetable';\nimport getHomeworks from './GetHomeworks';\nimport getGrades from './GetGrades';\nimport getNews from './GetNews';\n\n// main function\nasync function getRecap(force) {\n    switch (localStorage.loginService) {\n        case \"pronote\":\n            // return pronote timetable\n            return getPronoteRecap(force);\n        case \"ecoledirecte\":\n            return getEDRecap(force);\n        case 'skolengo':\n            return getSkolengoRecap(force)\n    }\n}\n\n// pronote : get timetable\nfunction getPronoteRecap(force) {\n    // promise\n    return new Promise((resolve, reject) => {\n        // vars\n        let timetable = []\n        let homeworks = []\n        const grades = {\n            full: [],\n            last: []\n        }\n        let news = []\n\n        let requestsDone = 0;\n        let errorsDone = 0;\n\n        const errors = [];\n\n        // timetable\n        getTimetable(new Date(), force).then((response) => {\n            if (response == \"ERR_NETWORK\") {\n                errorsDone++;\n                errors.push(response);\n            } else {\n                timetable = response;\n                requestsDone++;\n            }\n        })\n        // homeworks\n        const today = new Date();\n\n        const endDate = new Date();\n        endDate.setDate(endDate.getDate() + 3);\n\n        getHomeworks(today, endDate, force).then((response) => {\n            if (response == \"ERR_NETWORK\") {\n                errorsDone++;\n                errors.push(response);\n            } else {\n                homeworks = response;\n                requestsDone++;\n            }\n        })\n\n        // grades\n        getGrades(force).then((response) => {\n            if (response == \"ERR_NETWORK\") {\n                errorsDone++;\n                errors.push(response);\n            } else {\n                grades.full = response;\n                requestsDone++;\n\n                // get all grades in all subjects\n                const allGrades = [];\n                for (let i = 0; i < grades.full.marks.length; i++) {\n                    for (let j = 0; j < grades.full.marks[i].marks.length; j++) {\n                        const newGrade = grades.full.marks[i].marks[j];\n                        // add subject data\n                        newGrade.subject = {\n                            name: grades.full.marks[i].name,\n                            color: grades.full.marks[i].color,\n                            id: grades.full.marks[i].id\n                        };\n\n                        allGrades.push(newGrade);\n                    }\n                }\n\n                // sort grades by date\n                allGrades.sort((a, b) => {\n                    return new Date(b.info.date) - new Date(a.info.date);\n                });\n\n                // get last 5 grades\n                for (let i = 0; i < 5; i++) {\n                    if (allGrades[i] != undefined) {\n                        grades.last.push(allGrades[i]);\n                    }\n                }\n            }\n        })\n\n        // news\n        getNews(force).then((response) => {\n            if (response == \"ERR_NETWORK\") {\n                errorsDone++;\n                errors.push(response);\n            } else {\n                news = response;\n                requestsDone++;\n            }\n        })\n\n        // wait for all requests to be done\n        const interval = setInterval(() => {\n            if (requestsDone == 4) {\n                clearInterval(interval);\n\n                // return recap\n                resolve({\n                    timetable: timetable,\n                    homeworks: homeworks,\n                    grades: grades,\n                    news: news\n                });\n            }\n\n            if (errorsDone == 2) {\n                clearInterval(interval);\n\n                // return recap\n                reject({\n                    errors: errors\n                });\n            }\n        });\n\n    });\n\n}\n\n// ed : get timetable\nfunction getEDRecap(force) {\n    // promise\n    return new Promise((resolve) => {\n        // vars\n        let timetable = []\n        let homeworks = []\n        const grades = {\n            full: [],\n            last: []\n        }\n        let news = []\n\n        let requestsDone = 0;\n\n        // timetable\n        getTimetable(new Date(), force).then((response) => {\n            timetable = response;\n            requestsDone++;\n        });\n\n        // homeworks\n        const today = new Date();\n\n        const endDate = new Date();\n        endDate.setDate(endDate.getDate() + 3);\n\n        getHomeworks(today, endDate, force).then((response) => {\n            homeworks = response;\n            requestsDone++;\n        });\n\n\t\t// grades\n\t\tgetGrades(force).then((response) => {\n\t\t\tgrades.full = response;\n\t\t\trequestsDone++;\n\n            // get all grades in all subjects\n            const allGrades = [];\n            for (let i = 0; i < grades.full.marks.length; i++) {\n                for (let j = 0; j < grades.full.marks[i].marks.length; j++) {\n                    const newGrade = grades.full.marks[i].marks[j];\n                    // add subject data\n                    newGrade.subject = {\n                        name: grades.full.marks[i].name,\n                        color: grades.full.marks[i].color,\n                        id: grades.full.marks[i].id\n                    };\n\n                    allGrades.push(newGrade);\n                }\n            }\n\n            // sort grades by date\n            allGrades.sort((a, b) => {\n                return new Date(b.info.date) - new Date(a.info.date);\n            });\n\n            // get last 5 grades\n            for (let i = 0; i < 5; i++) {\n                if (allGrades[i] != undefined) {\n                    grades.last.push(allGrades[i]);\n                }\n            }\n        });\n\n\t\t// news\n\t\tgetNews(force).then((response) => {\n\t\t\tnews = response;\n\t\t\trequestsDone++;\n\t\t});\n\n        // wait for all requests to be done\n        const interval = setInterval(() => {\n            if (requestsDone == 4) {\n                clearInterval(interval);\n\n                // return recap\n                resolve({\n                    timetable: timetable,\n                    homeworks: homeworks,\n                    grades: grades,\n                    news: news\n                });\n            }\n        });\n\n    });\n}\n\n\nasync function getSkolengoRecap(force) {\n    const timetable = await getTimetable(new Date(), force)\n    const homeworks = await getHomeworks(new Date(), new Date(), force)\n\n    return {\n        timetable,\n        homeworks\n    };\n}\n\n// export\nexport default getRecap\n","// modules\nimport axios from 'axios';\n\n// vars\nimport {app} from '@/main.ts'\nimport GetToken from '@/functions/login/GetToken.js';\n\nimport subjectColor from '@/functions/utils/subjectColor.js'\nimport {ApiUrl, ApiVersion, Kdecole} from 'kdecole-api';\nimport displayToast from \"@/functions/utils/displayToast\";\n\nlet dayRequest;\n\n// main function\nasync function getTimetable(date, forceReload) {\n    // as only pronote is supported for now, we can just return the pronote timetable\n    switch (localStorage.loginService) {\n        case \"pronote\":\n            // return pronote timetable\n            return getPronoteTimetable(date, forceReload);\n        case \"ecoledirecte\":\n            return getEDTimetable(date, forceReload);\n        case 'skolengo':\n            return getSkolengoTimetable(date, forceReload)\n    }\n}\n\nfunction getSkolengoTimetable(date, forceReload) {\n\n    const dayRequest = new Date(date);\n\n    // get date as YYYY-MM-DD\n    const dayString = dayRequest.toISOString().split('T')[0];\n\n    const token = localStorage.getItem('token');\n    const ent = localStorage.getItem('ent');\n\n\n    // check if timetable is cached\n    let cacheSearch = JSON.parse(localStorage.getItem('TimetableCache')) || [];\n    cacheSearch = cacheSearch.filter((element) => {\n        return element.date == dayString && element.token == token;\n    });\n    if (cacheSearch.length > 0 && !forceReload) {\n        // return cached timetable in promise\n        return new Promise((resolve) => {\n            const timetable = JSON.parse(cacheSearch[0].timetable);\n            resolve(constructSkolengoTimetable(timetable?.listeSeances || []));\n        });\n    } else {\n        const user = new Kdecole(token, ApiVersion[ent], 0, 'https://cors.api.getpapillon.xyz/' + ApiUrl[ent])\n\n        return user.getCalendrier().then(calendrier => {\n            if (calendrier.cdtOuvert === false) throw new Error(\"Le calendrier n'est pas ouvert.\")\n            const jour = calendrier.listeJourCdt.find(jour => jour.date.toISOString().split('T')[0] === dayString)\n            const timetable = constructSkolengoTimetable(jour?.listeSeances || [])\n\n            const cache = JSON.parse(localStorage.getItem('TimetableCache')) || [];\n            const cacheElement = {\n                date: dayString,\n                token: token,\n                timetable: JSON.stringify(jour || [])\n            };\n            cache.push(cacheElement);\n            localStorage.setItem('TimetableCache', JSON.stringify(cache));\n\n            return timetable\n\n        }).catch((error) => {\n            return new Promise((reject) => {\n                displayToast.presentError(`${error.message}`, \"danger\", error)\n                console.error(error)\n                reject({\n                    error: error.code\n                });\n            });\n        })\n    }\n}\n\n\nfunction constructSkolengoTimetable(seances) {\n        return seances.map(seance => ({\n            course: {\n                id: seance.idSeance,\n                subject: seance.matiere,\n                color: subjectColor.getSubjectColor(seance.matiere),\n                num: null,\n                sameTime: false,\n                actual: false,\n                distance: false,\n                lengthCours: 0,\n            },\n            data: {\n                subject: seance.matiere,\n                teachers: [' '],\n                rooms: [seance.salle],\n                groupNames: null,\n                memo: seance.aRendre.map(ar => ar.type).join(' '),\n                hasMemo: false,\n                linkVirtual: null,\n            },\n            time: {\n                start: new Date(seance.hdeb),\n                end: new Date(seance.hfin)\n            },\n            status: {\n                isCancelled: !seance.flagActif,\n                isExempted: false,\n                isDetention: false,\n                isOuting: false,\n                isTest: false,\n                isCustom: false,\n                status: seance.motifModif\n            }\n        })).sort((a, b) => {\n            return new Date(a.time.start) - new Date(b.time.start);\n        });\n    }\n\n// pronote : get timetable\nfunction getPronoteTimetable(date, forceReload) {\n    // gather vars\n    const API = app.config.globalProperties.$api;\n    dayRequest = new Date(date);\n\n    // get token\n    const token = localStorage.getItem('token');\n\n    // get date as YYYY-MM-DD\n    const dayString = dayRequest.toISOString().split('T')[0];\n\n    // construct url (date is a TEST date)\n    const URL = `${API}/timetable?dateString=${dayString}&token=${token}`;\n\n    // check if timetable is cached\n    let cacheSearch = JSON.parse(localStorage.getItem('TimetableCache')) || [];\n    cacheSearch = cacheSearch.filter((element) => {\n        return element.date == dayString && element.token == token;\n    });\n    if (cacheSearch.length > 0 && !forceReload) {\n        // return cached timetable in promise\n        return new Promise((resolve) => {\n            const timetable = JSON.parse(cacheSearch[0].timetable);\n            resolve(constructPronoteTimetable(timetable));\n        });\n    } else {\n        // get timetable from API\n        return axios.get(URL)\n            .then((response) => {\n                // get timetable\n                let timetable = response.data;\n\n                // construct timetable\n                timetable = constructPronoteTimetable(timetable);\n\n                // cache response\n                const cache = JSON.parse(localStorage.getItem('TimetableCache')) || [];\n                const cacheElement = {\n                    date: dayString,\n                    token: token,\n                    timetable: JSON.stringify(response.data)\n                };\n                cache.push(cacheElement);\n                localStorage.setItem('TimetableCache', JSON.stringify(cache));\n\n                document.dispatchEvent(new CustomEvent('connectionState', {detail: 'connected'}));\n\n                // return timetable\n                return timetable;\n            })\n            .catch((error) => {\n                if (error.response) {\n                    // check if \"notfound\" or \"expired\"\n                    if (error.response.data == \"notfound\") {\n                        // get new token\n                        GetToken();\n\n                        document.dispatchEvent(new CustomEvent('connectionState', {detail: 'disconnected'}));\n                    } else if (error.response.data == \"expired\") {\n                        // get new token\n                        GetToken();\n\n                        document.dispatchEvent(new CustomEvent('connectionState', {detail: 'disconnected'}));\n                    }\n                }\n\n                if (error.code) {\n                    // return error code\n                    return error.code;\n                }\n            });\n    }\n}\n\n// pronote : construct timetable\nfunction constructPronoteTimetable(timetable) {\n    // declaring vars\n    const courses = [];\n\n    // for each course in timetable\n    timetable.forEach((course) => {\n        // construct course\n        const newCourse = {\n            course: {\n                id: course.id,\n                color: subjectColor.getSubjectColor(course.subject.name, course.background_color),\n                num: course.num,\n                sameTime: false,\n                actual: false,\n                distance: false,\n                lengthCours: 0,\n            },\n            data: {\n                subject: course.subject.name,\n                teachers: course.teachers,\n                rooms: course.rooms,\n                groupNames: course.group_names,\n                memo: course.memo,\n                hasMemo: false,\n                linkVirtual: course.virtual,\n            },\n            time: {\n                start: new Date(course.start.replace(/-/g, \"/\")),\n                end: new Date(course.end.replace(/-/g, \"/\"))\n            },\n            status: {\n                isCancelled: course.is_cancelled,\n                isExempted: course.is_exempted,\n                isDetention: course.is_detention,\n                isOuting: course.is_outing,\n                isTest: course.is_test,\n                isCustom: false,\n                status: course.status\n            }\n        };\n\n        if (course.subject.name != \"\") {\n            subjectColor.setSubjectColor(newCourse.data.subject, newCourse.course.color, true);\n        }\n\n        if (course.memo != null) {\n            newCourse.data.hasMemo = true;\n        }\n\n        if (course.is_detention) {\n            newCourse.data.subject = \"🚨 Retenue\";\n            newCourse.course.color = \"#ff0000\";\n            newCourse.status.status = \"Vous êtes placé en retenue\";\n        }\n\n        if (course.is_exempted) {\n            newCourse.course.color = \"#627E66\";\n            newCourse.status.status = \"Vous êtes dispensé de cours\";\n        }\n\n        // push course to courses\n        courses.push(newCourse);\n    });\n\n    // put courses in start order\n    courses.sort((a, b) => {\n        return new Date(a.time.start) - new Date(b.time.start);\n    });\n\n    // return courses\n    return courses;\n}\n\n\n// ed : get timetable\nfunction getEDTimetable(date, forceReload) {\n    // gather vars\n    const EDAPI = \"https://api.ecoledirecte.com/v3\"//app.config.globalProperties.$api;\n    dayRequest = new Date(date);\n\n    // get token\n    const token = localStorage.getItem('token');\n    // get date as YYYY-MM-DD\n    const dayString = dayRequest.toISOString().split('T')[0];\n\n    const userID = JSON.parse(localStorage.UserCache).id;\n\n    // construct url (date is a TEST date)\n    const URL = `${EDAPI}/E/${userID}/emploidutemps.awp?verbe=get`;\n\n    // check if timetable is cached\n    let cacheSearch = JSON.parse(localStorage.getItem('TimetableCache')) || [];\n    cacheSearch = cacheSearch.filter((element) => {\n        return element.date == dayString && element.token == token;\n    });\n    if (cacheSearch.length > 0 && !forceReload) {\n        // return cached timetable in promise\n        return new Promise((resolve) => {\n            const timetable = JSON.parse(cacheSearch[0].timetable);\n            resolve(constructEDTimetable(timetable));\n        });\n    } else {\n        // get timetable from API\n\n        const requestOptions = {\n            headers: {\"Content-Type\": \"application/x-www-form-urlencoded\", \"X-Token\": token},\n        };\n        const body = `data={\n            \"dateDebut\": \"${dayString}\",\n            \"dateFin\": \"${dayString}\",\n            \"avecTrous\": false\n        }`\n        return axios.post(URL, body, requestOptions)\n        .then((response) => {\n            if (response.data.code != 200) {\n                if (response.data.code === 525) {\n                    // get new token\n                    GetToken();\n                } else if(response.data.code === 520) {\n                    GetToken();\n                }\n                else {\n                    return new Promise((reject) => {\n                        reject({\n                            error: response.data.code\n                        });\n                    });\n                }\n            }\n            // get timetable\n            let timetable = response.data.data;\n\n                // construct timetable\n                timetable = constructEDTimetable(timetable);\n\n                // cache response\n                const cache = JSON.parse(localStorage.getItem('TimetableCache')) || [];\n                const cacheElement = {\n                    date: dayString,\n                    token: token,\n                    timetable: JSON.stringify(response.data.data)\n                };\n                cache.push(cacheElement);\n                localStorage.setItem('TimetableCache', JSON.stringify(cache));\n\n                // return timetable\n                return timetable;\n            })\n            .catch((error) => {\n                if (error.response) {\n                    // check if \"notfound\" or \"expired\"\n                    if (error.response.data.code == 525) {\n                        // get new token\n                        GetToken();\n                    }\n                }\n\n                if (error.code) {\n                    // return empty timetable in promise\n                    return new Promise((reject) => {\n                        reject({\n                            error: error.code\n                        });\n                    });\n                }\n            });\n    }\n}\n\n// ed : construct timetable\nfunction constructEDTimetable(timetable) {\n    // declaring vars\n    const courses = [];\n\n    // for each course in timetable\n    timetable.forEach((course) => {\n        // construct course\n        const newCourse = {\n            course: {\n                id: course.id,\n                color: subjectColor.getSubjectColor(course.matiere, course.color),\n                num: null,//course.num,\n                sameTime: false,\n                actual: false,\n                distance: false,\n                lengthCours: 0,\n            },\n            data: {\n                subject: course.matiere,\n                teachers: course.prof.split(),\n                rooms: course.salle.split(),\n                groupNames: course.groupe,\n                memo: null, //course.memo,\n                hasMemo: false,\n                linkVirtual: false,//course.virtual,\n            },\n            time: {\n                start: new Date(course.start_date.replace(/-/g, \"/\")),\n                end: new Date(course.end_date.replace(/-/g, \"/\"))\n            },\n            status: {\n                isCancelled: course.isAnnule,\n                isExempted: course.dispensable,\n                isDetention: false, //course.is_detention,\n                isOuting: false, //course.is_outing,\n                //isTest: course.is_test,\n                isCustom: false,\n                status: course.isAnnule ? \"Cours annulé\" : null\n            }\n        };\n\n        if(course.typeCours == \"CONGE\") {\n            newCourse.data.subject = course.text;\n            newCourse.course.color = \"#3462e0\";\n            newCourse.status.status = \"Vous êtes en congés\";\n            newCourse.data.rooms = [\"Chez vous\"];\n            newCourse.data.teachers = [\"Aucun prof.\"]\n        }\n\n        if (course.matiere != \"\") {\n            subjectColor.setSubjectColor(newCourse.data.subject, newCourse.course.color, true);\n        }\n\n        if (course.memo != null) {\n            newCourse.data.hasMemo = true;\n        }\n\n        if (course.isModifie) {\n            newCourse.status.status = \"Le cours a été modifié\";\n        }\n\n        if (course.is_detention) {\n            newCourse.data.subject = \"🚨 Retenue\";\n            newCourse.course.color = \"#ff0000\";\n            newCourse.status.status = \"Vous êtes placé en retenue\";\n        }\n\n        if (course.is_exempted) {\n            newCourse.course.color = \"#627E66\";\n            newCourse.status.status = \"Vous êtes dispensé de cours\";\n        }\n\n        // push course to courses\n        courses.push(newCourse);\n    });\n\n    // put courses in start order\n    courses.sort((a, b) => {\n        return new Date(a.time.start) - new Date(b.time.start);\n    });\n\n    // return courses\n    return courses;\n}\n\n// export\nexport default getTimetable;\n","// modules\nimport axios from 'axios';\n// vars\nimport {app} from '@/main.ts'\nimport GetToken from '@/functions/login/GetToken.js';\nimport {ApiUrl, ApiVersion, Kdecole} from \"kdecole-api\";\nimport displayToast from \"@/functions/utils/displayToast\";\n\nconst FastAverageColor = require('fast-average-color').FastAverageColor;\nconst fac = new FastAverageColor();\n\n// vars\nimport getEDPeriods from '@/functions/fetch/getEDPeriods.js';\n\n// main function\nfunction getUser(force) {\n    switch (localStorage.loginService) {\n        case \"pronote\":\n            return getPronoteUser(force);\n        case \"ecoledirecte\":\n            return getEDUser(force);\n        case 'skolengo':\n            return getSkolengoUser(force);\n    }\n}\n\nconst defaultAvatar = \"iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAjOSURBVHgB7Z1NaFRXFMdPPpw0ZkInFlrjQkeoERQ0QeqqaSa4KkSaQl2kFJxudFPQgvuM+4oRuqkbIwgu7CLWQEtL29F0U4skChUyFowu/CjUTM1XOySx5z+8l76Z93Xfm/dxJ3N/MGTy5iaZnP+959xz7n13iBQKhULRqDSRxCwuLvaur6/3tra2Hnz16lWKL/XyI2V4GCniwe3mmpqa8HxmbW3tbnNz81wymZwhSZFKgIWFhQwbLMMGHGBD6sYOAggzw797ggW9KZMgsQsAo7e0tHzABspScAZ3hAWe47+X58eFuMWIRQC4k5WVleP8dJifZyheMDLG2tvbL1MMRCoADL+8vHyan56iiHq7KBgV/MhFLURkAnBAPc3/4ChJZvhqohYidAE0Hz8qgavxhCbEIAsxRyHSTCEBd8O9foz968/1ZnzA7znNM6aH3IFyFCKhjAAOsGn+B2D4NG0CwhwNgY8A7vVZ7jnTm8X4QBsN04hjFDCBCrC0tJTjnnKJJA+0Pknx/3Y+aJcUmAvi3jHOb/A4NQA8IsY4gfucAiAQARrJ+AbGOzo6PqUaqVmABjW+Ts0i1BQDMM1sYOODLMe9S1QDvgXQAu4pUmRrCcy+XJBWVjhPig044cz6KV94FgBJFubEtDmnmrVQZBH6vCZrnl0QMlxSxrciBdvMz897so0nAeD3N1OGGzSwzZYtW0a9/IywC9Jcz0NSuMJ2Guzs7MyLtBUeAZrrUQigrXsIISQACmzK9YjDAmREC3dCLoiXER8qATxTLJVKu7u6uopOjVrJBVl6/0LpH5p8cJfuPHtMsy+e09PFv8vXOxNtdGj7Lsrs7KGhPQdJIlKJRAKJ6lmnRq4jQIbef+fpI8r9cmPD6HbsSL5Oo/1Hy4JIgusocIwBMvR+9PqT311xNT54wm1OfnuFJv+4R5KQamtrc6yVOQoQd63nyWKRe/6k6Xp3MlV2OXjgeTW5qRtUYDclAzwlHXZ63dYFYV8mCzBNMXL02pcVPX8HG3u0f8jkYu48Yxc1Nclt/x/paPPV+5+QDDjlBbYjIO7eD79fbXwY1Mq/68Y2jgaIgocMYOul3WtOAmQoRm5U+XH0/G4OsnYgAOe4jZH8owLJgLbv1RJLAeB+4g6+RneC3i8ys0Ebo0iYskpCChvUrF6wFIDLqgMUM08M7qdn21vCP7fX0HaxtEKyYGdTOxfkGLmjBslWvWO3O7DZpnEvScTsiz+F2yJj1kkm2kkWOKZa2tQkAPw/SbDgYnQlhRfP2LD/uv4M8gaj39/hELRjIKXZtgKTADxnTZMEHNq+s+L7s5xcuXFxeqri+8yuHpIMU7HKJADPWaWoaKGwZvT9+cezbOBbtu3P/fp9RQlCdOYUJRyITSPAVA2Fr+IYQHHTmXiNTvS9x4b9YePaxZmpspGH3j6wkXRhuoqcobpWNLTngGPeEAfanZ4VWJWjpVlwH9l3mGb/el7RszE9hRBOYPSc6O0n2bCa3DRbNEqTROS4vDyy7x3h9iP7D1Pu3SGSEfYups5tKsYtLS3Nk4TbTlDXQZC1q+/A35/o65fO71dR7Ojo6DJesBIg/gDgAKajmJbqmfLebW+yr++qm2SNBaiwed0JUO9UCxDaTXoKMZQAMWM1DUUdWJogXOBpKHZBFMo7IYpl32+s9wCUHJA3dGvJF77veUO8ghohpsV5qxiA7YdpigkYFwspNznzxYxHpAZkBUSAGAM798pUkpjjGLDbeMFKAKwDR14NxRLkxZlb5Z7u1+h2YIaUYSGQQR/qjm+aihNaksnkoPGalQC45SZLEYDefvX323T1/m0ho8PNJPkBg+K5DtzSIv+uatdkBUYGsuSYNnFN8Aj40HjBqhZUjKIW5LbZCgZGRRQ9FitiPdu2u8719RwBowhuzCppg1jY6oJyxhdHjnlabQsA09lEphHw8uXLLFdEa7rxzI38o1k689PXlq/pGa2IwUVAoW7ywT3bDNpup0VIDPMIuG68YBIg7P1AWDTB7jVjz0dvRw0HxbewMtpyEY/L2dW75vC3vzn2WSSZNHuWvuoTuiw3ZoVZD0Ld/ur93za+R09HL4yqlAAhzvx4rWLnHGICSt8hY6oDActEjEdAaOeoGV0Bet+5Ix9FWsdBEIbvr1zseUBhg0MDra7bCZCnkCgYFtir9/FEBURAfqBj3IMUFjix0fK61cXV1dWbFAE9XMmUAZHpa63guEyr65YCaBtJw+8WjYPt4bG2d8iwGxpnvxX4AUVG8o8LkQx/KyLetpi3e8FWgLW1tevstwIXAH5fD8QFrcgWN5iJhQkOiLV7zbYcDTcURjAe2S++vhsVH4f4njD7cTqd1209YIICBkUx3McVcQnAEvR8TElRpAuRMacXHW/Sw7kHiUQC5Wl1NoQ/TOXnahxHAO7uw7nKpPAFu5+cWxvX21TVKPCNa+8HrmvCGAWs5FlSeEKk9wPh01KWl5fr8gjimBDq/UB4VwTnBWoUCFIqlQZF2woLoOUFKiC7k2O3PSfa2NOZcVpAxmJNmhRWCLseHU8bsxCQteGlCnVVcHwsenE9Op53xmF48R8L5NzkzQTnS55cz8bPkQ+4tjGOP0gKndzWrVsvkA9qOju6wc+NLoOJCRvft0dQh3fXRs2Hd9csAFDH1/snkO3pHBOyDZYjBGJ8ENj9AfCDDRKYc0EZHwTigozUywe2eQXz/JaWltNBf8Bb4AIAzpjTnDHjpN00bQ7mkGT5mee7EcotSnijSMk3g0tCbGPj94Vh/PLvp5Cp19GAmynY5eAzJUPdpBa6ADratnfEhjRJDHw9Rq7fzNYrkQmgI6sQMLzmbi64nfccJJELoKMJgaMxYz2dS/tk7YnV1dXLURpeJzYBdLQbQiBEhiIaFZqbQfY+EbaPdyN2AYxox2UO8MgYXl9f77U6XcQPMDh/mcFOPzZ8Pm6jG5FKgGq00YEbuOCmyoLgOB0cfFQtjubDYWjd2EUWEVsC7zptDVQoFAqFIi7+A6Vb8DK1vqhIAAAAAElFTkSuQmCC\";\n\nasync function getSkolengoUser(force) {\n    const token = localStorage.getItem('token');\n    const ent = localStorage.getItem('ent');\n\n    // check if user is in cache\n    const cache = JSON.parse(localStorage.getItem('UserCache')) || [];\n    if (cache.user && !force) {\n        const user = JSON.parse(cache.user);\n        return new Promise((resolve) => {\n            resolve(constructSkolengoUser(user));\n        });\n    } else {\n        const etudiant = new Kdecole(token, ApiVersion[ent], 0, 'https://cors.api.getpapillon.xyz/' + ApiUrl[ent])\n        return etudiant.getInfoUtilisateur().then(infoUser => {\n            localStorage.setItem('avatarCache', 'data:image/png;base64,' + defaultAvatar);\n            const user = constructSkolengoUser(infoUser)\n            localStorage.setItem('UserCache', JSON.stringify(user))\n            document.dispatchEvent(new CustomEvent('avatarLoaded'));\n            return user\n        }).catch(error => {\n            displayToast.presentError(\"Impossible de joindre le serveur.\", \"danger\", error)\n            console.error('Unable to join server - ' + error);\n        });\n    }\n}\n\nfunction constructSkolengoUser(user) {\n    // construct student\n    return {\n        student: {\n            name: user.nom,\n            avatar: '',\n            ine: '',\n            contact: {\n                phone: '',\n                email: ''\n            }\n        },\n        class: {\n            name: '',\n            school: ''\n        },\n        periods: [] //user.periods\n    }\n\n}\n\n// pronote : get user\nasync function getPronoteUser(force) {\n    // gather vars\n    const API = app.config.globalProperties.$api;\n\n    // get token\n    const token = localStorage.getItem('token');\n\n    // construct url\n    const URL = `${API}/user?token=${token}`;\n\n    // check if user is in cache\n    const cache = JSON.parse(localStorage.getItem('UserCache')) || [];\n    if (cache.user && !force) {\n        // get user\n        const user = JSON.parse(cache.user);\n\n        // return user in promise\n        return new Promise((resolve) => {\n            resolve(constructPronoteUser(user));\n        });\n    } else {\n        // get user from API\n        return axios.get(URL)\n            .then((response) => {\n                // get user\n                const user = response.data;\n\n                // cache avatar\n                const avatar = user.profile_picture;\n\n                // if avatar is null or undefined, set default avatar\n                if (avatar == null || avatar == undefined) {\n                    const avatarBase64 = defaultAvatar\n\n                    // save in cache\n                    localStorage.setItem('avatarCache', 'data:image/png;base64,' + avatarBase64);\n                    localStorage.setItem('UserCache', JSON.stringify(response.data));\n                    return constructPronoteUser(user);\n                }\n                // download avatar\n                const url = `https://cors.api.getpapillon.xyz/` + avatar;\n                axios.get(url, {responseType: 'blob'})\n                    .then((response) => {\n                        // get blob\n                        const blob = response.data;\n\n                        // create reader\n                        const reader = new FileReader();\n                        reader.readAsDataURL(blob);\n\n                        // read blob\n                        reader.onloadend = async function () {\n                            // get base64\n                            const base64 = reader.result;\n\n                            // save in cache\n                            const avatarURL = `${base64}`;\n\n                            // get average color\n                            fac.getColorAsync(avatarURL)\n                                .then(color => {\n                                    localStorage.setItem('averageColor', JSON.stringify(color));\n\n                                    document.dispatchEvent(new CustomEvent('averageColorUpdated'));\n                                })\n                                .catch(e => {\n                                    console.error(e);\n                                });\n\n                            // save in cache\n                            localStorage.setItem('avatarCache', avatarURL);\n                        }\n                    });\n\n                localStorage.setItem('UserCache', JSON.stringify(response.data));\n\n                // return user\n                return constructPronoteUser(user);\n            })\n            .catch((error) => {\n                if (error.response) {\n                    // check if \"notfound\" or \"expired\"\n                    if (error.response.data == \"notfound\") {\n                        // get new token\n                        GetToken();\n                    } else if (error.response.data == \"expired\") {\n                        // get new token\n                        GetToken();\n                    } else {\n                        console.error(error);\n                        return new Promise((reject) => {\n                            reject({\n                                error: error.response.data\n                            });\n                        });\n                    }\n                }\n            });\n    }\n}\n\n// pronote : construct user\nfunction constructPronoteUser(user) {\n    // construct student\n    // return student\n    return {\n        student: {\n            name: user.name,\n            avatar: user.profile_picture,\n            ine: user.ine,\n            contact: {\n                phone: user.phone,\n                email: user.email\n            }\n        },\n        class: {\n            name: user.class,\n            school: user.establishment\n        },\n        periods: user.periods\n    };\n}\n\n\n// ecoledirecte : get user\nasync function getEDUser(force) {\n    // gather vars\n    const EDAPI = \"https://api.ecoledirecte.com/v3\"//app.config.globalProperties.$api;\n\n    // get token\n    \n    /*\n    ==============================================\n    UNUSED VARIABLE | PLEASE UNCOMMENT WHEN NEEDED\n    ==============================================\n    const token = localStorage.getItem('token');\n    */\n\n    // construct url\n    const URL = `${EDAPI}/login.awp`;\n\n    // check if user is in cache\n    const cache = JSON.parse(localStorage.getItem('UserCache')) || [];\n    if (cache && !force) {\n        // get user\n        // return user in promise\n        return new Promise((resolve) => {\n\n            cache.profile.photo = undefined;\n            if(cache.profile.photo == null || cache.profile.photo == undefined) {\n                const avatarBase64 = defaultAvatar\n                \n                localStorage.setItem('avatarCache', 'data:image/png;base64,' + avatarBase64);\n            }\n            \n            resolve(constructEDUser(cache));\n        });\n    } else {\n        // get user from API\n        return axios.get(URL)\n            .then(async(response) => {\n                if (response == \"notfound\" || response == \"expired\") {\n                    // get new token\n                    GetToken();\n                }\n\n                // get user\n                const user = response.data.accounts[0];\n\n                // cache avatar\n                const avatar = user.profile.photo;\n\n                // if avatar is null or undefined, set default avatar\n                if (avatar == null || avatar == undefined) {\n                    const avatarBase64 = defaultAvatar\n\n                    // save in cache\n                    localStorage.setItem('avatarCache', 'data:image/png;base64,' + avatarBase64);\n                    localStorage.setItem('UserCache', JSON.stringify(response.data.accounts[0]));\n                    return constructEDUser(user);\n                }\n                // download avatar\n                //FETCH PERIODS\n                await getEDPeriods().then(periods => {\n                    user.periods = periods;\n                    response.data.accounts[0].periods = periods;\n                })\n\n                localStorage.setItem('UserCache', JSON.stringify(response.data.accounts[0]));\n\n                \n\n                // return user\n                return constructEDUser(user);\n            })\n            .catch((error) => {\n                if (error.response) {\n                    // check if \"notfound\" or \"expired\"\n                    if (error.response.data.code == 525) {\n                        // get new token\n                        GetToken();\n                    }\n                }\n            });\n    }\n}\n\n// ecoledirecte : construct user\nfunction constructEDUser(user) {\n    // construct student\n    // return student\n    return {\n        student: {\n            name: user.nom + \" \" + user.prenom,\n            avatar: user.profile.photo,\n            ine: user.profile.rneEtablissement,\n            contact: {\n                phone: user.profile.telPortable,\n                email: user.email\n            }\n        },\n        class: {\n            name: user.profile.classe.code,\n            school: user.nomEtablissement\n        },\n        periods: user.periods\n    }\n}\n\n\n// export\nexport default getUser;\n","// modules\nimport axios from 'axios';\n\n// vars\nimport GetToken from '@/functions/login/GetToken.js';\n\n\n//main function\n\nasync function getEDPeriods(userid, token) {\n\tif(!userid) userid = JSON.parse(localStorage.UserCache).id\n\tif(!token) token = localStorage.getItem('token')\n\tconst EDAPI = \"https://api.ecoledirecte.com/v3\"\n\n\tconst URL = `${EDAPI}/eleves/${userid}/notes.awp?verbe=get`;\n\n\tconst requestOptions = {\n\t\theaders: { \"Content-Type\": \"application/x-www-form-urlencoded\", \"X-Token\": token },            \n\t};\n\tconst body = `data={}`\n\n\t// send request\n\treturn axios.post(URL, body, requestOptions).then((response) => {\n\t\tif (response.data.code != 200) {\n\t\t\tif (response.data.code === 525) {\n\t\t\t\t// get new token\n\t\t\t\tGetToken();\n\t\t\t} else if(response.data.code === 520) {\n\t\t\t\tGetToken();\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn new Promise((reject) => {\n\t\t\t\t\treject({\n\t\t\t\t\t\terror: response.data.code\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst periodes = response.data.data.periodes;\n\n        const periods = [];\n\t\tperiodes.forEach(prd => {\n\t\t\tconst period = {\n\t\t\t\tstart: prd.dateDebut,\n\t\t\t\tend: prd.dateFin,\n\t\t\t\tname: prd.periode,\n\t\t\t\tid: prd.idPeriode,\n\t\t\t\tactual: !prd.cloture\n\t\t\t}\n\t\t\tperiods.push(period)\n\t\t})\n\n\t\tlocalStorage.setItem('periodsCache', JSON.stringify(periods));\n\n\t\t// construct grades and return it as a promise\n\t\treturn new Promise((resolve) => {\n\t\t\tresolve(periods);\n\t\t});\n\t})\n}\n\nexport default getEDPeriods;","const FastAverageColor = require('fast-average-color').FastAverageColor;\nconst fac = new FastAverageColor();\n\nasync function getEDPhoto(account) {\n\tconst avatar = account.profile.photo;\n\tconst defaultAvatarBase64 = \"data:image/png;base64,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\"\n\n\tlet avatar_url\n\t// if avatar is null or undefined, set default avatar if not download and cache avatar\n\tif (avatar == null || avatar == undefined) {\n\t\t// save in cache\n\t\tavatar_url = defaultAvatarBase64\n\t\tlocalStorage.setItem('avatarCache', defaultAvatarBase64);\n\t\treturn avatar_url\n\t} else {\n\t\t// let url = `https://cors.api.getpapillon.xyz/` + avatar;\n\t\tconst url = `${avatar}`;\n\t\tconst requestOptions = {\n\t\t\theaders: {\n\t\t\t\t\"Sec-Fetch-Dest\": \"image\",\n\t\t\t\t\"Sec-Fetch-Mode\": \"no-cors\",\n\t\t\t\t\"Host\": \"doc1.ecoledirecte.com\",\n\t\t\t\t\"Sec-GPC\": \"1\"\n\t\t\t},\n\t\t\tmode: 'no-cors',\n\t\t\treferrerPolicy: \"no-referrer\",\n\t\t}\n\t\tavatar_url = await fetch(url, requestOptions)\n\t\t\t.then((response) => {\n\t\t\t\t// get blob\n\t\t\t\tconst blob = response.data;\n\t\t\t\t// create reader\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.readAsDataURL(blob);\n\n\t\t\t\t// read blob\n\t\t\t\treader.onloadend = async function () {\n\t\t\t\t\t// get base64\n\t\t\t\t\tconst base64 = reader.result;\n\n\t\t\t\t\tconst avatarData = `${base64}`;\n\n\t\t\t\t\t// get average color\n\t\t\t\t\tfac.getColorAsync(avatarData)\n\t\t\t\t\t\t.then(color => {\n\t\t\t\t\t\t\tlocalStorage.setItem('averageColor', JSON.stringify(color));\n\n\t\t\t\t\t\t\tdocument.dispatchEvent(new CustomEvent('averageColorUpdated'));\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(e => {\n\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t// save in cache\n\t\t\t\t\tlocalStorage.setItem('avatarCache', avatarData);\n\t\t\t\t\treturn avatarData\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((_) => {\n\t\t\t\tconsole.log(_)\n\t\t\t\treturn defaultAvatarBase64\n\t\t\t})\n\t}\n\treturn avatar_url\n}\n\nexport default getEDPhoto;","import { app } from '@/main.ts'\nimport displayToast from '@/functions/utils/displayToast.js';\n\nimport axios from 'axios';\nimport getEDPhoto from \"@/functions/fetch/getEDPhoto\";\nimport getEDPeriods from '@/functions/fetch/getEDPeriods.js';\n\n\nlet waitingForToken = false;\n\n// get token\nfunction getToken() {\n    switch(localStorage.loginService) {\n        case \"pronote\":\n            return getPronoteLogin();\n        case \"ecoledirecte\":\n            return getEDLogin();\n    }\n}\n\n// pronote : get token\nfunction getPronoteLogin() {\n    return new Promise((resolve, reject) => {\n        if(!waitingForToken) {\n            // gather vars\n            const API = app.config.globalProperties.$api;\n            let loginData = null;\n            try { \n                loginData = JSON.parse(atob(localStorage.getItem('loginData')));\n            } catch(e) {\n                displayToast.presentError(\"Merci de vous reconnecter.\", \"danger\", `Une erreur s'est produite lors de la récupération des données de connexion. Merci de vous reconnecter. (${e})`)\n                console.error(`[Connect to Pronote API] Error while parsing loginData: ${e}`);\n                reject(e)\n                return;\n            }\n    \n            // get username and password\n            const username = loginData.username;\n            const password = loginData.password;\n            const cas = loginData.cas;\n            const url = loginData.url;\n    \n            const myHeaders = new Headers();\n            myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n                        \n            const urlencoded = new URLSearchParams();\n            urlencoded.append(\"url\", url);\n            urlencoded.append(\"ent\", cas);\n            urlencoded.append(\"username\", username);\n            urlencoded.append(\"password\", password);\n    \n            const requestOptions = {\n                method: 'POST',\n                headers: myHeaders,\n                body: urlencoded,\n                redirect: 'follow'\n            };\n    \n            waitingForToken = true;\n    \n            document.dispatchEvent(new CustomEvent('connectionState', { detail: 'connecting' }));\n    \n            // get token from API\n            return fetch(API + \"/generatetoken\", requestOptions)\n            .then(response => response.json())\n            .then(result => {\n                if(result.token) {\n                    // save token\n                    localStorage.setItem('token', result.token);\n    \n                    // empty localstorage cache\n                    localStorage.setItem('UserCache', JSON.stringify({}));\n                    localStorage.setItem('TimetableCache', JSON.stringify([]));\n    \n                    // broadcast event to document\n                    document.dispatchEvent(new CustomEvent('tokenUpdated'));\n                    document.dispatchEvent(new CustomEvent('connectionState', { detail: 'connected' }));\n    \n                    // set waitingForToken to false\n                    waitingForToken = false;\n    \n                    resolve(result.token)\n                } else {\n                    if(result.error == \"Missing password\" || result.error == \"Missing username\" || result.error.includes(\"probably wrong login information\") || result.error.includes(\"probably bad username/password\")) {\n                        displayToast.presentToast(\"Merci de vous reconnecter.\", \"danger\")\n                    } else if(result.error == \"Your IP address is suspended.\") {\n                        displayToast.presentError(\"Une erreur s'est produite\", \"danger\", \"L'adresse IP de nos serveurs est suspendue pour votre établissement. S'il vous plaît réessayez dans quelques heures.\")\n                    }\n                    else {\n                        displayToast.presentError(\"Une erreur s'est produite.\", \"danger\", result.error)\n                    }\n                    reject(result.error)\n                    // redirect to login page\n                    console.error('[Get Token]: Return to login page - ' + result);\n    \n                    document.dispatchEvent(new CustomEvent('connectionState', { detail: 'disconnected' }));\n                    waitingForToken = false;\n                }\n            })\n            .catch(error => {\n                displayToast.presentError(\"Impossible de joindre le serveur.\", \"danger\", \"\" + error + \"\")\n                console.error('[Get Token]: Unable to join server - ' + error);\n                document.dispatchEvent(new CustomEvent('connectionState', { detail: 'disconnected' }));\n                waitingForToken = false;\n                reject(\"\" + error + \"\")\n            });\n        }\n    })\n}\n\n\n//ecoledirecte : get token\nfunction getEDLogin() {\n    return new Promise((resolve, reject) => {\n        document.dispatchEvent(new CustomEvent('connectionState', { detail: 'connecting' }));\n        if(!waitingForToken) {\n            // gather vars\n            const EDAPI = \"https://api.ecoledirecte.com/v3\"//app.config.globalProperties.$api;\n    \n    \n            let loginData = null;\n            try { \n                loginData = JSON.parse(atob(localStorage.getItem('loginData')));\n            } catch(e) {\n                displayToast.presentError(\"Une erreur interne est survenue\", \"danger\", `Une erreur s'est produite lors de la récupération des données de connexion. Merci de vous reconnecter. (${e})`)\n                console.error(`[Connect to EcoleDirecte API] Error while parsing loginData: ${e}`);\n                reject(e)\n                document.dispatchEvent(new CustomEvent('connectionState', { detail: 'disconnected' }));\n                return;\n            }\n    \n            // get username and password\n            const username = loginData.username;\n            const password = loginData.password;\n    \n            const requestOptions = {\n                headers: { \"Content-Type\": \"application/x-www-form-urlencoded\", \"X-Token\": \"\"},            \n            };\n    \n            // encodeURIComponent because Ecoledirect needs urlencode on any field !\n            const body = `data={\n                \"uuid\": \"\",\n                \"identifiant\": \"${encodeURIComponent(username)}\",\n                \"motdepasse\": \"${encodeURIComponent(password)}\",\n                \"isReLogin\": false\n            }`\n    \n            waitingForToken = true;\n    \n            // get token from API\n            return axios.post(EDAPI + \"/login.awp\", body, requestOptions)\n            .then(async result => {\n                if(result.data.code === 200) {\n                    // save token\n                    localStorage.setItem('token', result.data.token);\n    \n                    // set base64 avatar\n                    result.data.data.accounts[0].profile.photo = await getEDPhoto(result.data.data.accounts[0])\n\n                    // empty localstorage cache\n                    localStorage.setItem('TimetableCache', JSON.stringify([]));\n\n                    // get periods\n                    await getEDPeriods(result.data.data.accounts[0].id, result.data.token).then(periods => {\n                        result.data.data.accounts[0].periods = periods;\n                    })\n                    localStorage.setItem('UserCache', JSON.stringify(result.data.data.accounts[0]));\n                    // broadcast event to document\n                    document.dispatchEvent(new CustomEvent('tokenUpdated'));\n\n                    // set waitingForToken to false\n                    waitingForToken = false;\n                    document.dispatchEvent(new CustomEvent('connectionState', { detail: 'connected' }));\n                    resolve(result.data.token);\n                } else {\n                    reject(result.code + \", \" + result.message)\n                    if(result.data.code === 505) {\n                        displayToast.presentToast(\"Échec de la reconnexion\", \"danger\", \"Vos identifiants semblent invalides. Pour les mettre à jour, déconnectez-vous puis reconnectez-vous de papillon.\\n\" + result.data.message)\n                    }\n                    else {\n                        displayToast.presentError(\"Une erreur s'est produite.\", \"danger\", result.error)\n                    }\n                    // redirect to login page\n                    console.error('[Get Token]: Return to login page - ' + result);\n                    document.dispatchEvent(new CustomEvent('connectionState', { detail: 'disconnected' }));\n                }\n            })\n            .catch(error => {\n                displayToast.presentError(\"Impossible de joindre le serveur.\", \"danger\", error)\n                console.error(error)\n                console.error('[Get Token]: Unable to join server - ' + error);\n                document.dispatchEvent(new CustomEvent('connectionState', { detail: 'disconnected' }));\n                reject(`[${error.code}] ${error.name}: ${error.message}`)\n            });\n        }\n    })\n}\n\n// export\nexport default getToken;","import { toastController, alertController } from '@ionic/vue';\nimport { Toast } from '@capacitor/toast';\n\nimport hapticsController from './hapticsController';\n\nasync function presentToast(msg, color) {\n\tconst toast = await toastController.create({\n\t\tmessage: msg,\n\t\tduration: 5000,\n\t\tposition: \"bottom\",\n\t\tcolor: color\n\t});\n\n\tawait toast.present();\n}\n\nasync function presentNativeToast(msg) {\n\tToast.show({\n\t\ttext: msg,\n\t\tposition: \"bottom\",\n\t\tduration: \"short\"\n\t});\n}\n\nasync function presentToastIcon(msg, color, icon) {\n\tconst toast = await toastController.create({\n\t\tmessage: msg,\n\t\tduration: 5000,\n\t\tposition: \"bottom\",\n\t\tcolor: color,\n\t\ticon: icon\n\t});\n\n\tawait toast.present();\n}\n\nasync function presentToastFull(header, msg, color, icon, error = false, btn_content = null) {\n\t// vibration\n\tif(color == \"danger\") {\n\t\thapticsController.notification(\"error\");\n\t}\n\telse if(color == \"success\") {\n\t\thapticsController.notification(\"success\");\n\t}\n\telse if(color == \"warning\") {\n\t\thapticsController.notification(\"warning\");\n\t}\n\n\tlet btn = []\n\tif (error == true) {\n\t\tbtn = [{\n\t\t\ttext: \"Plus d'infos\",\n\t\t\trole: 'info',\n\t\t\thandler: () => {\n\t\t\t\tif(btn_content == \"[object Object]\" || btn_content == \"undefined\" || btn_content == null) {\n\t\t\t\t\tbtn_content = \"Impossible d'obtenir plus d'infos.\"\n\t\t\t\t}\n\n\t\t\t\talertDialogError(btn_content)\n\t\t\t}\n\t\t}]\n\t}\n\n\tconst toast = await toastController.create({\n\t\theader: header,\n\t\tmessage: msg,\n\t\tduration: 5000,\n\t\tposition: \"bottom\",\n\t\tcolor: color,\n\t\ticon: icon,\n\t\tbuttons: [...btn]\n\t});\n\n\tawait toast.present();\n}\n\nasync function presentToastSmall(header, color, icon) {\n\t// vibration\n\tif(color == \"danger\") {\n\t\thapticsController.notification(\"error\");\n\t}\n\telse if(color == \"success\") {\n\t\thapticsController.notification(\"success\");\n\t}\n\telse if(color == \"warning\") {\n\t\thapticsController.notification(\"warning\");\n\t}\n\n\tconst toast = await toastController.create({\n\t\theader: header,\n\t\tduration: 5000,\n\t\tposition: \"top\",\n\t\tcolor: color,\n\t\ticon: icon,\n\t\tcssClass: \"toast-small\"\n\t});\n\n\tawait toast.present();\n}\n\nasync function presentError(msg, color, error) {\n\t// vibration\n\tif(color == \"danger\") {\n\t\thapticsController.notification(\"error\");\n\t}\n\t\n\tconst toast = await toastController.create({\n\t\tmessage: msg,\n\t\tduration: 5000,\n\t\tposition: \"bottom\",\n\t\tcolor: color,\n\t\tbuttons: [{\n\t\t\ttext: \"Plus d'infos\",\n\t\t\trole: 'info',\n\t\t\thandler: () => { \n\t\t\t\tif(error == \"[object Object]\" || error == \"undefined\" || error == null) {\n\t\t\t\t\terror = `Impossible d'obtenir plus d'infos (${error})`\n\t\t\t\t}\n\n\t\t\t\talertDialogError(error)\n\t\t\t}\n\t\t},]\n\t});\n\n\tawait toast.present();\n}\n\n\nasync function alertDialogError(err) {\n\tconst alert = await alertController.create({\n\t\theader: \"Détails de l'erreur\",\n\t\tsubHeader: \"Une erreur s'est produite\",\n\t\tmessage: err,\n\t\tmode: 'md',\n\t\tbuttons: ['OK'],\n\t});\n\n\tawait alert.present();\n}\n\nasync function presentToastTest() {\n\tconst toast = await toastController.create({\n\t\tmessage: \"Ceci est un test\",\n\t\tduration: 200000,\n\t\tposition: \"bottom\",\n\t\tcolor: \"light\"\n\t});\n\n\tawait toast.present();\n}\n\nexport default {\n\tpresentToastFull,\n\tpresentToastSmall,\n\tpresentNativeToast,\n\tpresentToast,\n\tpresentError,\n\tpresentToastIcon,\n\tpresentToastTest\n};","import { Haptics } from '@capacitor/haptics';\n\nasync function notification(type) {\n    await Haptics.notification({ type: type });\n}\n\nasync function impact(style) {\n    await Haptics.impact({ style: style });\n}\n\nasync function confetti() {\n    let repeat = 5;\n    const interval = setInterval(async () => {\n        \n        await Haptics.impact({ style: 'MEDIUM' });\n\n        if (repeat === 0) {\n            clearInterval(interval);\n        }\n\n        repeat--;\n    }, 50);\n}\n\nexport default {\n    notification,\n    impact,\n    confetti\n}","/* give 50 random colors of all hues but with enough contrast with white text */\nlet colors = ['#1E90FF', '#228B22', '#8B008B', '#F7A139', '#4B0082', '#43C59E', '#5C80BC', '#F15152', '#1244B8', '#17BEBB', '#6B8E23', '#72408A', '#B8860B', '#9B4BBD', '#F0E68C', '#FF69B4', '#008080', '#D46C17', '#209488', '#008704', '#4C7B8B'];\n\nfunction getRandomColor(returnAll=false) {\n\tconst attributedColors = JSON.parse(localStorage.getItem('SubjectColors')) || {};\n\t\n\t// remove all colors that are already attributed\n\tif (!returnAll) {\n\t\tcolors = colors.filter(color => !Object.values(attributedColors).includes(color));\n\t}\n\n\tif (colors.length == 0) {\n\t\treturn '#6AB764';\n\t}\n\n\t// return a random color from the colors array\n\treturn colors[Math.floor(Math.random() * colors.length)];\n}\n\nfunction lightenColor(color, percent) {\n\tconst num = parseInt(color,16),\n\t\tamt = Math.round(2.55 * percent),\n\t\tR = (num >> 16) + amt,\n\t\tB = (num >> 8 & 0x00FF) + amt,\n\t\tG = (num & 0x0000FF) + amt;\n\t\treturn (0x1000000 + (R<255?R<1?0:R:255)*0x10000 + (B<255?B<1?0:B:255)*0x100 + (G<255?G<1?0:G:255)).toString(16).slice(1);\n}\n\nfunction darkenHexColor(col) {\n\treturn '#' + lightenColor(col, -20);\n}\n\nfunction setSubjectColor(subjectName, color, force=false) {\n\tconst subjectColors = JSON.parse(localStorage.getItem('SubjectColors')) || {};\n\n\tif (!color.includes('#')) {\n\t\tcolor = '#' + color;\n\t}\n\n\tif (subjectColors[subjectName] != undefined && !force) {\n\t\treturn subjectColors[subjectName];\n\t}\n\n\tif (subjectColors[subjectName] == color) {\n\t\treturn subjectColors[subjectName];\n\t}\n\n\tsubjectColors[subjectName] = color;\n\n\tlocalStorage.setItem('SubjectColors', JSON.stringify(subjectColors));\n\n\treturn color;\n}\n\nfunction getSubjectColor(subjectName, color, custom=false) {\n\tconst subjectColors = JSON.parse(localStorage.getItem('SubjectColors')) || {};\n\n\tif (subjectName.includes('>')) {\n\t\tsubjectName = subjectName.split(' > ')[0];\n\t} else if (subjectName.includes('&')) {\n\t\ttrue // do nothing\n\t} else if (subjectName.split(' ').length > 1) {\n\t\tsubjectName = subjectName.split(' ')[0];\n\t} \n\n\tif (subjectColors[subjectName]) {\t\n\t\treturn subjectColors[subjectName];\n\t}\n\t\n\tif (localStorage.getItem('useScolColors') != 'true' && !custom) {\n\t\tcolor = getRandomColor()\n\t}\n\n\treturn setSubjectColor(subjectName, color);\n}\n\nexport default { setSubjectColor, getSubjectColor, getRandomColor, lightenColor, darkenHexColor };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \"-legacy.\" + {\"21\":\"2ad49e78\",\"30\":\"70932a16\",\"56\":\"9a5e3bf5\",\"65\":\"7ea6427d\",\"70\":\"cead7eff\",\"74\":\"46f0fc5a\",\"78\":\"b37d5ecb\",\"118\":\"3cebaeb8\",\"121\":\"bf884eed\",\"185\":\"defcec0d\",\"244\":\"fdf82be4\",\"334\":\"4dcda0d7\",\"338\":\"74dc1e64\",\"356\":\"4e18fa34\",\"357\":\"6f4a153e\",\"384\":\"5f7ef35c\",\"392\":\"061f1dc6\",\"397\":\"8e0a0c7b\",\"466\":\"cf490124\",\"486\":\"8ad4784e\",\"576\":\"c5c9c394\",\"581\":\"9e066195\",\"593\":\"26757a1e\",\"642\":\"0aad4860\",\"664\":\"ad8c333c\",\"674\":\"6ba29639\",\"692\":\"cc0baac9\",\"753\":\"a0f2a27a\",\"775\":\"fbeb42c3\",\"776\":\"0fdc0c01\",\"805\":\"0bf6d0b5\",\"811\":\"ccd6a0b2\",\"837\":\"9c0f74a3\",\"880\":\"e577b777\",\"895\":\"70e1a431\",\"961\":\"dd72e27b\",\"977\":\"f83ca9ac\",\"990\":\"1cffccec\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"70\":\"b4023341\",\"121\":\"2fa54cc6\",\"244\":\"49dd3b84\",\"334\":\"b2faec85\",\"356\":\"163cde11\",\"384\":\"8c89dcb9\",\"392\":\"a45f85e0\",\"397\":\"8cd621a4\",\"692\":\"0227fcaa\",\"837\":\"2cc86e49\",\"895\":\"a8d1e54a\",\"977\":\"fb885333\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"papillon:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = (chunkId, fullhref, oldTag, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = (chunkId, promises) => {\n\tvar cssChunks = {\"70\":1,\"121\":1,\"244\":1,\"334\":1,\"356\":1,\"384\":1,\"392\":1,\"397\":1,\"692\":1,\"837\":1,\"895\":1,\"977\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, (e) => {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkpapillon\"] = self[\"webpackChunkpapillon\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], () => (__webpack_require__(433)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","map","webpackContext","webpackContextResolve","__webpack_require__","o","Object","isDarkMode","window","matchMedia","matches","themeMode","localStorage","getItem","checkDarkMode","setStatusBarStyle","StatusBar","overlay","style","Style","setStyle","updateStatus","document","body","classList","add","remove","setNavigationBarStyle","NavigationBar","color","darkButtons","Capacitor","saveInLocalStorage","content","type","logs","JSON","parse","stringify","push","date","Date","message","length","shift","setItem","SafeArea","result","__awaiter","insets","documentElement","setProperty","top","right","bottom","left","addEventListener","setInterval","consoleLog","console","log","consoleWarn","warn","consoleError","error","consoleInfo","info","consoleDebug","debug","App","_a","canGoBack","history","back","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","key","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","slot","_hoisted_8","_createElementVNode","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","src","_hoisted_13","_hoisted_14","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_skeleton_text","_resolveComponent","_component_ion_header","_component_ion_label","_component_ion_item","_component_ion_list","_component_ion_chip","_component_ion_content","_component_ion_menu","_component_ion_router_outlet","_component_ion_split_pane","_component_ion_title","_component_ion_button","_component_ion_buttons","_component_ion_toolbar","_component_ion_modal","_component_ion_app","_openBlock","_createBlock","default","_withCtx","appCanal","_createElementBlock","onClick","args","_i","arguments","displayDevMsg","apply","_createCommentVNode","_createVNode","loggedIn","onIonWillOpen","$event","menuOpened","onIonWillClose","onIonDidOpen","onIonDidClose","swipeGesture","collapse","_normalizeStyle","concat","avatar","dataLoading","animated","ref","_toDisplayString","userData","student","name","school","trim","_","_Fragment","_renderList","appPages","p","i","mode","changePage","url","button","routerDirection","lines","detail","_normalizeClass","selected","selectedIndex","icon","_createTextVNode","title","openURL","connectedToServer","animation","transition","Component","_resolveDynamicComponent","strong","hideChangelog","inset","appUpdates","features","feature","description","fill","BackgroundFetch","require","version","canal","changelog","GetUser","GetRecap","GetToken","defineComponent","components","IonApp","IonContent","IonItem","IonLabel","IonList","IonMenu","IonMenuToggle","IonRouterOutlet","IonSplitPane","IonHeader","IonToolbar","IonSkeletonText","IonModal","IonThumbnail","IonButtons","IonButton","data","ine","contact","email","phone","presentingElement","undefined","isMenuOpened","changeStatusTimeout","showTransition","setup","disabled","usercache","JSONUserCache","modules","forEach","module1","enable","route","useRoute","appVersion","labels","isSelected","path","methods","checkAndroidShortcuts","_this","AndroidShortcuts","response","$router","notify","LocalNotifications","notifications","this","randomID","schedule","at","now","Browser","presentationStyle","sent","Math","floor","random","backgroundFetchEvent","taskId","token","recap","lastGrades","recapGrades","grades","last","lastGrade","gradeAs20","round","grade","value","out_of","reactions","reaction","entries","_b","parseInt","subject","finish","_c","configureBackgroundFetch","configure","minimumFetchInterval","e_1","checkIosShortcuts","RGBToHSL","r","g","b","l","max","s","min","h","presentToast","header","msg","toastController","duration","position","cssClass","toast","present","getUserData","dispatchEvent","CustomEvent","split","lastName","pop","unshift","join","index","menu","querySelector","setTimeout","toggle","askNotifPerms","TestNotif","baseEl","opts","enteringAnimation","createAnimation","addElement","enteringEl","fromTo","easing","leavingAnimation","leavingEl","addAnimation","isOpen","alertController","buttons","alert","displayDevMessage","showChangelog","changelogModal","$refs","$el","dismiss","setSelectedIndex","findIndex","page","watch","$route","to","mounted","currentUrl","location","pathname","$nextTick","SplashScreen","lastRefesh","state","diff","getTime","minutes","globeOutline","navigator","onLine","find","splice","customizations","hex","rgb","__exports__","_defineComponent","__name","__props","nav","onMounted","_unref","IonPage","IonNav","ref_key","root","loginRoutes","component","routes","__spreadArray","redirect","props","router","createRouter","createWebHistory","process","beforeEach","app","createApp","MainApp","use","IonicVue","VueLazyload","mount","config","globalProperties","$rn","$api","isFloat","Number","async","getGrades","forceReload","loginService","getPronoteGrades","getEDGrades","API","URL","gradeCache","today","cacheDate","toDateString","constructPronoteGrades","axios","catch","status","determineSignificant","significant","service","significantReason","significantZero","nonSignificatif","enLettre","valeur","generateRandomId","toString","substr","toUpperCase","groupSubjects","subjectData","markArray","subjectName","subjectId","grouped","excluded","excludedGroupSubjects","averages","marks","sort","a","mark","grpExcluded","newMark","average","significantAverage","outOf20","is_out_of_20","bonus","is_bonus","optional","is_optional","parseFloat","toFixed","class_average","subjectColor","studentAverage","classAverage","classMin","classMax","coef","coefficient","reduce","overall_average","class_overall_average","avgs","finalArray","EDAPI","userID","UserCache","constructEDGrades","requestOptions","headers","reject","notes","periodes","displayToast","allPeriods","actualPeriodID","period","actual","actualPeriod","idPeriode","matieres","ensembleMatieres","disciplines","currentPeriod","matiere","codeMatiere","discipline","groupeMatiere","moyenne","replace","currentPeriodConstruct","currentPeriodConstruct1","filter","periods","actualPeriod1","codePeriode","libelleMatiere","devoir","maxClasse","minClasse","moyenneClasse","noteSur","moyenneMin","moyenneMax","moyenneGenerale","averagesCalculate","moment","dateCalcul","format","calculate","getHomeworks","dateFrom","dateTo","getPronoteHomework","getEDHomework","getSkolengoHomeWork","dayString","toISOString","cacheSearch","element","homework","constructSkolengoHomework","ent","etudiant","Kdecole","ApiVersion","ApiUrl","taf","getTravailAFaire","tafOuvert","homeworks","all","listeTravaux","jour","listTravail","flat","travail","getContenuActivite","uidSeance","uid","t","all_homeworks","cache","cacheElement","done","flagRealise","codeHTML","shortContent","files","pjs","pj","dayRequest","dayRequestTo","dayStringTo","constructPronoteHomework","hw","homeworkArray","file","startsWith","indexOf","homeworkDescription","substring","lastIndexOf","newHomework","background_color","customHomework","homeworkDate","setHours","searchDate","getDate","newDayRequest","constructEDHomework","homeworksdate","requestContent","URL2","response2","homework2","hws","aFaire","documents","libelle","contenu","atob","donneLe","effectue","tickHomework","tickCustomHomework","tickPronoteHomework","tickEDHomework","customHomeworks","homeworkID","dateSet","homeworkId","studentId","undone","getNews","getPronoteNews","getEDNews","getSkolengoNews","newsCache","constructSkolengoNews","news","getActualites","actu","item","titre","htmlContent","dateString","toLocaleDateString","weekday","month","day","toLocaleTimeString","hour","minute","category","author","auteur","attachments","isSurvey","isRead","isAnonymized","constructPronoteNews","newsArray","newsItem","newsReturn","html_content","texte","V","survey","read","anonymous_survey","getRecap","force","getPronoteRecap","getEDRecap","getSkolengoRecap","timetable","full","requestsDone","errorsDone","errors","getTimetable","endDate","setDate","allGrades","j","newGrade","interval","clearInterval","getPronoteTimetable","getEDTimetable","getSkolengoTimetable","constructSkolengoTimetable","listeSeances","user","getCalendrier","calendrier","cdtOuvert","listeJourCdt","seances","seance","course","idSeance","num","sameTime","distance","lengthCours","teachers","rooms","salle","groupNames","memo","aRendre","ar","hasMemo","linkVirtual","time","start","hdeb","end","hfin","isCancelled","flagActif","isExempted","isDetention","isOuting","isTest","isCustom","motifModif","constructPronoteTimetable","courses","newCourse","group_names","virtual","is_cancelled","is_exempted","is_detention","is_outing","is_test","constructEDTimetable","prof","groupe","start_date","end_date","isAnnule","dispensable","typeCours","text","isModifie","FastAverageColor","fac","getUser","getPronoteUser","getEDUser","getSkolengoUser","defaultAvatar","constructSkolengoUser","getInfoUtilisateur","infoUser","nom","constructPronoteUser","profile_picture","avatarBase64","responseType","blob","reader","FileReader","readAsDataURL","onloadend","base64","avatarURL","getColorAsync","establishment","profile","photo","constructEDUser","accounts","getEDPeriods","prenom","rneEtablissement","telPortable","classe","nomEtablissement","userid","prd","dateDebut","dateFin","periode","cloture","getEDPhoto","account","defaultAvatarBase64","avatar_url","referrerPolicy","fetch","avatarData","waitingForToken","getToken","getPronoteLogin","getEDLogin","loginData","username","password","cas","myHeaders","Headers","append","urlencoded","URLSearchParams","method","json","includes","encodeURIComponent","presentNativeToast","Toast","presentToastIcon","presentToastFull","btn_content","hapticsController","btn","role","handler","alertDialogError","presentToastSmall","presentError","err","subHeader","presentToastTest","notification","Haptics","impact","confetti","repeat","colors","getRandomColor","returnAll","attributedColors","values","lightenColor","percent","amt","R","B","G","slice","darkenHexColor","col","setSubjectColor","subjectColors","getSubjectColor","custom","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","getter","__esModule","d","definition","defineProperty","enumerable","get","f","chunkId","promises","u","miniCssF","globalThis","Function","obj","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","timeout","nc","setAttribute","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","target","head","appendChild","Symbol","toStringTag","nmd","paths","children","createStylesheet","fullhref","oldTag","linkTag","rel","onLinkComplete","errorType","realHref","href","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}