"use strict";(self["webpackChunkpapillon"]=self["webpackChunkpapillon"]||[]).push([[911],{2068:(e,t,l)=>{l.d(t,{V:()=>a});var o=l(9895);const a=(0,o.fo)("Dialog",{web:()=>l.e(674).then(l.bind(l,5674)).then((e=>new e.DialogWeb))})},4161:(e,t,l)=>{l.d(t,{m:()=>a});var o=l(9895);const a=(0,o.fo)("Share",{web:()=>l.e(811).then(l.bind(l,5462)).then((e=>new e.ShareWeb))})},7585:(e,t,l)=>{l.d(t,{Bq:()=>n,eB:()=>a,iH:()=>s,xD:()=>r});l(6699),l(3948),l(7658),l(8862),l(1817);var o=l(3162);const a=e=>{const t=new Date(e),l=t.getUTCDay(),o=JSON.parse(localStorage.getItem("disabledDays")),a=JSON.parse(localStorage.getItem("disableHolidays")),s=JSON.parse(localStorage.getItem("daysOff")),n=JSON.parse(localStorage.getItem("holidays"));if(s&&a){const e=s.find((e=>{const l=new Date(e.date);if(t.toDateString()==l.toDateString())return!0}));if(e)return!1}if(n&&a){const e=n.find((e=>{const l=new Date(e.startDate),o=new Date(e.endDate);if(t>l&&t<=o)return!0}));if(e)return!1}return!o||!o.includes(l)};function s(){return new Promise(((e,t)=>{try{const t="https://calendrier.api.gouv.fr/jours-feries/metropole.json",l="https://data.education.gouv.fr/api/records/1.0/search/?dataset=fr-en-calendrier-scolaire&lang=fr&exclude.population=Enseignants",o=(new Date).getFullYear(),a=(new Date).getMonth(),s=localStorage.getItem("acadName"),n=a>=8?o+"-"+(o+1):o-1+"-"+o;fetch(t).then((e=>e.json())).then((e=>{const t=[];for(const[l,o]of Object.entries(e)){const e=new Date(l),a=e.getFullYear();if(a!=n.split("-")[0]&&a!=n.split("-")[1])continue;const s=o,r={date:e,name:s};t.push(r)}localStorage.setItem("daysOff",JSON.stringify(t))})).catch((e=>console.error("[Fetch Days off]: "+e)));const r=[];fetch(l+"&refine.location="+s+"&refine.annee_scolaire="+n).then((e=>e.json())).then((t=>{t.records.forEach((e=>{const t=e.fields.end_date,l=e.fields.start_date,o=e.fields.description,a={endDate:t,startDate:l,name:o};r.push(a)})),localStorage.setItem("holidays",JSON.stringify(r)),e(JSON.stringify(r))})).catch((e=>console.error("[Fetch Holidays]: "+e)))}catch(l){console.error("[datetimePicker Fetching]: "+l),o.Z.presentToast("Erreur lors de la récupération des jours fériés et des vacances scolaires","danger",l),t(l)}}))}function n(){const e=(new Date).getFullYear(),t=(new Date).getMonth(),l=t>=8?e+"-"+(e+1):e-1+"-"+e,o=JSON.parse(localStorage.getItem("disableHolidays"));let a=JSON.parse(localStorage.getItem("holidays"));if(a&&(a=a.find((e=>"Vacances d'Été"==e.name))),a&&o){const e=new Date(a.startDate);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}return l.split("-")[1]+"-12-31"}function r(){const e=(new Date).getFullYear(),t=(new Date).getMonth(),l=t>=8?e+"-"+(e+1):e-1+"-"+e,o=JSON.parse(localStorage.getItem("disableHolidays"));let a=JSON.parse(localStorage.getItem("holidays"));if(a&&(a=a.find((e=>"Vacances d'Été"==e.name))),a&&o){const e=new Date(l.split("-")[0]+"-"+a.endDate.split("-")[1]+"-"+a.endDate.split("-")[2]);return e.toISOString().split("T")[0]}return l.split("-")[0]+"-01-01"}},1911:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Hl});var o=l(6252);function a(e,t,l,a,s,n){var r=(0,o.up)("ion-nav"),i=(0,o.up)("ion-page");return(0,o.wg)(),(0,o.j4)(i,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(r,{root:s.component,ref:"page"},null,8,["root"])]})),_:1})}var s=l(5274),n=l(3577);const r=e=>((0,o.dD)("data-v-1914819e"),e=e(),(0,o.Cn)(),e),i=r((()=>(0,o._)("p",null,"Utilisateur connecté",-1))),u=["src"],c=r((()=>(0,o._)("span",{class:"only-md next-md-icon material-symbols-outlined mdls",slot:"end"},"navigate_next",-1))),d=r((()=>(0,o._)("p",null,"Paramètres de base",-1))),m=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"tune",-1))),p=r((()=>(0,o._)("h2",null,"Options de Papillon",-1))),g=r((()=>(0,o._)("p",null,"Modifier le comportement de Papillon",-1))),h=r((()=>(0,o._)("span",{class:"only-md next-md-icon material-symbols-outlined mdls",slot:"end"},"navigate_next",-1))),f=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"home",-1))),w=r((()=>(0,o._)("h2",null,"Personnalisation de l'écran d'accueil",-1))),_=r((()=>(0,o._)("p",null,"Affichez ou masquez les informations à votre guise sur l'écran d'accueil !",-1))),I=r((()=>(0,o._)("span",{class:"only-md next-md-icon material-symbols-outlined mdls",slot:"end"},"navigate_next",-1))),b=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"palette",-1))),v=r((()=>(0,o._)("h2",null,"Apparence de Papillon",-1))),S=r((()=>(0,o._)("p",null,"Ouvrir le menu de customisation de l'app",-1))),k=r((()=>(0,o._)("span",{class:"only-md next-md-icon material-symbols-outlined mdls",slot:"end"},"navigate_next",-1))),W=r((()=>(0,o._)("p",null,"Options avancées",-1))),C=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"logout",-1))),y=r((()=>(0,o._)("h2",null,"Se déconnecter de Papillon",-1))),T=r((()=>(0,o._)("p",null,"Supprime toutes les données de connexion de l'application",-1))),x=r((()=>(0,o._)("span",{class:"only-md next-md-icon material-symbols-outlined mdls",slot:"end"},"navigate_next",-1))),A=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"monitor_heart",-1))),D=r((()=>(0,o._)("h2",null,"Options avancées",-1))),P=r((()=>(0,o._)("p",null,"Permettent de manipuler Papillon en détail",-1))),L=r((()=>(0,o._)("span",{class:"only-md next-md-icon material-symbols-outlined mdls",slot:"end"},"navigate_next",-1))),U=r((()=>(0,o._)("p",null,"Contributeurs les plus actifs",-1))),z={key:0},j=["src"],N={key:1},B=r((()=>(0,o._)("p",null,"Communauté & liens externes",-1))),$=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"volunteer_activism",-1))),G=r((()=>(0,o._)("p",null,"Donation",-1))),V=r((()=>(0,o._)("h2",null,"Nous soutenir",-1))),O=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"support",-1))),H=r((()=>(0,o._)("p",null,"Discord",-1))),Z=r((()=>(0,o._)("h2",null,"Rejoindre le serveur Discord",-1))),M=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"data_object",-1))),E=r((()=>(0,o._)("p",null,"GitHub",-1))),R=r((()=>(0,o._)("h2",null,"Contribuer au projet Papillon",-1))),J=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"shield",-1))),q=r((()=>(0,o._)("p",null,"Document officiel",-1))),F=r((()=>(0,o._)("h2",null,"Politique de confidentialité",-1))),Y=r((()=>(0,o._)("p",null,"A propos de l'app",-1))),Q=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"security_update_good",-1))),K=r((()=>(0,o._)("p",null,"Version de l'app",-1))),X=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"webhook",-1))),ee=r((()=>(0,o._)("p",null,"Version de l'API",-1))),te=r((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"storage",-1))),le=r((()=>(0,o._)("p",null,"Taille du cache",-1)));function oe(e,t,l,a,s,r){const oe=(0,o.up)("ion-menu-button"),ae=(0,o.up)("ion-buttons"),se=(0,o.up)("ion-title"),ne=(0,o.up)("IonToolbar"),re=(0,o.up)("IonHeader"),ie=(0,o.up)("ion-toolbar"),ue=(0,o.up)("ion-header"),ce=(0,o.up)("IonLabel"),de=(0,o.up)("IonItem"),me=(0,o.up)("ion-nav-link"),pe=(0,o.up)("IonList"),ge=(0,o.up)("IonSkeletonText"),he=(0,o.up)("ion-avatar"),fe=(0,o.up)("IonChip"),we=(0,o.up)("ion-content");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(re,{class:"AppHeader",translucent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(ne,null,{default:(0,o.w5)((()=>[(0,o.Wm)(ae,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(oe,{color:"dark"})])),_:1}),(0,o.Wm)(se,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Paramètres")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(we,{fullscreen:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(ue,{collapse:"condense"},{default:(0,o.w5)((()=>[(0,o.Wm)(ie,null,{default:(0,o.w5)((()=>[(0,o.Wm)(se,{size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("Paramètres")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(ce,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[i])),_:1}),(0,o.Wm)(pe,{class:"listGroup",lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(me,{"router-direction":"forward",component:e.UserView},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{button:""},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.userAvatar,slot:"start",class:"avatar"},null,8,u),(0,o.Wm)(ce,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[(0,o._)("h2",null,(0,n.zw)(e.userName),1),(0,o._)("p",null,(0,n.zw)(e.userClass)+" - "+(0,n.zw)(e.userSchool),1)])),_:1}),c])),_:1})])),_:1},8,["component"])])),_:1}),(0,o.Wm)(ce,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[d])),_:1}),(0,o.Wm)(pe,{class:"listGroup contains-nav-link"},{default:(0,o.w5)((()=>[(0,o.Wm)(me,{"router-direction":"forward",component:e.OptionsView},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{button:""},{default:(0,o.w5)((()=>[m,(0,o.Wm)(ce,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[p,g])),_:1}),h])),_:1})])),_:1},8,["component"]),(0,o.Wm)(me,{"router-direction":"forward",component:e.HomeCustomView},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{button:""},{default:(0,o.w5)((()=>[f,(0,o.Wm)(ce,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[w,_])),_:1}),I])),_:1})])),_:1},8,["component"]),(0,o.Wm)(me,{"router-direction":"forward",component:e.ThemeView},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{button:""},{default:(0,o.w5)((()=>[b,(0,o.Wm)(ce,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[v,S])),_:1}),k])),_:1})])),_:1},8,["component"])])),_:1}),(0,o.Wm)(ce,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[W])),_:1}),(0,o.Wm)(pe,{class:"listGroup contains-nav-link"},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{button:"",onClick:t[0]||(t[0]=t=>e.logout())},{default:(0,o.w5)((()=>[C,(0,o.Wm)(ce,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[y,T])),_:1}),x])),_:1}),(0,o.Wm)(me,{"router-direction":"forward",component:e.AdvancedView},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{button:""},{default:(0,o.w5)((()=>[A,(0,o.Wm)(ce,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[D,P])),_:1}),L])),_:1})])),_:1},8,["component"])])),_:1}),(0,o.Wm)(ce,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[U])),_:1}),(0,o.Wm)(pe,{class:"listGroup"},{default:(0,o.w5)((()=>[null==e.contributors||e.contributorsLoading?((0,o.wg)(),(0,o.iD)("div",N,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(5,(t=>(0,o.Wm)(de,{key:t},{default:(0,o.w5)((()=>[(0,o.Wm)(he,{slot:"start",class:"avatar"},{default:(0,o.w5)((()=>[(0,o.Wm)(ge,{animated:!0,style:{width:"100%",height:"100%"}})])),_:1}),(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[(0,o.Wm)(ge,{animated:!0,style:(0,n.j5)({width:e.randomTitleWidth[t]+"%",height:"12px"})},null,8,["style"]),(0,o.Wm)(ge,{animated:!0,style:(0,n.j5)({width:e.randomTextWidth[t]+"%","margin-top":"10px"})},null,8,["style"])])),_:2},1024)])),_:2},1024))),64))])):((0,o.wg)(),(0,o.iD)("div",z,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.contributors,((t,l)=>((0,o.wg)(),(0,o.j4)(de,{key:l,button:"",onClick:l=>e.openURL(t.html_url)},{default:(0,o.w5)((()=>[(0,o._)("img",{src:t.avatar_url,slot:"start",class:"avatar"},null,8,j),(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[(0,o._)("h2",null,(0,n.zw)(t.login),1),(0,o._)("p",null,(0,n.zw)(t.contributions)+" contributions à Papillon",1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))]))])),_:1}),(0,o.Wm)(ce,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[B])),_:1}),(0,o.Wm)(pe,{class:"listGroup"},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{button:"",onClick:t[1]||(t[1]=t=>e.openURL("https://ko-fi.com/thepapillonapp")),class:"only-md"},{default:(0,o.w5)((()=>[$,(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[G,V])),_:1})])),_:1}),(0,o.Wm)(de,{button:"",onClick:t[2]||(t[2]=t=>e.openURL("https://discord.gg/DMx3TDyz2U"))},{default:(0,o.w5)((()=>[O,(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[H,Z])),_:1})])),_:1}),(0,o.Wm)(de,{button:"",onClick:t[3]||(t[3]=t=>e.openURL("https://github.com/PapillonApp/papillon-v5/"))},{default:(0,o.w5)((()=>[M,(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[E,R])),_:1})])),_:1}),(0,o.Wm)(de,{button:"",onClick:t[4]||(t[4]=t=>e.openURL("https://docs.getpapillon.xyz/documents/politique-de-confidentialite-et-mentions-legales"))},{default:(0,o.w5)((()=>[J,(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[q,F])),_:1})])),_:1})])),_:1}),(0,o.Wm)(ce,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[Y])),_:1}),(0,o.Wm)(pe,{class:"listGroup"},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{onClick:e.showChangelog},{default:(0,o.w5)((()=>[Q,(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[K,(0,o._)("h2",null,(0,n.zw)(e.appVersion)+"-"+(0,n.zw)(e.appPlatform),1)])),_:1}),"dev"==e.appCanal?((0,o.wg)(),(0,o.j4)(fe,{key:0,slot:"end",color:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Développement ")])),_:1})):(0,o.kq)("",!0),"beta"==e.appCanal?((0,o.wg)(),(0,o.j4)(fe,{key:1,slot:"end",color:"warning"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Accès anticipé ")])),_:1})):(0,o.kq)("",!0)])),_:1},8,["onClick"]),(0,o.Wm)(de,null,{default:(0,o.w5)((()=>[X,(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[ee,(0,o._)("h2",null,(0,n.zw)(e.apiVersion),1)])),_:1})])),_:1}),(0,o.Wm)(de,null,{default:(0,o.w5)((()=>[te,(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[le,(0,o._)("h2",null,(0,n.zw)(e.localStorageSize),1)])),_:1})])),_:1})])),_:1})])),_:1})],64)}l(7658);var ae=l(7806);const se=e=>((0,o.dD)("data-v-efb05a10"),e=e(),(0,o.Cn)(),e),ne=se((()=>(0,o._)("p",null,"Sélection du thème",-1))),re=se((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"contrast",-1))),ie=se((()=>(0,o._)("h2",null,"Choisir le thème manuellement",-1))),ue=se((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"dark_mode",-1))),ce=se((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"light_mode",-1))),de=se((()=>(0,o._)("p",null,"Couleur d'accuentuation",-1))),me={class:"preRadio"},pe=se((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"palette",-1))),ge=se((()=>(0,o._)("p",null,"Ceci est une prévisualisation de la couleur que vous venez d'appliquer.",-1))),he=se((()=>(0,o._)("p",null,"Matières",-1))),fe=se((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"palette",-1))),we=se((()=>(0,o._)("h2",null,"Couleur des matières",-1))),_e=se((()=>(0,o._)("p",null,"Personnalisez la couleur de chaque matière",-1))),Ie=se((()=>(0,o._)("p",null,"Paramètres du thème",-1))),be=se((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"invert_colors",-1))),ve=se((()=>(0,o._)("h2",null,"Utiliser les couleurs de l'établissement",-1))),Se=se((()=>(0,o._)("p",null,"Permet d'utiliser les couleurs de votre service scolaire pour identifier les matières.",-1))),ke=se((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"timelapse",-1))),We=se((()=>(0,o._)("h2",null,"Activer l'animation de la progression d'un cours",-1))),Ce=se((()=>(0,o._)("p",null,"(Expérimental) Indiquer la progression d'un cours en cours avec une animation",-1))),ye=se((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"fast_rewind",-1))),Te=se((()=>(0,o._)("h2",null,"Montrer la progression des cours passés",-1))),xe=se((()=>(0,o._)("p",null,"(Expérimental) Indiquer les cours passés avec un style différent",-1)));function Ae(e,t,l,a,s,r){const i=(0,o.up)("IonBackButton"),u=(0,o.up)("ion-buttons"),c=(0,o.up)("ion-title"),d=(0,o.up)("IonButton"),m=(0,o.up)("IonToolbar"),p=(0,o.up)("IonHeader"),g=(0,o.up)("ion-toolbar"),h=(0,o.up)("ion-header"),f=(0,o.up)("IonLabel"),w=(0,o.up)("IonToggle"),_=(0,o.up)("IonItem"),I=(0,o.up)("ion-label"),b=(0,o.up)("ion-radio"),v=(0,o.up)("ion-item"),S=(0,o.up)("ion-radio-group"),k=(0,o.up)("IonList"),W=(0,o.up)("ion-nav-link"),C=(0,o.up)("ion-content");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(p,{class:"AppHeader",translucent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"only-ios",text:"Paramètres",onClick:e.pop},null,8,["onClick"]),(0,o.Wm)(i,{class:"only-md",onClick:e.pop},null,8,["onClick"])])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Apparence")])),_:1}),(0,o.Wm)(u,{slot:"end"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{onClick:t[0]||(t[0]=t=>e.reset())},{default:(0,o.w5)((()=>[(0,o.Uk)("Réinitialiser")])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(C,{fullscreen:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{collapse:"condense"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("Apparence")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(f,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[ne])),_:1}),(0,o.Wm)(k,{class:"listGroup",lines:"inset"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[re,(0,o.Wm)(f,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[ie])),_:1}),(0,o.Wm)(w,{slot:"end",ref:"customThemeMode",onIonChange:t[1]||(t[1]=t=>e.changeTick("customThemeMode"))},null,512)])),_:1}),e.customThemeModeList?((0,o.wg)(),(0,o.j4)(S,{key:0,value:e.currentTheme,ref:"themeMode",onIonChange:e.changeThemeMode},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)(v,{key:0},{default:(0,o.w5)((()=>[ue,(0,o.Wm)(I,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Mode sombre")])),_:1}),(0,o.Wm)(b,{slot:"end",value:"dark"})])),_:1})),((0,o.wg)(),(0,o.j4)(v,{key:1},{default:(0,o.w5)((()=>[ce,(0,o.Wm)(I,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Mode clair")])),_:1}),(0,o.Wm)(b,{slot:"end",value:"light"})])),_:1}))])),_:1},8,["value","onIonChange"])):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(f,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[de])),_:1}),e.availableColors?((0,o.wg)(),(0,o.j4)(k,{key:0,class:"listGroup",lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{mode:"md","allow-empty-selection":!1,value:e.currentColor.color.hex,ref:"colorSelect",onIonChange:e.colorChange,id:"colorSelect"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.availableColors,((e,t)=>((0,o.wg)(),(0,o.j4)(v,{key:t},{default:(0,o.w5)((()=>[(0,o._)("div",me,[(0,o.Wm)(b,{mode:"md",class:"radioColorPreview",style:(0,n.j5)(`--color: ${e.color.hex};`),value:e.color.hex},null,8,["style","value"])])])),_:2},1024)))),128))])),_:1},8,["value","onIonChange"]),(0,o.Wm)(v,{color:"primary",class:"preview"},{default:(0,o.w5)((()=>[pe,(0,o.Wm)(I,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[(0,o._)("h2",null,"Aperçu du "+(0,n.zw)(e.currentColorName.toLowerCase()),1),ge])),_:1})])),_:1})])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(f,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[he])),_:1}),(0,o.Wm)(k,{class:"listGroup",lines:"inset"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{"router-direction":"forward",component:e.CoursesColorView},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{button:""},{default:(0,o.w5)((()=>[fe,(0,o.Wm)(f,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[we,_e])),_:1})])),_:1})])),_:1},8,["component"])])),_:1}),(0,o.Wm)(f,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[Ie])),_:1}),(0,o.Wm)(k,{class:"listGroup",lines:"inset"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[be,(0,o.Wm)(f,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[ve,Se])),_:1}),(0,o.Wm)(w,{slot:"end",ref:"useScolColors",onIonChange:t[2]||(t[2]=t=>e.changeTick("useScolColors"))},null,512)])),_:1}),(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[ke,(0,o.Wm)(f,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[We,Ce])),_:1}),(0,o.Wm)(w,{slot:"end",ref:"tweakProgressBar",onIonChange:t[3]||(t[3]=t=>e.changeTick("tweakProgressBar"))},null,512)])),_:1}),(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[ye,(0,o.Wm)(f,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Te,xe])),_:1}),(0,o.Wm)(w,{slot:"end",ref:"tweakProgressBarShowPast",onIonChange:t[4]||(t[4]=t=>e.changeTick("tweakProgressBarShowPast"))},null,512)])),_:1})])),_:1})])),_:1})],64)}l(8862);var De=l(6726);const Pe=e=>((0,o.dD)("data-v-73add91c"),e=e(),(0,o.Cn)(),e),Le={slot:"end",class:"picker"},Ue=Pe((()=>(0,o._)("span",{class:"material-symbols-outlined mdls"},"error",-1))),ze=["value","onInput"];function je(e,t,l,a,s,r){const i=(0,o.up)("IonBackButton"),u=(0,o.up)("ion-buttons"),c=(0,o.up)("ion-title"),d=(0,o.up)("IonToolbar"),m=(0,o.up)("IonHeader"),p=(0,o.up)("ion-toolbar"),g=(0,o.up)("ion-header"),h=(0,o.up)("IonLabel"),f=(0,o.up)("ion-chip"),w=(0,o.up)("IonItem"),_=(0,o.up)("ion-item-option"),I=(0,o.up)("ion-item-options"),b=(0,o.up)("ion-item-sliding"),v=(0,o.up)("IonList"),S=(0,o.up)("ion-content");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(m,{class:"AppHeader",translucent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"only-ios",text:"Apparence",onClick:e.pop},null,8,["onClick"]),(0,o.Wm)(i,{class:"only-md",onClick:e.pop},null,8,["onClick"])])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Matières")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(S,{fullscreen:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{collapse:"condense"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("Couleur des matières")])),_:1})])),_:1})])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.SubjectColors,((t,l)=>((0,o.wg)(),(0,o.j4)(v,{key:l,inset:"true",lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,{button:"",detail:"false"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o._)("h2",null,(0,n.zw)(l),1),(0,o._)("p",null,(0,n.zw)(t),1)])),_:2},1024),(0,o._)("div",Le,["black"==e.contrastCheck(t)?((0,o.wg)(),(0,o.j4)(f,{key:0,class:"small",color:"warning"},{default:(0,o.w5)((()=>[Ue,(0,o.Uk)(" Contraste faible ")])),_:1})):(0,o.kq)("",!0),(0,o._)("input",{type:"color",value:t,onInput:t=>e.inputColor(t,l)},null,40,ze)])])),_:2},1024),(0,o.Wm)(I,{side:"end"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{onClick:t=>e.deleteSubject(l),color:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)("Supprimer")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})],64)}const Ne=(0,o.aZ)({name:"FolderPage",components:{IonHeader:s.Gu,IonToolbar:s.sr,IonButtons:s.Sm,IonBackButton:s.oU,IonItem:s.Ie,IonLabel:s.Q$,IonTitle:s.wd,IonContent:s.W2,IonList:s.q_,IonItemOption:s.u8,IonItemOptions:s.IK,IonItemSliding:s.td,IonChip:s.hM},methods:{pop(){return!1},refreshColors(){this.SubjectColors=localStorage.getItem("SubjectColors")?JSON.parse(localStorage.getItem("SubjectColors")):[]},deleteSubject(e){const t=JSON.parse(localStorage.getItem("SubjectColors"));delete t[e],localStorage.setItem("SubjectColors",JSON.stringify(t)),De.Z.impact("LIGHT"),this.refreshColors()},inputColor(e,t){const l=e.target.value,o=JSON.parse(localStorage.getItem("SubjectColors"));o[t]=l,localStorage.setItem("SubjectColors",JSON.stringify(o)),De.Z.impact("LIGHT"),this.refreshColors()},contrastCheck(e){const t=parseInt(e.substr(1,2),16),l=parseInt(e.substr(3,2),16),o=parseInt(e.substr(5,2),16),a=(299*t+587*l+114*o)/1e3;return a>=180?"black":"white"}},data(){return{SubjectColors:localStorage.getItem("SubjectColors")?JSON.parse(localStorage.getItem("SubjectColors")):[]}},mounted(){return!1}});var Be=l(3744);const $e=(0,Be.Z)(Ne,[["render",je],["__scopeId","data-v-73add91c"]]),Ge=$e,Ve=(0,o.aZ)({name:"FolderPage",components:{IonHeader:s.Gu,IonToolbar:s.sr,IonButtons:s.Sm,IonButton:s.YG,IonLabel:s.Q$,IonItem:s.Ie,IonList:s.q_,IonRadioGroup:s.se,IonRadio:s.B7,IonBackButton:s.oU,IonToggle:s.ho},setup(){return{CoursesColorView:Ge,availableColors:[{name:"Vert",color:{hex:"#29947A",rgb:"41, 148, 122"}},{name:"Ciel",color:{hex:"#29ABE0",rgb:"41, 171, 224"}},{name:"Bleu",color:{hex:"#007AFF",rgb:"0, 122, 255"}},{name:"Indigo",color:{hex:"#4F5BD5",rgb:"79, 91, 213"}},{name:"Orange",color:{hex:"#E78113",rgb:"231, 129, 19"}},{name:"Saumon",color:{hex:"#DC688A",rgb:"220, 104, 138"}},{name:"Violet",color:{hex:"#9266CC",rgb:"146, 102, 204"}},{name:"Rouge",color:{hex:"#C53333",rgb:"197, 51, 51"}},{name:"Marron",color:{hex:"#A67C52",rgb:"166, 124, 82"}},{name:"Moutarde",color:{hex:"#D4B52A",rgb:"212, 181, 42"}},{name:"Vert citron",color:{hex:"#A6C52A",rgb:"166, 197, 42"}},{name:"Gris",color:{hex:"#8C8C8C",rgb:"140, 140, 140"}},{name:"Turquoise",color:{hex:"#13C5C5",rgb:"19, 197, 197"}}]}},data(){let e=this.availableColors[0];if(localStorage.getItem("customizations")){const t=JSON.parse(localStorage.getItem("customizations"));t.color&&(e=t.color)}return{customThemeModeList:"true"==localStorage.getItem("customThemeMode"),currentTheme:localStorage.getItem("themeMode"),currentColor:e,currentColorName:e.name}},methods:{pop(){return!1},changeTick(e){De.Z.impact({style:"light"});const t=this.$refs[e],l=t.$el.checked;localStorage.setItem(e,l),document.dispatchEvent(new CustomEvent("settingsUpdated")),"customThemeMode"==e&&(this.customThemeModeList=l),"useScolColors"==e?localStorage.removeItem("SubjectColors"):"customThemeMode"==e&&0==l&&localStorage.removeItem("themeMode")},reset(){localStorage.removeItem("customizations"),document.body.style="",this.currentColor=this.availableColors[0]},colorChange(){De.Z.impact({style:"light"});const e=this.$refs.colorSelect.$el.value,t=this.availableColors.find((t=>t.color.hex==e));this.currentColorName=t.name,document.body.style.setProperty("--ion-color-primary",t.color.hex),document.body.style.setProperty("--ion-color-primary-rgb",t.color.rgb);const l=JSON.parse(localStorage.getItem("customizations"))||{};l.color=t,localStorage.setItem("customizations",JSON.stringify(l))},changeThemeMode(){const e=this.$refs.themeMode.$el.value;localStorage.setItem("themeMode",e),this.checkThemeMode(),document.dispatchEvent(new CustomEvent("settingsUpdated"))},tweakProgressBar(){const e=this.$refs.tweakProgressBar,t=e.$el.checked;localStorage.setItem("tweakProgressBar",t),document.dispatchEvent(new CustomEvent("settingsUpdated"))},tweakProgressBarShowPast(){const e=this.$refs.tweakProgressBarShowPast,t=e.$el.checked;localStorage.setItem("tweakProgressBarShowPast",t),document.dispatchEvent(new CustomEvent("settingsUpdated"))},checkThemeMode(){const e=this.$refs.themeMode,t=this.$refs.customThemeMode;if(console.log(t.$el.checked),"true"==localStorage.getItem("customThemeMode")){let l=null;l=null!=localStorage.getItem("themeMode")?"dark"==localStorage.getItem("themeMode")?"dark":"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",t.$el.checked=!0,e.$el.value=l}else this.customThemeModeList=!1,t.$el.checked=!1},checkColor(){const e=this.$refs.colorSelect,t=getComputedStyle(document.body).getPropertyValue("--ion-color-primary");for(let l=0;l<this.availableColors.length;l++){const o=this.availableColors[l];o.color.hex==t&&(e.$el.value=o.name)}}},mounted(){const e=this.$refs.useScolColors;e.$el.checked="true"==localStorage.getItem("useScolColors");const t=this.$refs.tweakProgressBar;t.$el.checked="true"==localStorage.getItem("tweakProgressBar");const l=this.$refs.tweakProgressBarShowPast;if(l.$el.checked="false"!=localStorage.getItem("tweakProgressBarShowPast"),this.checkThemeMode(),this.checkColor(),localStorage.getItem("customizations")){const e=JSON.parse(localStorage.getItem("customizations"));e.color&&(this.currentColor=e.color)}}}),Oe=(0,Be.Z)(Ve,[["render",Ae],["__scopeId","data-v-efb05a10"]]),He=Oe,Ze=e=>((0,o.dD)("data-v-4c7b2c29"),e=e(),(0,o.Cn)(),e),Me=Ze((()=>(0,o._)("p",null,"Onlget Notes",-1))),Ee=Ze((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"nest_thermostat_zirconium_eu",-1))),Re=Ze((()=>(0,o._)("h2",null,"Remettre les notes sur 20",-1))),Je=Ze((()=>(0,o._)("p",null,"Uniformise le barème de toutes les notes",-1))),qe=Ze((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"join_inner",-1))),Fe=Ze((()=>(0,o._)("h2",null,"Joindre les matières identiques",-1))),Ye=Ze((()=>(0,o._)("p",null,"Permet de joindre les matières identiques entre-elles",-1))),Qe=Ze((()=>(0,o._)("p",null,"Onglets & calendrier",-1))),Ke=Ze((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"holiday_village",-1))),Xe=Ze((()=>(0,o._)("h2",null,"Vacances désactivées",-1))),et=Ze((()=>(0,o._)("p",null,"Désactiver les vacances et jours fériés du calendrier",-1))),tt=Ze((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"event_busy",-1))),lt=Ze((()=>(0,o._)("h2",null,"Contraintes journalières du calendrier",-1))),ot=Ze((()=>(0,o._)("p",null,"Désactiver certains jours de la semaine du calendrier",-1))),at=Ze((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"gavel",-1))),st=Ze((()=>(0,o._)("h2",null,"Activer l'onglet vie scolaire",-1))),nt=Ze((()=>(0,o._)("p",null,"Active l'onglet de vie scolaire",-1))),rt=Ze((()=>(0,o._)("p",null,"Emploi du temps",-1))),it=Ze((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"groups",-1))),ut=Ze((()=>(0,o._)("h2",null,"Afficher le groupe pour les cours",-1))),ct=Ze((()=>(0,o._)("p",null,"Autorise le groupe d'un cours à s'afficher dans l'emploi du temps",-1))),dt=Ze((()=>(0,o._)("p",null,"Page d'accueil",-1))),mt=Ze((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"celebration",-1))),pt=Ze((()=>(0,o._)("h2",null,"Ne pas faire apparaître de confettis",-1))),gt=Ze((()=>(0,o._)("p",null,"Retirer les confettis lorsqu'un devoir est coché sur l'accueil",-1)));function ht(e,t,l,a,s,n){const r=(0,o.up)("IonBackButton"),i=(0,o.up)("ion-buttons"),u=(0,o.up)("ion-title"),c=(0,o.up)("IonToolbar"),d=(0,o.up)("IonHeader"),m=(0,o.up)("ion-toolbar"),p=(0,o.up)("ion-header"),g=(0,o.up)("IonLabel"),h=(0,o.up)("IonToggle"),f=(0,o.up)("IonItem"),w=(0,o.up)("IonList"),_=(0,o.up)("ion-content");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(d,{class:"AppHeader",translucent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"only-ios",text:"Paramètres",onClick:e.pop},null,8,["onClick"]),(0,o.Wm)(r,{class:"only-md",onClick:e.pop},null,8,["onClick"])])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Options")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(_,{fullscreen:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{collapse:"condense"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("Options de Papillon")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(g,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[Me])),_:1}),(0,o.Wm)(w,{class:"listGroup",lines:"inset"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[Ee,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Re,Je])),_:1}),(0,o.Wm)(h,{slot:"end",ref:"tweakGrades20",onIonChange:t[0]||(t[0]=t=>e.changeTick("tweakGrades20"))},null,512)])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[qe,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Fe,Ye])),_:1}),(0,o.Wm)(h,{slot:"end",ref:"groupSubjects",onIonChange:t[1]||(t[1]=t=>e.changeGroupSubjects("groupSubjects"))},null,512)])),_:1})])),_:1}),(0,o.Wm)(g,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[Qe])),_:1}),(0,o.Wm)(w,{class:"listGroup",lines:"inset"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[Ke,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Xe,et])),_:1}),(0,o.Wm)(h,{slot:"end",ref:"disableHolidays",onIonChange:t[2]||(t[2]=t=>e.changeTick("disableHolidays"))},null,512)])),_:1}),(0,o.Wm)(f,{button:"",onClick:t[3]||(t[3]=t=>e.disabledDaysChanges())},{default:(0,o.w5)((()=>[tt,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[lt,ot])),_:1})])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[at,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[st,nt])),_:1}),(0,o.Wm)(h,{slot:"end",ref:"viescolaireEnabled",onIonChange:t[4]||(t[4]=t=>e.changeTick("viescolaireEnabled"))},null,512)])),_:1})])),_:1}),(0,o.Wm)(g,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[rt])),_:1}),(0,o.Wm)(w,{class:"listGroup",lines:"inset"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[it,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[ut,ct])),_:1}),(0,o.Wm)(h,{slot:"end",ref:"disableShowGroup",onIonChange:t[5]||(t[5]=t=>e.changeTick("disableShowGroup"))},null,512)])),_:1})])),_:1}),(0,o.Wm)(g,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[dt])),_:1}),(0,o.Wm)(w,{class:"listGroup",lines:"inset"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[mt,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[pt,gt])),_:1}),(0,o.Wm)(h,{slot:"end",ref:"disableConfetti",onIonChange:t[6]||(t[6]=t=>e.changeTick("disableConfetti"))},null,512)])),_:1})])),_:1})])),_:1})],64)}l(6699),l(3948);var ft=l(3162);const wt=(0,o.aZ)({name:"FolderPage",components:{IonHeader:s.Gu,IonToolbar:s.sr,IonButtons:s.Sm,IonBackButton:s.oU,IonList:s.q_,IonItem:s.Ie,IonLabel:s.Q$,IonToggle:s.ho,IonTitle:s.wd,IonContent:s.W2},data(){return{}},methods:{pop(){return!1},tickClick(){De.Z.impact({style:"light"})},changeTick(e){this.tickClick();const t=this.$refs[e],l=t.$el.checked;localStorage.setItem(e,l),document.dispatchEvent(new CustomEvent("settingsUpdated"))},changeGroupSubjects(){this.changeTick("groupSubjects"),"true"==localStorage.getItem("groupSubjects")?ft.Z.presentNativeToast("Les matières sont désormais regroupées"):(localStorage.removeItem("excludedGroupSubjects"),ft.Z.presentNativeToast("Les matières sont désormais séparées"))},async disabledDaysChanges(){try{window.nav.value.$el.pop();const e=JSON.parse(localStorage.getItem("disabledDays"))||[],t=await s.Cl.create({header:"Sélectionnez les jours désactivés",buttons:["OK"],inputs:[{label:"Lundi",type:"checkbox",value:1,checked:e.includes(1)},{label:"Mardi",type:"checkbox",value:2,checked:e.includes(2)},{label:"Mercredi",type:"checkbox",value:3,checked:e.includes(3)},{label:"Jeudi",type:"checkbox",value:4,checked:e.includes(4)},{label:"Vendredi",type:"checkbox",value:5,checked:e.includes(5)},{label:"Samedi",type:"checkbox",value:6,checked:e.includes(6)},{label:"Dimanche",type:"checkbox",value:0,checked:e.includes(0)}]});await t.present();const l=await t.onDidDismiss();localStorage.setItem("disabledDays",JSON.stringify(l.data.values))}catch(e){console.error("[Change days disabled]: "+e),ft.Z.presentNativeToast("Une erreur est survenue")}}},mounted(){const e=this.$refs.tweakGrades20;e.$el.checked="true"==localStorage.getItem("tweakGrades20");const t=this.$refs.viescolaireEnabled;t.$el.checked="true"==localStorage.getItem("viescolaireEnabled");const l=this.$refs.groupSubjects;l.$el.checked="true"==localStorage.getItem("groupSubjects");const o=this.$refs.disableHolidays;o.$el.checked="true"==localStorage.getItem("disableHolidays");const a=this.$refs.disableConfetti;a.$el.checked="true"==localStorage.getItem("disableConfetti");const s=this.$refs.disableShowGroup;s.$el.checked="true"==localStorage.getItem("disableShowGroup")}}),_t=(0,Be.Z)(wt,[["render",ht],["__scopeId","data-v-4c7b2c29"]]),It=_t;l(1817);const bt=(0,o._)("p",null,"Sélectionnez les élements",-1),vt={class:"material-symbols-outlined mdls",slot:"start"};function St(e,t,l,a,s,r){const i=(0,o.up)("IonBackButton"),u=(0,o.up)("ion-buttons"),c=(0,o.up)("ion-title"),d=(0,o.up)("IonToolbar"),m=(0,o.up)("IonHeader"),p=(0,o.up)("ion-toolbar"),g=(0,o.up)("ion-header"),h=(0,o.up)("IonLabel"),f=(0,o.up)("IonToggle"),w=(0,o.up)("IonItem"),_=(0,o.up)("IonList"),I=(0,o.up)("ion-content");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(m,{class:"AppHeader",translucent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"only-ios",text:"Paramètres",onClick:e.pop},null,8,["onClick"]),(0,o.Wm)(i,{class:"only-md",onClick:e.pop},null,8,["onClick"])])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Écran d'accueil")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(I,{fullscreen:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{collapse:"condense"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("Écran d'accueil")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(h,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[bt])),_:1}),(0,o.Wm)(_,{class:"listGroup"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.toggles,((t,l)=>((0,o.wg)(),(0,o.j4)(w,{key:t.name},{default:(0,o.w5)((()=>[(0,o._)("span",vt,(0,n.zw)(t.icon),1),(0,o.Wm)(h,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[(0,o._)("h2",null,(0,n.zw)(t.label),1),(0,o._)("p",null,(0,n.zw)(t.description),1)])),_:2},1024),(0,o.Wm)(f,{slot:"end",ref_for:!0,ref:"toggle"+l,onIonChange:t=>e.changeTick("toggle"+l)},null,8,["onIonChange"])])),_:2},1024)))),128))])),_:1})])),_:1})],64)}const kt=(0,o.aZ)({name:"FolderPage",components:{IonHeader:s.Gu,IonToolbar:s.sr,IonButtons:s.Sm,IonBackButton:s.oU,IonToggle:s.ho,IonItem:s.Ie,IonLabel:s.Q$,IonTitle:s.wd,IonContent:s.W2,IonList:s.q_},methods:{pop(){return!1},tickClick(){De.Z.impact({style:"light"})},changeTick(e){this.tickClick();const t=this.$refs[e][0].$el,l=t.checked;localStorage.setItem(this.toggles[e.split("toggle")[1]].name,l),document.dispatchEvent(new CustomEvent("settingsUpdated"))},checkToggles(){let e=0;this.toggles.forEach((t=>{const l=this.$refs["toggle"+e][0].$el;l.checked="true"==localStorage.getItem(t.name),e++}))}},data(){return{toggles:[{name:"displayNextCourse",label:"Afficher le prochain cours",description:"Affiche le prochain cours en haut de l'écran d'accueil",icon:"book"},{name:"displayNews",label:"Afficher les actus",description:"Affiche les actualités sur l'écran d'accueil",icon:"feed"},{name:"displayLastGrades",label:"Afficher les dernières notes",description:"Affiche les dernières notes sur l'écran d'accueil",icon:"star"},{name:"displayAvatar",label:"Afficher votre photo de profil",description:"Affiche votre avatar Pronote en haut de l'écran d'accueil",icon:"person"},{name:"displayFirstName",label:"Afficher votre nom de famille",description:"Choisissez d'afficher ou non votre nom de famille sur l'écran d'accueil",icon:"badge"},{name:"displayHomeworks",label:"Afficher le travail à faire",description:"Affiche les prochains devoirs à rendre",icon:"work"}]}},mounted(){this.checkToggles()}}),Wt=(0,Be.Z)(kt,[["render",St]]),Ct=Wt;var yt=l(4302);const Tt=e=>((0,o.dD)("data-v-b551fa18"),e=e(),(0,o.Cn)(),e),xt=Tt((()=>(0,o._)("p",null,"Options disponibles",-1))),At=Tt((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"auto_delete",-1))),Dt=Tt((()=>(0,o._)("h2",null,"Vider le cache des données",-1))),Pt=Tt((()=>(0,o._)("p",null,"Réinitialise les données pré-téléchargées hors ligne",-1))),Lt=Tt((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"format_color_fill",-1))),Ut=Tt((()=>(0,o._)("h2",null,"Réattribuer les couleurs de matières",-1))),zt=Tt((()=>(0,o._)("p",null,"Réinitialise les couleurs des matières pour en obtenir de nouvelles",-1))),jt=Tt((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"key",-1))),Nt=Tt((()=>(0,o._)("h2",null,"Régénérer les clés de connexion",-1))),Bt=Tt((()=>(0,o._)("p",null,"Permet de demander une nouvelle autorisation à votre établissement",-1))),$t=Tt((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"event_repeat",-1))),Gt=Tt((()=>(0,o._)("h2",null,"Récupérer de nouveau les vacances et jours fériés",-1))),Vt=Tt((()=>(0,o._)("p",null,"Permet de faire une nouvelle requête et de remplacer les vacances et jours fériés actuellement enregistrés",-1))),Ot=Tt((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"badge",-1))),Ht=Tt((()=>(0,o._)("h2",null,"Définir l'académie utilisée",-1))),Zt=Tt((()=>(0,o._)("p",null,"Permet de définir l'académie d'appartenance manuellement",-1))),Mt=Tt((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"api",-1))),Et=Tt((()=>(0,o._)("h2",null,"Changer d'API",-1))),Rt=Tt((()=>(0,o._)("p",null,"Permet de définir sa propre URL vers une instance de Papillon-Python",-1))),Jt=Tt((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"delete_sweep",-1))),qt=Tt((()=>(0,o._)("h2",null,"Effacer les logs",-1))),Ft=Tt((()=>(0,o._)("p",null,"Supprime les logs de l'application",-1))),Yt=Tt((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"restart_alt",-1))),Qt=Tt((()=>(0,o._)("h2",null,"Redémarrer Papillon",-1))),Kt=Tt((()=>(0,o._)("p",null,"Permet de redémarrer Papillon sans le fermer, pour appliquer des changements",-1))),Xt=Tt((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"developer_mode",-1))),el=Tt((()=>(0,o._)("h2",null,"Voir les logs",-1))),tl=Tt((()=>(0,o._)("p",null,"Consulter les logs de l'application",-1)));function ll(e,t,l,a,s,n){const r=(0,o.up)("IonBackButton"),i=(0,o.up)("ion-buttons"),u=(0,o.up)("ion-title"),c=(0,o.up)("IonToolbar"),d=(0,o.up)("IonHeader"),m=(0,o.up)("ion-toolbar"),p=(0,o.up)("ion-header"),g=(0,o.up)("IonLabel"),h=(0,o.up)("IonItem"),f=(0,o.up)("ion-nav-link"),w=(0,o.up)("IonList"),_=(0,o.up)("ion-content");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(d,{class:"AppHeader",translucent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"only-ios",text:"Paramètres",onClick:e.pop},null,8,["onClick"]),(0,o.Wm)(r,{class:"only-md",onClick:e.pop},null,8,["onClick"])])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Options avancées")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(_,{fullscreen:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{collapse:"condense"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("Options avancées")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(g,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[xt])),_:1}),(0,o.Wm)(w,{class:"listGroup",lines:"inset"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{button:"",onClick:t[0]||(t[0]=t=>e.emptyCache())},{default:(0,o.w5)((()=>[At,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Dt,Pt])),_:1})])),_:1}),(0,o.Wm)(h,{button:"",onClick:t[1]||(t[1]=t=>e.resetColors())},{default:(0,o.w5)((()=>[Lt,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Ut,zt])),_:1})])),_:1}),(0,o.Wm)(h,{button:"",onClick:t[2]||(t[2]=t=>e.refreshToken())},{default:(0,o.w5)((()=>[jt,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Nt,Bt])),_:1})])),_:1}),(0,o.Wm)(h,{button:"",onClick:t[3]||(t[3]=t=>e.refreshDaysAndHolidays())},{default:(0,o.w5)((()=>[$t,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Gt,Vt])),_:1})])),_:1}),(0,o.Wm)(h,{button:"",onClick:t[4]||(t[4]=t=>e.setAcadName())},{default:(0,o.w5)((()=>[Ot,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Ht,Zt])),_:1})])),_:1}),e.isPronote?((0,o.wg)(),(0,o.j4)(h,{key:0,button:"",onClick:t[5]||(t[5]=t=>e.setCustomApiUrl())},{default:(0,o.w5)((()=>[Mt,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Et,Rt])),_:1})])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(h,{button:"",onClick:t[6]||(t[6]=t=>e.clearLogs())},{default:(0,o.w5)((()=>[Jt,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[qt,Ft])),_:1})])),_:1}),(0,o.Wm)(h,{button:"",onClick:t[7]||(t[7]=t=>e.rebootApp())},{default:(0,o.w5)((()=>[Yt,(0,o.Wm)(g,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[Qt,Kt])),_:1})])),_:1}),(0,o.Wm)(f,{"router-direction":"forward",component:e.LogView},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{button:""},{default:(0,o.w5)((()=>[Xt,(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[el,tl])),_:1})])),_:1})])),_:1},8,["component"])])),_:1})])),_:1})],64)}const ol=e=>((0,o.dD)("data-v-4ea7db24"),e=e(),(0,o.Cn)(),e),al=ol((()=>(0,o._)("span",{class:"material-symbols-outlined mdls"},"ios_share",-1))),sl={key:0,class:"NoCours"},nl=ol((()=>(0,o._)("span",{class:"material-symbols-outlined mdls"},"developer_mode",-1))),rl=ol((()=>(0,o._)("h2",null,"Aucun rapport n'a été enregistré.",-1))),il=ol((()=>(0,o._)("p",null,"C'est parfait, il n'y a aucun problème sur l'application (ou alors vous les avez effacés). Détendez-vous, profitez-en !",-1))),ul=[nl,rl,il],cl={class:"log"},dl={class:"type"},ml=ol((()=>(0,o._)("span",{class:"material-symbols-outlined mdls"},"delete",-1))),pl={class:"NoCours"},gl={key:0},hl={key:1},fl=ol((()=>(0,o._)("br",null,null,-1)));function wl(e,t,l,a,s,r){const i=(0,o.up)("IonBackButton"),u=(0,o.up)("ion-buttons"),c=(0,o.up)("ion-title"),d=(0,o.up)("IonButton"),m=(0,o.up)("IonToolbar"),p=(0,o.up)("IonHeader"),g=(0,o.up)("ion-toolbar"),h=(0,o.up)("ion-searchbar"),f=(0,o.up)("ion-header"),w=(0,o.up)("ion-refresher-content"),_=(0,o.up)("ion-refresher"),I=(0,o.up)("ion-label"),b=(0,o.up)("ion-item"),v=(0,o.up)("ion-item-option"),S=(0,o.up)("ion-item-options"),k=(0,o.up)("ion-item-sliding"),W=(0,o.up)("ion-list"),C=(0,o.up)("ion-content");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(p,{class:"AppHeader",translucent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"only-ios",text:"Avancé",onClick:e.pop},null,8,["onClick"]),(0,o.Wm)(i,{class:"only-md",onClick:e.pop},null,8,["onClick"])])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Logs")])),_:1}),(0,o.Wm)(u,{slot:"end"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{onClick:t[0]||(t[0]=t=>e.share())},{default:(0,o.w5)((()=>[al])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(C,{fullscreen:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{collapse:"condense"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("Logs")])),_:1})])),_:1}),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"only-ios",placeholder:"Rechercher dans les logs",onIonInput:t[1]||(t[1]=t=>e.searchLogs(t))})])),_:1})])),_:1}),(0,o.Wm)(_,{slot:"fixed",onIonRefresh:t[2]||(t[2]=t=>e.handleRefresh(t))},{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1}),0!=e.logs.length||e.searching?((0,o.wg)(),(0,o.j4)(W,{key:1},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.logs,(t=>((0,o.wg)(),(0,o.j4)(k,{key:t.id},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o.Wm)(I,{class:"ion-text-wrap",color:e.getTypeColor(t.type)},{default:(0,o.w5)((()=>[(0,o._)("div",cl,(0,n.zw)(t.message),1),(0,o._)("p",null,[(0,o._)("span",dl,(0,n.zw)(t.type),1),(0,o.Uk)(" | "+(0,n.zw)(new Date(t.date).toLocaleString("fr-fr",{dateStyle:"long",timeStyle:"short"})),1)])])),_:2},1032,["color"])])),_:2},1024),(0,o.Wm)(S,{side:"end"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{color:"danger",onClick:l=>e.clearLog(t,l)},{default:(0,o.w5)((()=>[ml,(0,o.Uk)(" Supprimer ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),(0,o._)("div",pl,[this.logs.length<=1?((0,o.wg)(),(0,o.iD)("p",gl,"Vous avez atteint la fin de la liste.")):((0,o.wg)(),(0,o.iD)("p",hl,[(0,o.Uk)("Vous avez atteint la fin de la liste."),fl,(0,o.Uk)("Mais il y a tout de même "+(0,n.zw)(this.logs.length)+" journaux !",1)]))])])),_:1})):((0,o.wg)(),(0,o.iD)("div",sl,ul))])),_:1})],64)}l(2801),l(4916),l(5306),l(2707);var _l=l(9895);const Il=(0,_l.fo)("Device",{web:()=>l.e(961).then(l.bind(l,7961)).then((e=>new e.DeviceWeb))});var bl=l(4161),vl=l(4147);const Sl=(0,o.aZ)({name:"FolderPage",components:{IonHeader:s.Gu,IonToolbar:s.sr,IonBackButton:s.oU,IonButtons:s.Sm,IonButton:s.YG,IonLabel:s.Q$,IonItem:s.Ie,IonItemSliding:s.td,IonItemOption:s.u8,IonItemOptions:s.IK,IonList:s.q_,IonContent:s.W2,IonTitle:s.wd,IonRefresher:s.nJ,IonRefresherContent:s.Wo,IonSearchbar:s.VI},data(){return{baseLogs:[],logs:[],searching:!1,channel:vl.canal,apiVersion:this.getApiVersion(),localStorageSize:this.getLocalStorageSize(),account:{name:"",etab:"",etabUrl:"",cas:""}}},methods:{pop(){return!1},clearLog(e){this.logs=this.logs.filter((t=>t!==e)),this.baseLogs=this.logs,localStorage.setItem("logs",JSON.stringify(this.logs))},searchLogs(e){this.searching=!0;const t=e.target.value.toLowerCase();this.logs=this.baseLogs.filter((e=>{try{const l=e.message.toLowerCase();return l.includes(t)}catch(l){return!1}})),""==t&&(this.logs=this.baseLogs,this.searching=!1)},getAccountInfo(){try{const e=JSON.parse(atob(localStorage.getItem("loginData"))),t=JSON.parse(localStorage.getItem("userData"));this.account.name=t.student.name,this.account.etab=t.class.school,this.account.etabUrl=e.url,this.account.cas=e.cas,""==this.account.cas&&(this.account.cas="Aucun")}catch(e){ft.Z.presentNativeToast("Impossible de récupérer les informations de l'utilisateur"),this.account.name="Inconnu",this.account.etab="Inconnu",this.account.etabUrl="Inconnu",this.account.cas="Inconnu",console.error("[Log View]: "+e)}},getLocalStorageSize(){let e=0;for(let t=0;t<localStorage.length;t++)e+=localStorage.getItem(localStorage.key(t)).length;return e/=1024,e=Math.round(100*e)/100,e},getTypeColor(e){switch(e){case"error":return"danger";case"log":return"primary";case"warn":return"warning"}},getApiVersion(){const e=this.$api,t=localStorage.getItem("apiVersion");fetch(e+"/infos").then((e=>e.json())).then((e=>{const t=e.version;localStorage.setItem("apiVersion",t),this.apiVersion=t})),this.apiVersion=null!==t&&void 0!==t?t:"Inconnue"},async share(){let e="Indisponible";try{ft.Z.presentNativeToast("Préparation des logs...");const t=await fetch("https://cors.api.getpapillon.xyz/https://logs.getpapillon.xyz/documents",{method:"POST",body:this.logs.map((e=>`[${e.type}] - ${e.date.replace("T"," ")} - ${e.message}`)).join("\n")}),l=await t.json();e=`https://logs.getpapillon.xyz/${l.key}`,ft.Z.presentNativeToast("Logs prêts à être partagés")}catch(t){console.error("[Log View]: Failed upload logs - "+t),ft.Z.presentNativeToast("Impossible d'envoyer les logs sur le serveur")}try{await bl.m.share({title:"Exporter les logs",text:`Le **${(new Date).toLocaleString("fr-FR",{dateStyle:"long",timeStyle:"short"})}**\nContient **${this.logs.length}** logs\n\n*Application* :\n> **Version** : ${vl.version}\n> **Canal** : ${this.channel}\n> **Type de plateforme** : ${_l.dV.getPlatform()}\n> **Version API** : ${this.apiVersion}\n> **Taille du cache** : ${this.localStorageSize} kb\n\n*Appareil* :\n> **ID** : ${await Il.getId().then((e=>e.uuid))}\n> **Modèle** : ${await Il.getInfo().then((e=>e.model))}\n> **Version OS** : ${await Il.getInfo().then((e=>e.osVersion))}\n> **Marque** : ${await Il.getInfo().then((e=>e.manufacturer))}\n\n*Compte* :\n> **Nom** : ${this.account.name}\n> **Établissement** : ${this.account.etab}\n> **URL** : ${this.account.etabUrl}\n> **CAS** : ${this.account.cas}\n\n\n**Voir les logs** : *${e}*\n> NB. Les logs sont supprimés après 48h de nos serveurs.`,dialogTitle:"Partager les logs sur Github ou Discord à l'équipe de développement"})}catch(l){console.error(`[Log View]: ${l}`),ft.Z.presentNativeToast("Impossible de partager les logs")}},handleRefresh(e){this.refreshLogs(),e.target.complete()},getCanal(){"dev"==vl.canal?this.channel="Développement":"beta"==vl.canal?this.channel="Bêta":"prod"==vl.canal?this.channel="Stable":this.channel="Inconnu"},refreshLogs(){this.logs=JSON.parse(localStorage.getItem("logs")),this.logs.length>0&&this.logs.sort(((e,t)=>new Date(t.date)-new Date(e.date))),this.baseLogs=this.logs}},mounted(){this.refreshLogs(),this.getAccountInfo(),this.getCanal()}}),kl=(0,Be.Z)(Sl,[["render",wl],["__scopeId","data-v-4ea7db24"]]),Wl=kl;var Cl=l(2560),yl=l(7585),Tl=l(2068),xl=l(8903),Al=l(125);const Dl=(0,o.aZ)({name:"FolderPage",components:{IonHeader:s.Gu,IonToolbar:s.sr,IonButtons:s.Sm,IonBackButton:s.oU,IonList:s.q_,IonItem:s.Ie,IonLabel:s.Q$,IonTitle:s.wd,IonContent:s.W2,IonNavLink:s.Qx},data(){return{LogView:Wl}},methods:{pop(){return!1},resetColors(){localStorage.removeItem("SubjectColors"),ft.Z.presentToastSmall("Couleurs réinitialisées.","success",xl.TjA),setTimeout((()=>{this.localStorageSize=this.getLocalStorageSize()+" kb"}),1e3)},async emptyCache(){const e=await s.G0.create({message:"Veuillez patienter..."});e.present(),localStorage.removeItem("UserCache"),localStorage.removeItem("TimetableCache"),localStorage.removeItem("NewsCache"),localStorage.removeItem("GradeCache"),localStorage.removeItem("HomeworkCache"),localStorage.removeItem("AbsencesCache"),localStorage.removeItem("PunishmentsCache"),localStorage.removeItem("DelaysCache"),localStorage.removeItem("MenuCache"),localStorage.removeItem("ConversationsCache"),localStorage.removeItem("SubjectColors"),await(0,Cl["default"])().catch((t=>{e.dismiss(),ft.Z.presentError("Erreur lors de la reconnexion, veuillez réessayer ultérieurement.","danger",t)})),this.localStorageSize=this.getLocalStorageSize()+" kb",e.dismiss(),ft.Z.presentToastSmall("Le cache a bien été vidé","success",xl.TjA)},getLocalStorageSize(){let e=0;for(let t=0;t<localStorage.length;t++){const l=localStorage.key(t),o=localStorage.getItem(l);e+=o.length}return e/1024},async setAcadName(){const{value:e,cancelled:t}=await Tl.V.prompt({title:"Nom de l'académie",message:"Entrez le nom de l'académie.\nAttention, cela doit être le nom exact de l'académie, sinon les vacances scolaires ne seront pas affichées correctement.",cancelable:!0,inputPlaceholder:"Bordeaux",confirmButtonText:"Valider",cancelButtonText:"Réinitialiser"});e&&(localStorage.setItem("acadName",e),ft.Z.presentToastSmall("Nom de l'académie enregistré.","success",xl.TjA)),t&&ft.Z.presentToastSmall("Annulé","tertiary",xl.cQG)},async refreshToken(){const e=await s.G0.create({message:"Reconnexion, veuillez patienter..."});e.present(),await(0,Cl["default"])().then((()=>{ft.Z.presentToastSmall("Reconnecté avec succès","success",xl.TjA),e.dismiss()})).catch((t=>{e.dismiss(),ft.Z.presentError("Erreur lors de la reconnexion, veuillez réessayer ultérieurement.","danger",t)}))},clearLogs(){localStorage.setItem("logs",JSON.stringify([])),this.logs=[],ft.Z.presentToastSmall("Logs effacés avec succès","success",xl.TjA)},async setCustomApiUrl(){const{value:e,cancelled:t}=await Tl.V.prompt({title:"URL personnalisée",message:"Entrez l'URL personnalisée de l'API (ou laissez vide pour réinitialiser)",cancelable:!0,inputPlaceholder:"https://api.getpapillon.xyz",confirmButtonText:"Valider",cancelButtonText:"Réinitialiser"});e&&(localStorage.setItem("customApiUrl",e),ft.Z.presentToastSmall("URL personnalisée enregistrée","success",xl.TjA),await Tl.V.alert({title:"Attention",message:"Vous devez redémarrer l'application pour que les changements soient pris en compte",confirmButtonText:"OK"})),e||t||(ft.Z.presentToastSmall("L'API utilisée a été réinitialisée.","warning",xl.OoB),localStorage.removeItem("customApiUrl"),await Tl.V.alert({title:"Attention",message:"Vous devez redémarrer l'application pour que les changements soient pris en compte",confirmButtonText:"OK"})),t&&ft.Z.presentToastSmall("Annulé","tertiary",xl.cQG)},async refreshDaysAndHolidays(){const e=await s.G0.create({message:"Veuillez patienter..."});e.present();try{await(0,yl.iH)(),e.dismiss(),ft.Z.presentToastSmall("Jours fériés et vacances scolaires mis à jour","success",xl.TjA)}catch(t){e.dismiss()}},async rebootApp(){Al.c.show(),document.location.pathname="/home"}},mounted(){return"pronote"==localStorage.getItem("loginService")?this.isPronote=!0:this.isPronote=!1,!1}}),Pl=(0,Be.Z)(Dl,[["render",ll],["__scopeId","data-v-b551fa18"]]),Ll=Pl;var Ul=l(6154);const zl="https://api.github.com/repos/PapillonApp/Papillon";async function jl(e=100){return new Promise(((t,l)=>{"number"!==typeof e&&l("Limit must be a number"),e<1&&l("Limit must be higher than 0"),Ul.Z.get(zl+"/contributors").then((l=>{const o=l.data.filter((e=>"User"===e.type));t(o.slice(0,e))})).catch((e=>{l("Problem with fetching contributors ("+e+")")}))}))}const Nl=jl,Bl=(0,o.aZ)({name:"FolderPage",components:{IonHeader:s.Gu,IonContent:s.W2,IonToolbar:s.sr,IonTitle:s.wd,IonMenuButton:s.fG,IonButtons:s.Sm,IonList:s.q_,IonLabel:s.Q$,IonItem:s.Ie,IonNavLink:s.Qx,IonChip:s.hM,IonSkeletonText:s.CK,IonAvatar:s.BJ},setup(){return{appVersion:vl.version,appCanal:vl.canal,appPlatform:_l.dV.getPlatform(),localStorageSize:""}},data(){return{contributors:[],contributorsLoading:!0,userAvatar:"",ThemeView:He,OptionsView:It,HomeCustomView:Ct,UserView:yt.Z,AdvancedView:Ll,randomTextWidth:[],randomTitleWidth:[]}},methods:{async logout(){const e=await s.BO.create({header:"Êtes-vous sûr de vouloir vous déconnecter ?",subHeader:"Vous perdrez vos paramètres et vos données seront supprimées de votre appareil.",buttons:[{text:"Se déconnecter",role:"destructive",data:{action:"delete"},handler:()=>{this.logoutFunc()}},{text:"Annuler",role:"cancel",data:{action:"cancel"}}]});await e.present()},logoutFunc(){localStorage.clear(),location.href="/login"},getLocalStorageSize(){let e=0;for(let t=0;t<localStorage.length;t++)e+=localStorage.getItem(localStorage.key(t)).length;return e/=1024,e=Math.round(100*e)/100,e},getApiVersion(){const e=this.$api,t=localStorage.getItem("apiVersion");fetch(e+"/infos").then((e=>e.json())).then((e=>{const t=e.version;localStorage.setItem("apiVersion",t),this.apiVersion=t})),this.apiVersion=null!==t&&void 0!==t?t:"Inconnue"},async openURL(e){await ae.A.open({url:e,presentationStyle:"popover"})},getContributorsList(){Nl(5).then((e=>{setTimeout((()=>{this.contributors=e,this.contributorsLoading=!1}),1e3)}))},showChangelog(){document.dispatchEvent(new CustomEvent("showChangelog"))},getUserData(){const e=JSON.parse(localStorage.getItem("userData"));e&&(this.userName=e.student.name,this.userClass=e.class.name,this.userSchool=e.class.school,this.userAvatar=e.student.avatar,localStorage.getItem("customAvatar")?this.userAvatar=localStorage.getItem("customAvatar"):localStorage.getItem("avatarCache")&&(this.userAvatar=localStorage.getItem("avatarCache")),localStorage.getItem("customName")&&(this.userName=localStorage.getItem("customName")))}},mounted(){this.getApiVersion(),this.getUserData(),document.addEventListener("userDataUpdated",(()=>{this.getUserData()})),this.getApiVersion(),this.getContributorsList(),this.localStorageSize=this.getLocalStorageSize()+" kb";for(let e=0;e<6;e++)this.randomTextWidth.push(Math.floor(50*Math.random())+50),this.randomTitleWidth.push(Math.floor(50*Math.random())+20)}}),$l=(0,Be.Z)(Bl,[["render",oe],["__scopeId","data-v-1914819e"]]),Gl=$l,Vl={components:{IonNav:s.O1,IonPage:s._i},data:function(){return{component:Gl}}},Ol=(0,Be.Z)(Vl,[["render",a]]),Hl=Ol},4302:(e,t,l)=>{l.d(t,{Z:()=>D});var o=l(6252);const a=e=>((0,o.dD)("data-v-ac506ad4"),e=e(),(0,o.Cn)(),e),s=a((()=>(0,o._)("p",null,"Photo de profil",-1))),n=a((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"person_pin",-1))),r=a((()=>(0,o._)("h2",null,"Changer de photo de profil",-1))),i=a((()=>(0,o._)("p",null,"Utiliser une photo différente dans l'application",-1))),u=a((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"delete",-1))),c=a((()=>(0,o._)("h2",null,"Supprimer la photo de profil personnalisée",-1))),d=a((()=>(0,o._)("p",null,"Utiliser la photo de profil par défaut",-1))),m=a((()=>(0,o._)("p",null,"Nom utilisé",-1))),p=a((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"drive_file_rename_outline",-1))),g=a((()=>(0,o._)("h2",null,"Changer de nom",-1))),h=a((()=>(0,o._)("p",null,"Utiliser un nom différent dans l'application",-1))),f=a((()=>(0,o._)("span",{class:"material-symbols-outlined mdls",slot:"start"},"delete",-1))),w=a((()=>(0,o._)("h2",null,"Réinitialiser le nom utilisé",-1)));function _(e,t,l,a,_,I){const b=(0,o.up)("IonBackButton"),v=(0,o.up)("ion-buttons"),S=(0,o.up)("ion-title"),k=(0,o.up)("IonToolbar"),W=(0,o.up)("IonHeader"),C=(0,o.up)("ion-toolbar"),y=(0,o.up)("ion-header"),T=(0,o.up)("IonLabel"),x=(0,o.up)("IonItem"),A=(0,o.up)("IonList"),D=(0,o.up)("ion-content");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(W,{class:"AppHeader",translucent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{class:"only-ios",text:e.backTitle,onClick:e.pop},null,8,["text","onClick"]),(0,o.Wm)(b,{class:"only-md",onClick:e.pop},null,8,["onClick"])])),_:1}),(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Profil")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(D,{fullscreen:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{collapse:"condense"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Wm)(S,{size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("Profil")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(T,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[s])),_:1}),(0,o.Wm)(A,{class:"listGroup",lines:"inset"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{button:"",onClick:t[0]||(t[0]=t=>e.tweakChangeAvatar())},{default:(0,o.w5)((()=>[n,(0,o.Wm)(T,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[r,i])),_:1})])),_:1}),(0,o.Wm)(x,{button:"",onClick:t[1]||(t[1]=t=>e.tweakDeleteAvatar())},{default:(0,o.w5)((()=>[u,(0,o.Wm)(T,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[c,d])),_:1})])),_:1})])),_:1}),(0,o.Wm)(T,{class:"listGroupTitle"},{default:(0,o.w5)((()=>[m])),_:1}),(0,o.Wm)(A,{class:"listGroup",lines:"inset"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{button:"",onClick:t[2]||(t[2]=t=>e.tweakChangeName())},{default:(0,o.w5)((()=>[p,(0,o.Wm)(T,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[g,h])),_:1})])),_:1}),(0,o.Wm)(x,{button:"",onClick:t[3]||(t[3]=t=>e.tweakDeleteName())},{default:(0,o.w5)((()=>[f,(0,o.Wm)(T,{class:"ion-text-wrap"},{default:(0,o.w5)((()=>[w])),_:1})])),_:1})])),_:1})])),_:1})],64)}l(8862);var I=l(5274),b=l(3162),v=l(8903),S=l(9895);const k=(0,S.fo)("FilePicker",{web:()=>l.e(593).then(l.bind(l,593)).then((e=>new e.FilePickerWeb))});var W=l(2068);const C=l(8664).Z,y=new C,T=(0,o.aZ)({name:"FolderPage",components:{IonHeader:I.Gu,IonToolbar:I.sr,IonButtons:I.Sm,IonBackButton:I.oU,IonList:I.q_,IonItem:I.Ie,IonLabel:I.Q$,IonTitle:I.wd,IonContent:I.W2},data(){let e="Retour";const t=this.$router.currentRoute.value;return"Settings"==t.name?e="Paramètres":"Home"==t.name&&(e="Vue d'ensemble"),{backTitle:e}},methods:{pop(){return!1},async tweakChangeAvatar(){try{const e=await k.pickImages({multiple:!1,readData:!0}),t=e.files[0].data,l="data:image/jpeg;base64,"+t,o=document.createElement("canvas"),a=o.getContext("2d"),s=new Image;s.src=l,s.onload=function(){o.width=128,o.height=128*s.height/s.width,a.drawImage(s,0,0,o.width,o.height);const e=o.toDataURL("image/jpeg");localStorage.setItem("customAvatar",e),document.dispatchEvent(new CustomEvent("userDataUpdated")),y.getColorAsync(e).then((e=>{localStorage.setItem("averageColorCustom",JSON.stringify(e)),document.dispatchEvent(new CustomEvent("averageColorUpdated"))})).catch((e=>{console.log(e)})),b.Z.presentToastSmall("Photo de profil modifiée","success",v.TjA)}}catch(e){console.error("[Change Avatar]: "+e),b.Z.presentToastFull("Erreur lors du changement de photo de profil.","Veuillez réessayer.","danger",v.fID,!0,String(e))}},tweakDeleteAvatar(){if(!localStorage.getItem("customAvatar"))return b.Z.presentToastSmall("Photo de profil non définie","tertiary",v.cQG);localStorage.removeItem("customAvatar"),localStorage.removeItem("averageColorCustom"),document.dispatchEvent(new CustomEvent("userDataUpdated")),b.Z.presentToastSmall("Photo de profil supprimée","success",v.TjA)},tweakChangeName(){let e=JSON.parse(localStorage.getItem("userData")).student.name;localStorage.getItem("customName")&&(e=localStorage.getItem("customName")),W.V.prompt({title:"Changer de nom",message:"Entrez votre nouveau nom",inputPlaceholder:e,okButtonTitle:"Valider",cancelButtonTitle:"Annuler"}).then((e=>{e.value?(localStorage.setItem("customName",e.value),document.dispatchEvent(new CustomEvent("userDataUpdated")),b.Z.presentToastSmall("Nom modifié","success",v.TjA)):b.Z.presentToastSmall("Annulé","tertiary",v.cQG)}))},tweakDeleteName(){if(!localStorage.getItem("customName"))return b.Z.presentToastSmall("Aucun nom défini","tertiary",v.cQG);localStorage.removeItem("customName"),document.dispatchEvent(new CustomEvent("userDataUpdated")),b.Z.presentToastSmall("Nom supprimé","success",v.TjA)}},mounted(){return!1}});var x=l(3744);const A=(0,x.Z)(T,[["render",_],["__scopeId","data-v-ac506ad4"]]),D=A}}]);
//# sourceMappingURL=911-legacy.2ece01c6.js.map