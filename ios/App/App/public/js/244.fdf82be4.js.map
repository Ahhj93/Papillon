{"version":3,"file":"js/244.fdf82be4.js","mappings":"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","sources":["webpack://papillon/./src/functions/utils/datetimePicker.js","webpack://papillon/./src/views/login/LoginSetup.vue?808e","webpack://papillon/./src/views/login/LoginWelcome.vue","webpack://papillon/./src/views/login/LoginSelect.vue","webpack://papillon/./src/views/login/pronote/SchoolSelection.vue","webpack://papillon/./node_modules/@capacitor/geolocation/dist/esm/index.js","webpack://papillon/./src/views/login/pronote/SchoolSelection.vue?68b6","webpack://papillon/./src/views/login/ecoledirecte/LoginForm.vue","webpack://papillon/./src/views/login/ecoledirecte/LoginForm.vue?2325","webpack://papillon/./src/views/login/skolengo/ProjectSelection.vue","webpack://papillon/./src/views/login/skolengo/LoginForm.vue","webpack://papillon/./src/views/login/skolengo/LoginForm.vue?ed84","webpack://papillon/./src/views/login/skolengo/ProjectSelection.vue?4fbb","webpack://papillon/./src/views/login/LoginSelect.vue?b982","webpack://papillon/./src/views/login/LoginWelcome.vue?f51c","webpack://papillon/./src/views/login/LoginSetup.vue?a6f2","webpack://papillon/./src/views/login/LoginSetup.vue"],"sourcesContent":["import displayToast from \"@/functions/utils/displayToast.js\";\r\n\r\nconst isDateAvailable = (dateString) => {\r\n\tconst date = new Date(dateString);\r\n\tconst utcDay = date.getUTCDay();\r\n\t\r\n\tconst disabledDays = JSON.parse(localStorage.getItem('disabledDays'))\r\n\tconst disableHolidays = JSON.parse(localStorage.getItem('disableHolidays'))\r\n\tconst daysOff = JSON.parse(localStorage.getItem('daysOff'))\r\n\tconst holidays = JSON.parse(localStorage.getItem('holidays'))\r\n\r\n\t// daysOff are {'date': '2020-12-25', 'name': 'Christmas'}\r\n\tif (daysOff && disableHolidays) {\r\n\t\tconst found = daysOff.find((dayOff) => {\r\n\t\t\tconst dayOffDate = new Date(dayOff.date);\r\n\t\t\tif (date.toDateString() == dayOffDate.toDateString()) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (found) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t// Holidays are {'startDate': '2020-12-25', 'endDate': '2020-12-25', 'name': 'Christmas'}\r\n\tif (holidays && disableHolidays) {\r\n\t\tconst found = holidays.find((holiday) => {\r\n\t\t\tconst holidayStartDate = new Date(holiday.startDate);\r\n\t\t\tconst holidayEndDate = new Date(holiday.endDate);\r\n\t\t\t// if date (string) is between startDate and endDate return false\r\n\t\t\tif (date > holidayStartDate && date <= holidayEndDate) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (found) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tif (disabledDays) {\r\n\t\tif (disabledDays.includes(utcDay)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction fetchDaysOffAndHolidays() {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\t// Get holidays and days off\r\n\t\t\tconst DAYS_API_BASE = \"https://calendrier.api.gouv.fr/jours-feries/metropole.json\";\r\n\t\t\tconst HOLIDAY_API_BASE = \"https://data.education.gouv.fr/api/records/1.0/search/?dataset=fr-en-calendrier-scolaire&lang=fr&exclude.population=Enseignants\"\r\n\t\r\n\t\t\tconst currentYear = new Date().getFullYear();\r\n\t\t\tconst currentMonth = new Date().getMonth();\r\n\t\t\tconst academie = localStorage.getItem(\"acadName\");\r\n\t\t\tconst currentSchoolYear = currentMonth >= 8 ? currentYear + \"-\" + (currentYear + 1) : (currentYear - 1) + \"-\" + currentYear;\r\n\t\r\n\t\t\t// Fetch days off\r\n\t\t\tfetch(DAYS_API_BASE)\r\n\t\t\t\t.then(response => response.json())\r\n\t\t\t\t.then(result => {\r\n\t\t\t\t\tconst daysOff = [];\r\n\t\r\n\t\t\t\t\tfor (const [key, value] of Object.entries(result)) {\r\n\t\t\t\t\t\tconst date = new Date(key);\r\n\t\r\n\t\t\t\t\t\t// Check if date is in current school year\r\n\t\t\t\t\t\tconst dateYear = date.getFullYear();\r\n\t\t\t\t\t\tif (dateYear != currentSchoolYear.split(\"-\")[0] && dateYear != currentSchoolYear.split(\"-\")[1]) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\tconst name = value;\r\n\t\t\t\t\t\tconst dayOffObject = {\r\n\t\t\t\t\t\t\tdate: date,\r\n\t\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdaysOff.push(dayOffObject);\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tlocalStorage.setItem(\"daysOff\", JSON.stringify(daysOff));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => console.error(\"[Fetch Days off]: \" + error));\r\n\t\r\n\t\t\t// Fetch holidays\r\n\t\t\tconst holidays = [];\r\n\t\t\tfetch(HOLIDAY_API_BASE + \"&refine.location=\" + academie + \"&refine.annee_scolaire=\" + currentSchoolYear)\r\n\t\t\t\t.then(response => response.json())\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tdata.records.forEach(record => {\r\n\t\t\t\t\t\tconst endDate = record.fields.end_date;\r\n\t\t\t\t\t\tconst startDate = record.fields.start_date;\r\n\t\t\t\t\t\tconst name = record.fields.description;\r\n\t\t\t\t\t\tconst holiday = {\r\n\t\t\t\t\t\t\tendDate: endDate,\r\n\t\t\t\t\t\t\tstartDate: startDate,\r\n\t\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tholidays.push(holiday);\r\n\t\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\t\tlocalStorage.setItem(\"holidays\", JSON.stringify(holidays));\r\n\t\t\t\t\tresolve(JSON.stringify(holidays))\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => console.error(\"[Fetch Holidays]: \" + error));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"[datetimePicker Fetching]: \" + error);\r\n\t\t\tdisplayToast.presentToast(\"Erreur lors de la récupération des jours fériés et des vacances scolaires\", \"danger\", error)\r\n\t\t\treject(error)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction maxCalendarDate() {\r\n\tconst currentYear = new Date().getFullYear();\r\n\tconst currentMonth = new Date().getMonth();\r\n\tconst currentSchoolYear = currentMonth >= 8 ? currentYear + \"-\" + (currentYear + 1) : (currentYear - 1) + \"-\" + currentYear;\r\n\r\n\tconst disableHolidays = JSON.parse(localStorage.getItem('disableHolidays'))\r\n\tlet summerHoliday = JSON.parse(localStorage.getItem('holidays'));\r\n\tif (summerHoliday) {\r\n\t\tsummerHoliday = summerHoliday.find(holiday => holiday.name == \"Vacances d'Été\");\r\n\t}\r\n\t\r\n\tif (summerHoliday && disableHolidays) {\r\n\t\tconst maxDate = new Date(summerHoliday.startDate);\r\n\t\tmaxDate.setDate(maxDate.getDate() + 1);\r\n\t\treturn maxDate.toISOString().split('T')[0];\r\n\t} else {\r\n\t\treturn currentSchoolYear.split(\"-\")[1] + \"-12-31\";\r\n\t}\r\n}\r\n\r\nfunction minCalendarDate() {\r\n\tconst currentYear = new Date().getFullYear();\r\n\tconst currentMonth = new Date().getMonth();\r\n\tconst currentSchoolYear = currentMonth >= 8 ? currentYear + \"-\" + (currentYear + 1) : (currentYear - 1) + \"-\" + currentYear;\r\n\r\n\tconst disableHolidays = JSON.parse(localStorage.getItem('disableHolidays'))\r\n\tlet summerHoliday = JSON.parse(localStorage.getItem('holidays'));\r\n\tif (summerHoliday) {\r\n\t\tsummerHoliday = summerHoliday.find(holiday => holiday.name == \"Vacances d'Été\");\r\n\t}\r\n\r\n\tif (summerHoliday && disableHolidays) {\r\n\t\tconst minDate = new Date(currentSchoolYear.split(\"-\")[0] + \"-\" + summerHoliday.endDate.split(\"-\")[1] + \"-\" + summerHoliday.endDate.split(\"-\")[2]);\r\n\t\treturn minDate.toISOString().split('T')[0];\r\n\t} else {\r\n\t\treturn currentSchoolYear.split(\"-\")[0] + \"-01-01\";\r\n\t}\r\n}\r\n\r\nexport { isDateAvailable, fetchDaysOffAndHolidays, maxCalendarDate, minCalendarDate };","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_nav = _resolveComponent(\"ion-nav\")!\n\n  return (_openBlock(), _createBlock(_component_ion_nav, {\n    root: $data.component,\n    ref: \"page\"\n  }, null, 8, [\"root\"]))\n}","<script>\n    import { defineComponent } from 'vue';\n    import {\n        IonButton,\n        alertController\n    } from '@ionic/vue';\n\n    import packageInfo from '/package'\n    import { Capacitor } from '@capacitor/core';\n\n    import { Browser } from '@capacitor/browser';\n\n    import { StatusBar, Style } from '@capacitor/status-bar';\n    import { NavigationBar } from '@mauricewegner/capacitor-navigation-bar';\n\n    import LoginSelect from './LoginSelect.vue';\n\n    export default defineComponent({\n        name: 'FolderPage',\n        components: {\n            \n        },\n        setup() {\n            return { \n                IonButton\n            }\n        },\n        methods: {\n            goNormalStatusBar() {\n                setTimeout(() => {\n                    if (Capacitor.getPlatform() === 'android') {\n                        const isDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n                \n                        if (isDarkMode) {\n                            StatusBar.setBackgroundColor({color: \"#1C1B1F\"});\n                            StatusBar.setStyle({style: Style.Dark})\n                        }\n                        else {\n                            StatusBar.setBackgroundColor({color: \"#ffffff\"});\n                            StatusBar.setStyle({style: Style.Light})\n                        }\n\n                        if (isDarkMode) {\n                            NavigationBar.setColor({\n                                    color: \"#1C1B1F\",\n                                    darkButtons: false\n                            });\n                        }\n                        else {\n                            NavigationBar.setColor({\n                                    color: \"#ffffff\",\n                                    darkButtons: true\n                            });\n                        }\n                    }\n                }, 200);\n            },\n            async openURL(url) {\n                await Browser.open({\n                    url: url\n                });\n            },\n            async displayServiceMsg() {\n                const alert = await alertController.create({\n                    header: 'Vous ne voyez pas votre service scolaire',\n                    message: `Papillon fonctionne grâce à une équipe de développeurs volontaires. Si vous pensez pouvoir ajouter un service à Papillon, n'hésitez pas à contribuer.`,\n                    mode: 'md',\n                    buttons: [\n                        {\n                            text: 'Contribuer',\n                            handler: () => {\n                                this.openURL('https://github.com/PapillonApp/Papillon');\n                            },\n                            cssClass: 'btn_secondary',\n                        },\n                        {\n                            text: 'Je comprends',\n                        }\n                    ]\n                });\n\n                await alert.present();\n            }\n        },\n        data() {\n            return {\n                LoginSelect: LoginSelect,\n                appVersion: packageInfo.version,\n                appPlatform: Capacitor.getPlatform(),\n                status: \"\",\n            }\n        },\n        mounted() {\n            if (Capacitor.getPlatform() === 'android') {\n                StatusBar.setStyle({ style: Style.Dark });\n                StatusBar.setBackgroundColor({color: \"#12D4A6\"});\n                NavigationBar.setColor({\n                        color: \"#186F5A\",\n                        darkButtons: false\n                });\n            }\n\n            return;\n        }\n    });\n</script>\n\n<template>\n      <ion-content :fullscreen=\"true\">\n        <div class=\"content\">\n            <img src=\"/assets/welcome/papillon.svg\" alt=\"Logo de Papillon\" class=\"logo\">\n            <p class=\"description\">Bienvenue sur Papillon, votre nouvelle app scolaire que vous risquez d'adorer !</p>\n\n            <div class=\"buttons\">\n                <ion-nav-link router-direction=\"forward\" :component=\"LoginSelect\">\n                    <ion-button mode=\"md\" color=\"dark\" fill=\"solid\" @click=\"goNormalStatusBar\">\n                        Se connecter avec\n                        \n                        <div class=\"logo_services\">\n                            <img alt=\"Logo\" src=\"/assets/welcome/pronote_logo.png\" />\n                            <img alt=\"Logo\" src=\"/assets/welcome/ecoledirecte_logo.png\" />\n                            <img alt=\"Logo\" src=\"/assets/welcome/skolengo_logo.png\" />\n                            <!-- <img alt=\"Logo\" src=\"/assets/welcome/apschool_logo.png\" />\n                            <img alt=\"Logo\" src=\"/assets/welcome/lvs_logo.png\" /> -->\n                        </div>\n                    </ion-button>\n                </ion-nav-link>\n\n                <ion-button class=\"no_service\" mode=\"md\" color=\"dark\" fill=\"clear\" @click=\"displayServiceMsg\">\n                    Je ne vois pas mon service scolaire\n                </ion-button>\n            </div>\n\n            <div class=\"version\">\n                <p class=\"version_text\"><span>version {{ appVersion }}-{{ appPlatform }}</span></p>\n            </div>\n        </div>\n      </ion-content>\n</template>\n  \n<style scoped>\n    .content {\n        height: 100%;\n        width: 100%;\n        position: fixed;\n\n        padding: 30px 30px !important;\n        padding-top: calc(30px + env(safe-area-inset-top)) !important;\n\n        background: linear-gradient(180deg, #12D4A6 2.24%, #186F5A 91.53%);\n    \n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .content * {\n        --ion-color-dark: #f4f5f8 !important;\n        --ion-color-dark-rgb: 244,245,248 !important;\n        --ion-color-dark-contrast: #186F5A !important;\n\n        color: #fff;\n    }\n\n    .logo {\n        fill: #fff;\n        height: 36px;\n        width: auto;\n        margin-top: -10vh;\n    }\n\n    .description {\n        max-width: 80vw;\n        text-align: center;\n\n        font-family: var(--papillon-font);\n\n        font-size: 17px;\n        line-height: 17px;\n        font-weight: 500;\n\n        margin: 0;\n        margin-top: 10px;\n\n        opacity: 0.7;\n    }\n\n    .buttons {\n        margin-top: 30px;\n        width: 90vw;\n    }\n\n    ion-button {\n        width: 100%;\n        --border-radius: 8px !important;\n    }\n\n    ion-button span {\n        margin-left: 10px;\n        color: #186F5A !important;\n    }\n\n    .logo_services {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        gap: 5px;\n        margin-left: 10px;\n    }\n\n    .logo_services img {\n        height: 24px;\n        width: auto;\n    }\n\n    .no_service {\n        font-size: 13px;\n        font-weight: 500;\n        opacity: 0.7;\n    }\n\n    .version {\n        position: absolute;\n        bottom: calc(28px + env(safe-area-inset-bottom));\n        left: 30px;\n        width: calc(100% - 30px * 2);\n    }\n\n    .version_text {\n        font-size: 11px;\n        font-weight: 400;\n        opacity: 0.3;\n        width: 100%;\n        text-align: center;\n        margin: 0;\n    }\n</style>\n","<script>\n\timport {defineComponent} from 'vue';\n\timport {IonItem, IonLabel, IonList, IonAvatar, IonNavLink, IonListHeader, IonBackButton} from '@ionic/vue';\n\n\timport {\n\t\tlogoDiscord,\n\t\tlogoGithub,\n\t\tbugOutline,\n\t\tbugSharp,\n\t\tinformationCircleOutline,\n\t\tinformationCircleSharp,\n\t\tglobeOutline,\n\t\tglobeSharp\n\t} from 'ionicons/icons';\n\n\timport packageInfo from '/package'\n\timport {Capacitor} from '@capacitor/core';\n\n\timport SchoolSelection from './pronote/SchoolSelection.vue';\n\n\timport EDLoginForm from './ecoledirecte/LoginForm.vue'\n\n\timport SkolengoSelection from './skolengo/ProjectSelection.vue'\n\n\timport {StatusBar, Style} from '@capacitor/status-bar';\n\n\texport default defineComponent({\n\t\tname: 'FolderPage',\n\t\tcomponents: {\n\t\t\tIonItem,\n\t\t\tIonLabel,\n\t\t\tIonList,\n\t\t\tIonAvatar,\n\t\t\tIonNavLink,\n\t\t\tIonListHeader,\n\t\t\tIonBackButton\n\t\t},\n\t\tsetup() {\n\t\t\treturn {\n\t\t\t\tlogoDiscord,\n\t\t\t\tlogoGithub,\n\t\t\t\tbugOutline,\n\t\t\t\tbugSharp,\n\t\t\t\tinformationCircleOutline,\n\t\t\t\tinformationCircleSharp,\n\t\t\t\tglobeOutline,\n\t\t\t\tglobeSharp,\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t},\n\t\tmethods: {\n\t\t\tlogin() {\n\t\t\t\tconst API = this.$api;\n\t\t\t\tconst loginData = JSON.parse(localStorage.loginData);\n\n\t\t\t\tconst username = loginData.username;\n\t\t\t\tconst password = loginData.password;\n\t\t\t\tconst url = loginData.url;\n\t\t\t\tconst cas = loginData.cas;\n\n\t\t\t\tconst myHeaders = new Headers();\n\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n\t\t\t\tconst urlencoded = new URLSearchParams();\n\t\t\t\turlencoded.append(\"url\", url);\n\t\t\t\turlencoded.append(\"ent\", cas);\n\t\t\t\turlencoded.append(\"username\", username);\n\t\t\t\turlencoded.append(\"password\", password);\n\n\t\t\t\tconst requestOptions = {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: myHeaders,\n\t\t\t\t\tbody: urlencoded,\n\t\t\t\t\tredirect: 'follow'\n\t\t\t\t};\n\n\t\t\t\tfetch(API + \"/generatetoken\", requestOptions)\n\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t.then(result => {\n\t\t\t\t\t\tif (result !== \"notfound\" && result !== \"expired\") {\n\t\t\t\t\t\t\tlocalStorage.token = result.token;\n\t\t\t\t\t\t\tlocalStorage.loggedIn = true;\n\n\t\t\t\t\t\t\t// go to home page\n\t\t\t\t\t\t\tlocation.href = \"/\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlocalStorage.loggedIn = false;\n\t\t\t\t\t\t\tlocalStorage.loginData = [];\n\n\t\t\t\t\t\t\t// go to login page\n\t\t\t\t\t\t\tlocation.href = \"/login\";\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tsetOpen(isOpen) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.isOpen = isOpen;\n\t\t\t\t}, 200);\n\t\t\t},\n\t\t\tnextSlide() {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.$refs.swiper.$el.swiper.slideNext();\n\t\t\t\t}, 200);\n\t\t\t},\n\t\t\tgoOldStatusBar() {\n\t\t\t\tif (Capacitor.getPlatform() === 'android') {\n\t\t\t\t\tStatusBar.setStyle({style: Style.Dark});\n\t\t\t\t\tStatusBar.setBackgroundColor({color: \"#12D4A6\"});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tSchoolSelection: SchoolSelection,\n\t\t\t\tEDLoginForm: EDLoginForm,\n\t\t\t\tSkolengoSelection: SkolengoSelection,\n\t\t\t\tappVersion: packageInfo.version,\n\t\t\t\tappPlatform: Capacitor.getPlatform(),\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\n\n\t\t\treturn;\n\t\t}\n\t});\n</script>\n\n<template>\n\t<ion-header>\n\t\t<ion-toolbar>\n\t\t\t<ion-buttons slot=\"start\">\n\t\t\t\t<ion-back-button class=\"only-ios\" text=\"Retour\"></ion-back-button>\n\t\t\t\t<ion-back-button class=\"only-md\"></ion-back-button>\n\t\t\t</ion-buttons>\n\t\t\t<ion-title>Sélectionnez votre service scolaire</ion-title>\n\t\t</ion-toolbar>\n\t</ion-header>\n\n\t<ion-content :fullscreen=\"true\">\n\t\t<ion-list>\n\t\t\t<ion-list-header>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<p>Services disponibles</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-list-header>\n\n\t\t\t<ion-nav-link router-direction=\"forward\" :component=\"SchoolSelection\">\n\t\t\t\t<ion-item detail=\"true\" button>\n\t\t\t\t\t<ion-avatar slot=\"start\">\n\t\t\t\t\t\t<img alt=\"Logo\" src=\"/assets/welcome/pronote_logo.png\"/>\n\t\t\t\t\t</ion-avatar>\n\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t<h2>Pronote</h2>\n\t\t\t\t\t\t<p>Utilisez Pronote et votre ENT pour vous connecter</p>\n\t\t\t\t\t</ion-label>\n\t\t\t\t</ion-item>\n\t\t\t</ion-nav-link>\n\n\t\t\t<ion-nav-link router-direction=\"forward\" :component=\"EDLoginForm\">\n\t\t\t\t<ion-item button detail=\"true\">\n\t\t\t\t\t<ion-avatar slot=\"start\">\n\t\t\t\t\t\t<img alt=\"Logo\" src=\"/assets/welcome/ecoledirecte_logo.png\"/>\n\t\t\t\t\t</ion-avatar>\n\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t<h2>EcoleDirecte</h2>\n\t\t\t\t\t\t<p>Utilisez vos identifiants EcoleDirecte pour vous connecter</p>\n\t\t\t\t\t</ion-label>\n\t\t\t\t</ion-item>\n\t\t\t</ion-nav-link>\n\n\t\t\t<ion-nav-link router-direction=\"forward\" :component=\"SkolengoSelection\">\n\t\t\t\t<ion-item button detail=\"true\">\n\t\t\t\t\t<ion-avatar slot=\"start\">\n\t\t\t\t\t\t<img alt=\"Logo\" src=\"/assets/welcome/skolengo_logo.png\"/>\n\t\t\t\t\t</ion-avatar>\n\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t<h2>ENT régional Skolengo</h2>\n\t\t\t\t\t\t<p>Utilisez vos identifiants d'un ENT Skolengo pour vous connecter</p>\n\t\t\t\t\t</ion-label>\n\t\t\t\t</ion-item>\n\t\t\t</ion-nav-link>\n\n\t\t\t<!-- <ion-item button detail=\"true\" disabled>\n\t\t\t\t<ion-avatar slot=\"start\">\n\t\t\t\t\t<img alt=\"Logo\" src=\"/assets/welcome/apschool_logo.png\" />\n\t\t\t\t</ion-avatar>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>APSchool</h2>\n\t\t\t\t\t<p>Utilisez vos identifiants APSchool pour vous connecter</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item> -->\n\n\t\t\t<!-- <ion-item button detail=\"true\" disabled>\n\t\t\t\t<ion-avatar slot=\"start\">\n\t\t\t\t\t<img alt=\"Logo\" src=\"/assets/welcome/lvs_logo.png\" />\n\t\t\t\t</ion-avatar>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>La-Vie-Scolaire</h2>\n\t\t\t\t\t<p>Utilisez vos identifiants La-Vie-Scolaire.fr pour vous connecter</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item> -->\n\t\t</ion-list>\n\t</ion-content>\n</template>\n\n<style scoped>\n.ios .icon {\n\topacity: 50%;\n}\n</style>\n","<script>\n\timport { defineComponent } from 'vue';\n\timport { IonItem, IonList, IonIcon, IonBackButton, IonSearchbar, IonModal, IonListHeader, IonSpinner, loadingController, IonInput, \n\tIonButton, actionSheetController, alertController } from '@ionic/vue';\n\n\timport axios from 'axios';\n\n\timport { App } from '@capacitor/app';\n\t\n\timport { linkOutline, linkSharp, qrCodeOutline, qrCodeSharp, schoolOutline, schoolSharp, businessOutline, businessSharp, navigateOutline, navigateSharp, personCircleOutline, personCircleSharp, serverOutline, serverSharp } from 'ionicons/icons';\n\n\timport displayToast from '@/functions/utils/displayToast.js';\n\timport { fetchDaysOffAndHolidays } from '@/functions/utils/datetimePicker.js';\n\n\timport { Geolocation } from '@capacitor/geolocation';\n\n\texport default defineComponent({\n\t\tname: 'FolderPage',\n\t\tcomponents: {\n\t\t\tIonBackButton,\n\t\t\tIonItem,\n\t\t\tIonList,\n\t\t\tIonIcon,\n\t\t\tIonSearchbar,\n\t\t\tIonModal,\n\t\t\tIonListHeader,\n\t\t\tIonSpinner,\n\t\t\tIonInput,\n\t\t\tIonButton\n\t\t},\n\t\tsetup() {\n\t\t\treturn { \n\t\t\t\tlinkOutline,\n\t\t\t\tlinkSharp,\n\t\t\t\tqrCodeOutline,\n\t\t\t\tqrCodeSharp,\n\t\t\t\tschoolOutline,\n\t\t\t\tschoolSharp,\n\t\t\t\tserverOutline,\n\t\t\t\tserverSharp,\n\t\t\t\tbusinessOutline,\n\t\t\t\tbusinessSharp,\n\t\t\t\tnavigateOutline,\n\t\t\t\tnavigateSharp,\n\t\t\t\tpersonCircleOutline,\n\t\t\t\tpersonCircleSharp\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getENTs();\n\t\t\tthis.GetLocation();\n\t\t},\n\t\tmethods: {\n\t\t\tdecodeEntities(encodedString) {\n\t\t\t\tconst translate_re = /&(nbsp|amp|quot|lt|gt|Eacute|eacute|Egrave|egrave);/g;\n\t\t\t\tconst translate = {\n\t\t\t\t\t\"nbsp\": \" \",\n\t\t\t\t\t\"amp\" : \"&\",\n\t\t\t\t\t\"quot\": \"\\\"\",\n\t\t\t\t\t\"lt\"  : \"<\",\n\t\t\t\t\t\"gt\"  : \">\",\n\t\t\t\t\t\"Eacute\" : \"É\",\n\t\t\t\t\t\"eacute\" : \"é\",\n\t\t\t\t\t\"Egrave\" : \"È\",\n\t\t\t\t\t\"egrave\" : \"è\",\n\t\t\t\t};\n\t\t\t\treturn encodedString.replace(translate_re, function(match, entity) {\n\t\t\t\t\treturn translate[entity];\n\t\t\t\t}).replace(/&#(\\d+);/gi, function(match, numStr) {\n\t\t\t\t\tconst num = parseInt(numStr, 10);\n\t\t\t\t\treturn String.fromCharCode(num);\n\t\t\t\t});\n\t\t\t},\n\t\t\tasync getENTs() {\n\t\t\t\tconst infosAPI = this.$api + \"/infos\";\n\n\t\t\t\tconst loading = await loadingController.create({\n\t\t\t\t\tmessage: 'Obtention des ENTS...'\n\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\tloading.present();\n\t\t\t\t\n\t\t\t\taxios.get(infosAPI)\n\t\t\t\t.then(response => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tloading.dismiss();\n\t\t\t\t\t}, 300);\n\t\t\t\t\tthis.ents = response.data.ent_list;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tloading.dismiss();\n\t\t\t\t\t}, 300);\n\t\t\t\t\tconsole.error(error)\n\t\t\t\t\tdisplayToast.presentError(\"Impossible de récupérer les ENTS. La connexion risque de ne pas fonctionner.\", \"danger\", error)\n\t\t\t\t})\n\t\t\t},    \n\t\t\tasync GetLocation() {\n\t\t\t\tconst coordinates = await Geolocation.getCurrentPosition()\n\t\t\t\t.catch(err => {\n\t\t\t\t\tif(err.code === 1) {\n\t\t\t\t\t\tthis.permissionWait = false\n\t\t\t\t\t\tthis.permissionDeny = true\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconst lat = coordinates.coords.latitude;\n\t\t\t\tconst lon = coordinates.coords.longitude;\n\n\t\t\t\tthis.isLoading = true;\n\t\t\t\tthis.findEstablishments(lat, lon)\n\t\t\t},     \n\t\t\tasync createEntPicker(multipleEnts) {\n\t\t\t\tconst options = [];\n\n\t\t\t\tfor (let i = 0; i < multipleEnts.cas.length; i++) {\n\t\t\t\t\toptions.push({\n\t\t\t\t\t\ttext: multipleEnts.cas[i].name,\n\t\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t\tconst selected = {\n\t\t\t\t\t\t\t\tetab : multipleEnts.etab.toLowerCase(),\n\t\t\t\t\t\t\t\tcas : multipleEnts.cas[i].py,\n\t\t\t\t\t\t\t\tcas_name : multipleEnts.cas[i].name,\n\t\t\t\t\t\t\t\teduconnect : multipleEnts.cas[i].educonnect == true,\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.displayLogin(selected)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\toptions.push({\n\t\t\t\t\ttext: 'Annuler',\n\t\t\t\t\trole: 'cancel',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tdisplayToast.presentToast(\"Vous devez choisir un ENT pour continuer.\", \"danger\")\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'cancel'\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tconst actionSheet = await actionSheetController.create({\n\t\t\t\t\theader: 'Choisissez votre méthode de connexion',\n\t\t\t\t\tsubHeader: 'Plusieurs méthodes de connexion sont disponibles pour votre établissement. Choisissez celle que vous souhaitez utiliser.',\n\t\t\t\t\tbuttons: options\n\t\t\t\t});\n\n\t\t\t\tawait actionSheet.present();\n\t\t\t},\n\t\t\tgetPostal(e) {\n\t\t\t\tlet postal = e.detail.value\n\n\t\t\t\tif (postal.trim().length != 5) {\n\t\t\t\t\tif (postal.trim().length == 0) {\n\t\t\t\t\t\tthis.clearEtabs();\n\t\t\t\t\t\tthis.locationFailed = false;\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tpostal = postal.normalize(\"NFD\").replace(/\\p{Diacritic}/gu, \"\");\n\n\t\t\t\tif(postal.trim() == \"\") {\n\t\t\t\t\tthis.clearEtabs();\n\t\t\t\t\tthis.locationFailed = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.etabs = [];\n\t\t\t\tthis.etabsEmpty = false;\n\t\t\t\tthis.locationFailed = false;\n\t\t\t\tthis.terms = postal;\n\t\t\t\tthis.isLoading = true;\n\t\t\t\t\n\t\t\t\taxios.get('https://cors.api.getpapillon.xyz/https://positionstack.com/geo_api.php?query=france+' + postal, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t\t\t\t'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n\t\t\t\t\t\t'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization',\n\t\t\t\t\t\t'Access-Control-Allow-Credentials': 'true'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(response => {                      \n\t\t\t\t\tconst data = response.data.data;\n\n\t\t\t\t\tconst lat = data[0].latitude;\n\t\t\t\t\tconst lon = data[0].longitude;\n\n\t\t\t\t\tthis.foundCity = data[0].locality;\n\n\t\t\t\t\tthis.findEstablishments(lat, lon)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\tthis.locationFailed = true;\n\t\t\t\t\tconsole.error(\"[Get Postal Code]: \" + error)\n\t\t\t\t\tdisplayToast.presentError(`Une erreur s'est produite pour obtenir votre code postal.`, \"danger\", error.stack)\n\t\t\t\t})\n\t\t\t},\n\t\t\tfindEstablishments(lat, lon) {\n\t\t\t\tthis.permissionWait = false\n\t\t\t\tthis.etabsFetching = true\n\t\t\t\tfetch(\"https://www.index-education.com/swie/geoloc.php\", {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\taccept: \"*/*\",\n\t\t\t\t\t\t\"accept-language\": \"fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7\",\n\t\t\t\t\t\t\"content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\t\t\t\t\t\"sec-ch-ua\":\n\t\t\t\t\t\t'\"Chromium\";v=\"110\", \"Not A(Brand\";v=\"24\", \"Google Chrome\";v=\"110\"',\n\t\t\t\t\t\t\"sec-ch-ua-mobile\": \"?0\",\n\t\t\t\t\t\t\"sec-ch-ua-platform\": '\"Windows\"',\n\t\t\t\t\t\t\"sec-fetch-dest\": \"empty\",\n\t\t\t\t\t\t\"sec-fetch-mode\": \"cors\",\n\t\t\t\t\t\t\"sec-fetch-site\": \"cross-site\",\n\t\t\t\t\t\t\"sec-gpc\": \"1\",\n\t\t\t\t\t},\n\t\t\t\t\treferrer: \"http://localhost:8081/\",\n\t\t\t\t\treferrerPolicy: \"strict-origin-when-cross-origin\",\n\t\t\t\t\tbody: \n\t\t\t\t\t\t\"data=%7B%22nomFonction%22%3A%22geoLoc%22%2C%22lat%22%3A\" +\n\t\t\t\t\t\tlat +\n\t\t\t\t\t\t\"%2C%22long%22%3A\" +\n\t\t\t\t\t\tlon +\n\t\t\t\t\t\t\"%7D\",\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tmode: \"cors\",\n\t\t\t\t\tcredentials: \"omit\",\n\t\t\t\t})\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tthis.etabs = data;\n\t\t\t\t\tthis.etabsFetching = false;\n\t\t\t\t\tif (this.etabs.length == 0) {\n\t\t\t\t\t\tthis.etabsEmpty = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.etabsEmpty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (JSON.stringify(data) == \"{}\") {\n\t\t\t\t\t\tthis.locationFailed = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.locationFailed = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// remove all etabs with no URL\n\t\t\t\t\tfor (let i = 0; i < this.etabs.length; i++) {\n\t\t\t\t\tif (this.etabs[i].url == \"\" || this.etabs[i].url == null) {\n\t\t\t\t\t\tthis.etabs.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// decode etabName html entities\n\t\t\t\t\tfor (let i = 0; i < this.etabs.length; i++) {\n\t\t\t\t\t\tthis.etabs[i].nomEtab = this.decodeEntities(this.etabs[i].nomEtab);\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t}, 200);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(\"[Find Establishment]: \" + error);\n\n\t\t\t\t\tif (this.retries < 3) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.findEstablishments(lat, lon);\n\t\t\t\t\t}, 1000);\n\t\t\t\t\tthis.retries++;\n\t\t\t\t\t} else {\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\tthis.locationFailed = true;\n\t\t\t\t\tdisplayToast.presentError(\n\t\t\t\t\t\t`Une erreur s'est produite pour obtenir les établissements à proximité.`,\n\t\t\t\t\t\t\"danger\",\n\t\t\t\t\t\terror.stack\n\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tclearEtabs() {\n\t\t\t\tthis.etabs = [];\n\t\t\t\tthis.etabsEmpty = true;\n\t\t\t},\n\t\t\tasync URLLogin() {\n\t\t\t\tconst alert = await alertController.create({\n\t\t\t\t\theader: 'Connexion avec une URL Pronote',\n\t\t\t\t\tmessage: 'Veuillez entrer l\\'URL de votre établissement Pronote.',\n\t\t\t\t\tmode: 'md',\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: 'Annuler',\n\t\t\t\t\t\t\trole: 'cancel',\n\t\t\t\t\t\t\tcssClass: 'btn_secondary',\n\t\t\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t\t\talert.dismiss();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\ttext: 'Se connecter',\n\t\t\t\t\t\t\thandler: (data) => {\n\t\t\t\t\t\t\t\tlet etaburl = data.url;\n\n\t\t\t\t\t\t\t\tif (etaburl == '') {\n\t\t\t\t\t\t\t\t\tdisplayToast.presentToast('Veuillez entrer une URL valide.', 'danger');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// remove everything after the last / if includes 'eleve.html'\n\t\t\t\t\t\t\t\tif(etaburl.includes('eleve.html')) {\n\t\t\t\t\t\t\t\t\tetaburl = etaburl.split('/').slice(0, -1).join('/');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.loginToEtab(etaburl, null, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tinputs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'url',\n\t\t\t\t\t\t\ttype: 'url',\n\t\t\t\t\t\t\tplaceholder: 'https://XXXXXXXY.index-education.net/pronote'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t});\n\n\t\t\t\tawait alert.present();\n\t\t\t},\n\t\t\tloginToDemo() {\n\t\t\t\tthis.loginToEtab(\"https://demo.index-education.net/pronote\");\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.$refs.user.$el.value = \"demonstration\";\n\t\t\t\t\tthis.$refs.pass.$el.value = \"pronotevs\";\n\n\t\t\t\t\tthis.login();\n\t\t\t\t}, 1000);\n\t\t\t},\n\t\t\tasync loginToEtab(url, cp, customUrl = false) {\n\t\t\t\t// lowercase url\n\t\t\t\turl = url.toLowerCase();\n\t\t\t\tlet etab = url.toLowerCase();\n\n\t\t\t\tlet isToutatice = false;\n\n\t\t\t\t// check if cp (integer) starts with 35, 22, 56, or 29 (Bretagne)\n\t\t\t\tif(cp) {\n\t\t\t\t\tif(cp.toString().startsWith(\"35\") || cp.toString().startsWith(\"22\") || cp.toString().startsWith(\"56\") || cp.toString().startsWith(\"29\")) {\n\t\t\t\t\t\tisToutatice = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// start loading\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\tif(!etab.includes(\"eleve.html\")) {\n\t\t\t\t\tif(etab.includes(\"/pronote/\")) {\n\t\t\t\t\t\tetab = etab + \"eleve.html\";\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tetab = etab + \"/\" + \"eleve.html\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst loading = await loadingController.create({\n\t\t\t\t\tmessage: 'Veuillez patienter...'\n\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\tloading.present();\n\t\t\t\t// get ENT\n\t\t\t\taxios.get(`https://api.androne.dev/papillon-v4/redirect.php?url=${encodeURIComponent(etab)}`)\n\t\t\t\t.then(response => {\n\t\t\t\t\t// end loading\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\tloading.dismiss()\n\t\t\t\t\tconst resp = response.data.url;\n\t\t\t\t\tlet cas_host = resp.split('/')[2];\n\t\t\t\t\tcas_host = cas_host.split('/')[0] || cas_host;\n\t\t\t\t\tif(cas_host.includes(\"index-education.net\")) {\n\t\t\t\t\t\tcas_host = \"index-education.net\";\n\t\t\t\t\t}\n\t\t\t\t\t// more toutatice weird stuff\n\t\t\t\t\tif(cas_host.includes(\"pronote.toutatice.fr\")) {\n\t\t\t\t\t\tcas_host = \"www.toutatice.fr\";\n\t\t\t\t\t}\n\n\t\t\t\t\tconst all_cas_same_host = this.ents.filter(cas => {\n\t\t\t\t\t\tif(cas.url.includes(\"*.\")) {\n\t\t\t\t\t\t\tcas_host = cas_host.split('.')[1];\n\t\t\t\t\t\t\tcas.url = cas.url.split('.')[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn cas.url == cas_host\n\t\t\t\t\t});\n\n\t\t\t\t\tlet cas = all_cas_same_host[0];\n\t\t\t\t\tif (all_cas_same_host.length == 0) {\n\t\t\t\t\t\t// no CAS for this host\n\t\t\t\t\t\tif (customUrl) {\n\t\t\t\t\t\t\tall_cas_same_host.push({\n\t\t\t\t\t\t\t\tname: \"Connexion directe via Pronote\",\n\t\t\t\t\t\t\t\turl: \"index-education.net\",\n\t\t\t\t\t\t\t\tpy: \"\",\n\t\t\t\t\t\t\t\teduconnect: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tcas = all_cas_same_host[0].py;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdisplayToast.presentToast(`Aucun CAS trouvé pour ${cas_host}.`, \"danger\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (all_cas_same_host.length == 1 && all_cas_same_host[0].url == \"index-education.net\") {\n\t\t\t\t\t\t// only one CAS for this host and not an ENT\n\t\t\t\t\t\tcas = all_cas_same_host[0].py;\n\t\t\t\t\t}\n\t\t\t\t\telse if (all_cas_same_host.length >= 1) {\n\t\t\t\t\t\t// multiple CAS for this host\n\t\t\t\t\t\tall_cas_same_host.push({\n\t\t\t\t\t\t\tname: \"Connexion directe via Pronote\",\n\t\t\t\t\t\t\turl: \"index-education.net\",\n\t\t\t\t\t\t\tpy: \"\",\n\t\t\t\t\t\t\teduconnect: false,\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tconst listToChoose = {\n\t\t\t\t\t\t\tetab : etab.toLowerCase(),\n\t\t\t\t\t\t\tcas : all_cas_same_host,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.createEntPicker(listToChoose);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// TODO: Vérifier si ca fonctionne pour toutatice\n\t\t\t\t\tif(isToutatice) {\n\t\t\t\t\t\t// car toutatice est chelou\n\t\t\t\t\t\tthis.loginToEtab(url.replace(\"index-education.net\", \"pronote.toutatice.fr\"));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// put etab to lowercase\n\t\t\t\t\t\tetab = etab.toLowerCase();\n\n\t\t\t\t\t\tconst selected = {\n\t\t\t\t\t\t\tetab : etab,\n\t\t\t\t\t\t\tcas : cas,\n\t\t\t\t\t\t\tcas_name : all_cas_same_host[0].name,\n\t\t\t\t\t\t\teduconnect : all_cas_same_host[0].educonnect == true,\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.displayLogin(selected)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tdisplayLogin(selected) {\n\t\t\t\tthis.etabUrl = selected.etab;\n\t\t\t\tthis.etabCas = selected.cas;\n\t\t\t\tthis.displayCas = selected.cas_name;\n\t\t\t\tthis.isEduconnectLogin = selected.educonnect;\n\n\t\t\t\tthis.$refs.loginModal.$el.present()\n\t\t\t},\n\t\t\tdismiss() {\n\t\t\t\tthis.$refs.loginModal.$el.dismiss();\n\t\t\t},\n\t\t\tasync changeApi() {\n\t\t\t\tconst rebootAlert = await alertController.create({\n\t\t\t\t\theader: 'Redémarrage requis',\n\t\t\t\t\tmessage: 'Vous devez redémarrer l\\'application pour appliquer les changements.',\n\t\t\t\t\tmode: 'md',\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: 'Plus tard',\n\t\t\t\t\t\t\trole: 'cancel',\n\t\t\t\t\t\t\tcssClass: 'btn_secondary',\n\t\t\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t\t\talert.dismiss();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\ttext: 'Quitter',\n\t\t\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t\t\tApp.exitApp();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t});\n\n\n\t\t\t\tconst alert = await alertController.create({\n\t\t\t\t\theader: 'URL personnalisée',\n\t\t\t\t\tmessage: 'Entrez l\\'URL personnalisée de l\\'API',\n\t\t\t\t\tmode: 'md',\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: 'Réinitialiser',\n\t\t\t\t\t\t\trole: 'reset',\n\t\t\t\t\t\t\tcssClass: 'btn_secondary',\n\t\t\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t\t\tdisplayToast.presentToast(\n\t\t\t\t\t\t\t\t\t'API personnalisée réinitialisée',\n\t\t\t\t\t\t\t\t\t'danger'\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('customApiUrl');\n\n\t\t\t\t\t\t\t\talert.dismiss();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\ttext: 'OK',\n\t\t\t\t\t\t\thandler: (value) => {\n\t\t\t\t\t\t\t\tlocalStorage.setItem('customApiUrl', value.url);\n\t\t\t\t\t\t\t\tdisplayToast.presentToast(\n\t\t\t\t\t\t\t\t\t'URL d\\'API personnalisée enregistrée',\n\t\t\t\t\t\t\t\t\t'success'\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\trebootAlert.present();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tinputs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'url',\n\t\t\t\t\t\t\ttype: 'url',\n\t\t\t\t\t\t\tplaceholder: 'https://api.example.com',\n\t\t\t\t\t\t\tvalue: localStorage.getItem('customApiUrl')\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t});\n\n\t\t\t\tawait alert.present();\n\t\t\t},\n\t\t\tasync login() {\n\t\t\t\tconst API = this.$api;\n\n\t\t\t\tconst username = this.$refs.user.$el.value;\n\t\t\t\tconst password = this.$refs.pass.$el.value;\n\t\t\t\tconst cas = this.etabCas;\n\t\t\t\tlet url = this.etabUrl;\n\n\t\t\t\tif (cas == '') {\n\t\t\t\t\turl = url + '?login=true'\n\t\t\t\t}\n\n\t\t\t\tconst myHeaders = new Headers();\n\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\t\t\t\n\t\t\t\tconst urlencoded = new URLSearchParams();\n\t\t\t\turlencoded.append(\"url\", url);\n\t\t\t\turlencoded.append(\"ent\", cas);\n\t\t\t\turlencoded.append(\"username\", username);\n\t\t\t\turlencoded.append(\"password\", password);\n\n\t\t\t\tconst requestOptions = {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: myHeaders,\n\t\t\t\t\tbody: urlencoded,\n\t\t\t\t\tredirect: 'follow'\n\t\t\t\t};\n\n\t\t\t\tconst loading = await loadingController.create({\n\t\t\t\t\tmessage: 'Connexion en cours...'\n\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\tloading.present();\n\n\t\t\t\tfetch(API + \"/generatetoken\", requestOptions)\n\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t.then(async result => {\n\t\t\t\t\t\tif(!result.token) {\n\t\t\t\t\t\t\tloading.dismiss()\n\t\t\t\t\t\t\tif(result.error.includes(\"probably wrong login information\") || result.error.includes(\"probably bad username/password\")) {\n\t\t\t\t\t\t\t\tdisplayToast.presentError(\"Identifiants incorrects.\", \"danger\", result.error)\n\t\t\t\t\t\t\t} else if(result.error == \"Missing username\") {\n\t\t\t\t\t\t\t\tdisplayToast.presentToast(\"Veuillez entrer un identifiant.\", \"danger\")\n\t\t\t\t\t\t\t} else if(result.error == \"Missing password\") {\n\t\t\t\t\t\t\t\tdisplayToast.presentToast(\"Veuillez entrer un mot de passe.\", \"danger\")\n\t\t\t\t\t\t\t} else if(result.error == \"Your IP address is suspended.\") {\n\t\t\t\t\t\t\t\tdisplayToast.presentError(\"Une erreur s'est produite\", \"danger\", \"L'adresse IP de nos serveurs est suspendue pour votre établissement. S'il vous plaît réessayez dans quelques heures.\")\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdisplayToast.presentError(\"Une erreur s'est produite.\", \"danger\", result.error)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconst token = result.token;\n\n\t\t\t\t\t\t\t// save token\n\t\t\t\t\t\t\tlocalStorage.token = token;\n\t\t\t\t\t\t\tlocalStorage.loggedIn = true;\n\t\t\t\t\t\t\tlocalStorage.loginData = btoa(JSON.stringify({\n\t\t\t\t\t\t\t\tusername: username,\n\t\t\t\t\t\t\t\tpassword: password,\n\t\t\t\t\t\t\t\tcas: cas,\n\t\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\tlocalStorage.loginService = \"pronote\";\n\n\t\t\t\t\t\t\tlocalStorage.setItem(\"disabledDays\", JSON.stringify([0]));\n\t\t\t\t\t\t\tconst ACAD_NAME_API = \"https://data.education.gouv.fr/api/records/1.0/search/?dataset=fr-en-adresse-et-geolocalisation-etablissements-premier-et-second-degre&q=&facet=code_postal_uai&facet=nature_uai_libe&facet=libelle_academie&timezone=Europe%2FParis\"\n\t\t\t\t\t\t\taxios.get(ACAD_NAME_API + \"&refine.numero_uai=\" + url.split(\"/\")[2].split(\".\")[0].toUpperCase())\n\t\t\t\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\t\t\tif(result.records.length > 0) {\n\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"acadName\", result.records[0].fields.libelle_academie);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tawait fetchDaysOffAndHolidays()\n\n\t\t\t\t\t\t\t// go to home\n\t\t\t\t\t\t\twindow.location.replace(\"/\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tpresentingElement: null,\n\t\t\t\tterms: \"\",\n\t\t\t\tfoundCity: \"\",\n\t\t\t\tetabsEmpty: false,\n\t\t\t\tlocationFailed: false,\n\t\t\t\tetabs: [],\n\t\t\t\tisLoading: false,\n\t\t\t\tetabUrl: \"\",\n\t\t\t\tetabCas: \"\",\n\t\t\t\tdisplayCas: \"\",\n\t\t\t\tetabName: \"\",\n\t\t\t\tents: [],\n\t\t\t\tretries: 0,\n\t\t\t\tetabsFetching: false,\n\t\t\t\tpermissionDeny: false,\n\t\t\t\tpermissionWait: true\n\t\t\t}\n\t\t},\n\t});\n</script>\n\n<template>\n\t<ion-header>\n\t\t<ion-toolbar>\n\t\t\t<ion-buttons slot=\"start\">\n\t\t\t\t<ion-back-button class=\"only-ios\" text=\"Retour\"></ion-back-button>\n\t\t\t\t<ion-back-button class=\"only-md\"></ion-back-button>\n\t\t\t</ion-buttons>\n\t\t\t<ion-title>Connexion à Pronote</ion-title>\n\t\t\t<ion-buttons slot=\"end\" style=\"padding-right: 10px;\">\n\t\t\t\t<ion-spinner v-if=\"isLoading\"></ion-spinner>\n\t\t\t</ion-buttons>\n\t\t</ion-toolbar>\n\t\t<ion-toolbar>\n\t\t\t<ion-searchbar autocomplete=\"off\" ref=\"postalInput\" placeholder=\"Chercher avec un code postal...\" type=\"number\" @ionInput=\"getPostal($event)\" @ionClear=\"clearEtabs()\" maxlength=\"5\"></ion-searchbar>\n\t\t</ion-toolbar>\n\t</ion-header>\n\n\t<ion-content :fullscreen=\"true\">\n\n\t\t<ion-list>\n\t\t\t<ion-list-header>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<p>Établissements disponibles</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-list-header>\n\n\t\t\t<ion-item button detail=\"true\" v-for=\"(etab, index) in etabs\" v-bind:key=\"index\" @click=\"loginToEtab(etab.url, etab.cp)\">\n\t\t\t\t<ion-icon class=\"icon\" slot=\"start\" :ios=\"schoolOutline\" :md=\"schoolSharp\"></ion-icon>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>{{ etab.nomEtab }}</h2>\n\t\t\t\t\t<p>{{ etab.url }}</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item v-if=\"permissionWait\">\n\t\t\t\t<ion-icon class=\"icon\" slot=\"start\" :ios=\"businessOutline\" :md=\"businessSharp\"></ion-icon>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>En attente de la permission...</h2>\n\t\t\t\t\t<p>Veuillez autoriser la permission de géolocalisation pour rechercher les établissements à proximité.</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item v-if=\"etabsFetching\">\n\t\t\t\t<ion-icon class=\"icon\" slot=\"start\" :ios=\"businessOutline\" :md=\"businessSharp\"></ion-icon>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>Recherche des établissements...</h2>\n\t\t\t\t\t<p></p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item v-if=\"etabsEmpty\">\n\t\t\t\t<ion-icon class=\"icon\" slot=\"start\" :ios=\"businessOutline\" :md=\"businessSharp\"></ion-icon>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>Pas d'établissements par ici...</h2>\n\t\t\t\t\t<p>Essayez une autre vile ou un autre code postal</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item v-if=\"locationFailed\">\n\t\t\t\t<ion-icon class=\"icon\" slot=\"start\" :ios=\"navigateOutline\" :md=\"navigateSharp\"></ion-icon>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>Emplacement introuvable</h2>\n\t\t\t\t\t<p>Impossible de trouver des établissements à \"{{ terms }}\"</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item v-if=\"permissionDeny\">\n\t\t\t\t<ion-icon class=\"icon\" slot=\"start\" :ios=\"navigateOutline\" :md=\"navigateSharp\"></ion-icon>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>Permission \"Géolocalisation\" refusée</h2>\n\t\t\t\t\t<p>Nous ne pouvons pas chercher les établissements à proximité. Veuillez autoriser la géolocalisation et réessayez.</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item>\n\t\t</ion-list>\n\t\t\n\t\t<ion-list>\n\t\t\t<ion-list-header>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<p>Autres options</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-list-header>\n\n\t\t\t<ion-item button @click=\"URLLogin()\">\n\t\t\t\t<ion-icon class=\"icon\" slot=\"start\" :ios=\"linkOutline\" :md=\"linkSharp\"></ion-icon>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>Se connecter avec une URL</h2>\n\t\t\t\t\t<p>Utilisez l'URL fournie par votre établissement</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item button @click=\"loginToDemo()\">\n\t\t\t\t<ion-icon class=\"icon\" slot=\"start\" :ios=\"personCircleOutline\" :md=\"personCircleSharp\"></ion-icon>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>Utiliser le compte démo</h2>\n\t\t\t\t\t<p>Permet de tester Papillon à l'aide du compte de démonstration</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item button disabled>\n\t\t\t\t<ion-icon class=\"icon\" slot=\"start\" :ios=\"qrCodeOutline\" :md=\"qrCodeSharp\"></ion-icon>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>Se connecter avec un QR-Code</h2>\n\t\t\t\t\t<p>Scannez le QR-Code de l'interface Pronote</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item>\n\t\t</ion-list>\n\n\t\t<ion-list>\n\t\t\t<ion-list-header>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<p>Options avancées</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-list-header>\n\n\t\t\t<ion-item button @click=\"changeApi()\">\n\t\t\t\t<ion-icon class=\"icon\" slot=\"start\" :ios=\"serverOutline\" :md=\"serverSharp\"></ion-icon>\n\t\t\t\t<ion-label>\n\t\t\t\t\t<h2>Changer d'API</h2>\n\t\t\t\t\t<p>Utiliser une autre API que celle de Papillon que vous hébergez vous-mêmes.</p>\n\t\t\t\t</ion-label>\n\t\t\t</ion-item>\n\t\t</ion-list>\n\n\t\t<br/><br/>\n\n\t\t<ion-modal ref=\"loginModal\" trigger=\"open-loginModal\" :swipeToClose=\"true\">\n\t\t\t<ion-header>\n\t\t\t\t<ion-toolbar>\n\t\t\t\t\t<ion-title>Se connecter</ion-title>\n\t\t\t\t\t<ion-buttons slot=\"end\">\n\t\t\t\t\t<ion-button @click=\"dismiss()\">Fermer</ion-button>\n\t\t\t\t\t</ion-buttons>\n\t\t\t\t</ion-toolbar>\n\t\t\t</ion-header>\n\t\t\t<ion-content>\n\t\t\t\t<div class=\"loginPage\">\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"loginIntro\">\n\t\t\t\t\t\t<img src=\"assets/welcome/pronote_logo.png\" alt=\"Pronote Logo\" class=\"logo\"/>\n\t\t\t\t\t\t<div class=\"introData\">\n\t\t\t\t\t\t\t<h2>Connexion à Papillon</h2>\n\t\t\t\t\t\t\t<p class=\"description\">Vous souhaitez vous connecter à <B>Pronote</B> en utilisant <B>{{displayCas}}</B>.</p>\n\t\t\t\t\t\t\t<p v-if=\"isEduconnectLogin\" class=\"isEduconnectLogin\">Cet ENT utilise ÉduConnect, merci de rentrer les identifiants de ce service.</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ion-list class=\"loginInput\">\n\t\t\t\t\t\t<ion-item mode=\"md\" fill=\"solid\" class=\"userIn\">\n\t\t\t\t\t\t\t<ion-label position=\"floating\">Identifiant</ion-label>\n\t\t\t\t\t\t\t<ion-input ref=\"user\" type=\"text\" placeholder=\"j.dupont6\" autocomplete=\"username\"></ion-input>\n\t\t\t\t\t\t</ion-item>\n\n\t\t\t\t\t\t<ion-item mode=\"md\" fill=\"solid\" class=\"passIn\">\n\t\t\t\t\t\t\t<ion-label position=\"floating\">Mot de passe</ion-label>\n\t\t\t\t\t\t\t<ion-input ref=\"pass\" type=\"password\" placeholder=\"*********\"></ion-input>\n\t\t\t\t\t\t</ion-item>\n\n\t\t\t\t\t\t<ion-button class=\"loginBtn\" @click=\"login\" expand=\"block\" mode=\"md\">\n\t\t\t\t\t\t\tSe connecter\n\t\t\t\t\t\t</ion-button>\n\t\t\t\t\t</ion-list>\n\n\t\t\t\t\t<div class=\"loginConditions\">\n\t\t\t\t\t\tVos données ne sont pas stockées sur nos serveurs. En vous connectant avec cette application, vous acceptez les <a href=\"https://docs.getpapillon.xyz/documents/politique-de-confidentialite-et-mentions-legales\">conditions d'utilisation</a> de Papillon.\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</ion-content>\n\t\t</ion-modal> \n\n\t</ion-content>\n</template>\n  \n<style scoped>\n\t.ios .icon {\n\t\topacity: 50%;\n\t}\n\n\t.loginIntro {\n\t\tbackground: var(--ion-color-step-50);\n\t\tmargin: 20px;\n\t\tborder-radius: 10px;\n\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\n\t\tpadding: 20px;\n\t\tgap: 20px;\n\t}\n\n\t.loginIntro * {\n\t\tmargin: 0;\n\t}\n\n\t.loginIntro .logo {\n\t\theight: 44px;\n\t}\n\n\t.loginIntro .introData {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 5px;\n\t}\n\n\t.loginIntro .introData h2 {\n\t\tfont-size: 18px;\n\t}\n\n\t.loginIntro .introData .description {\n\t\tfont-size: 15px;\n\t\topacity: 0.7;\n\t}\n\n\t.loginIntro .isEduconnectLogin {\n\t\tfont-size: 15px;\n\t\topacity: 0.5;\n\t\tmargin-top: 10px;\n\t}\n\n\t.loginInput {\n\t\tmargin: 0px 20px;\n\t}\n\n\t.loginBtn {\n\t\tmargin-top: 20px;\n\t\t--border-radius: 8px !important;\n\t}\n\n\t.loginInput ion-item {\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.loginInput ion-item::part(native) {\n\t\t--border-color: var(--ion-color-step-200) !important;\n\t\t--border-top-left-radius: 8px !important;\n\t\t--border-top-right-radius: 8px !important;\n\t}\n\n\t.loginConditions {\n\t\tmargin: 20px;\n\t\tfont-size: 12px;\n\t\topacity: 0.5;\n\t\ttext-align: center;\n\t}\n</style>\n","import { registerPlugin } from '@capacitor/core';\nconst Geolocation = registerPlugin('Geolocation', {\n    web: () => import('./web').then(m => new m.GeolocationWeb()),\n});\nexport * from './definitions';\nexport { Geolocation };\n//# sourceMappingURL=index.js.map","import { render } from \"./SchoolSelection.vue?vue&type=template&id=874c6fa6&scoped=true\"\nimport script from \"./SchoolSelection.vue?vue&type=script&lang=js\"\nexport * from \"./SchoolSelection.vue?vue&type=script&lang=js\"\n\nimport \"./SchoolSelection.vue?vue&type=style&index=0&id=874c6fa6&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-874c6fa6\"]])\n\nexport default __exports__","<script>\n\timport { defineComponent } from 'vue';\n\timport { IonItem, IonList, IonBackButton, IonSpinner, loadingController, IonInput, \n\tIonButton } from '@ionic/vue';\n\n\timport axios from 'axios';\n\n\timport { linkOutline, linkSharp, qrCodeOutline, qrCodeSharp, schoolOutline, schoolSharp, businessOutline, businessSharp, navigateOutline, navigateSharp, personCircleOutline, personCircleSharp, serverOutline, serverSharp } from 'ionicons/icons';\n\n\timport displayToast from '@/functions/utils/displayToast.js';\n\n\timport getEDPeriods from '@/functions/fetch/getEDPeriods.js';\n\timport getEDPhoto from \"@/functions/fetch/getEDPhoto\";\n\n\n\texport default defineComponent({\n\t\tname: 'FolderPage',\n\t\tcomponents: {\n\t\t\tIonBackButton,\n\t\t\tIonItem,\n\t\t\tIonList,\n//\t\t\tIonIcon,\n//\t\t\tIonSearchbar,\n//\t\t\tIonListHeader,\n\t\t\tIonSpinner,\n\t\t\tIonInput,\n\t\t\tIonButton\n\t\t},\n\t\tsetup() {\n\t\t\treturn { \n\t\t\t\tlinkOutline,\n\t\t\t\tlinkSharp,\n\t\t\t\tqrCodeOutline,\n\t\t\t\tqrCodeSharp,\n\t\t\t\tschoolOutline,\n\t\t\t\tschoolSharp,\n\t\t\t\tserverOutline,\n\t\t\t\tserverSharp,\n\t\t\t\tbusinessOutline,\n\t\t\t\tbusinessSharp,\n\t\t\t\tnavigateOutline,\n\t\t\t\tnavigateSharp,\n\t\t\t\tpersonCircleOutline,\n\t\t\t\tpersonCircleSharp\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\t//Nothing here\n\t\t\t\n\t\t},\n\t\tmethods: {\n\t\t\tdecodeEntities(encodedString) {\n\t\t\t\tconst translate_re = /&(nbsp|amp|quot|lt|gt|Eacute|eacute|Egrave|egrave);/g;\n\t\t\t\tconst translate = {\n\t\t\t\t\t\"nbsp\": \" \",\n\t\t\t\t\t\"amp\" : \"&\",\n\t\t\t\t\t\"quot\": \"\\\"\",\n\t\t\t\t\t\"lt\"  : \"<\",\n\t\t\t\t\t\"gt\"  : \">\",\n\t\t\t\t\t\"Eacute\" : \"É\",\n\t\t\t\t\t\"eacute\" : \"é\",\n\t\t\t\t\t\"Egrave\" : \"È\",\n\t\t\t\t\t\"egrave\" : \"è\",\n\t\t\t\t};\n\t\t\t\treturn encodedString.replace(translate_re, function(match, entity) {\n\t\t\t\t\treturn translate[entity];\n\t\t\t\t}).replace(/&#(\\d+);/gi, function(match, numStr) {\n\t\t\t\t\tconst num = parseInt(numStr, 10);\n\t\t\t\t\treturn String.fromCharCode(num);\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\tasync login() {\n\t\t\t\tconst EDAPI = \"https://api.ecoledirecte.com/v3\"\n\n\t\t\t\tconst username = this.$refs.user.$el.value;\n\t\t\t\tconst password = this.$refs.pass.$el.value;\n\n\t\t\t\tconst requestOptions = {\n\t\t\t\t\theaders: { \"Content-Type\": \"application/x-www-form-urlencoded\", \"x-token\": \"\" },\n\t\t\t\t};\n\n        // encodeURIComponent because Ecoledirect needs urlencode on any field !\n\t\t\t\tconst body = `data={\n\t\t\t\t\t\t\"uuid\": \"\",\n\t\t\t\t\t\t\"identifiant\": \"${encodeURIComponent(username)}\",\n\t\t\t\t\t\t\"motdepasse\": \"${encodeURIComponent(password)}\",\n\t\t\t\t\t\t\"isReLogin\": false\n\t\t\t\t\t}`\n\n\t\t\t\tconst loading = await loadingController.create({\n\t\t\t\t\tmessage: 'Connexion en cours...'\n\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\tloading.present();\n\n\t\t\t\taxios.post(EDAPI + \"/login.awp\", body, requestOptions)\n\t\t\t\t.then(async (data) => {\n\t\t\t\t\tconst rsp = data.data\n\t\t\t\t\tif(!rsp.token) {\n\t\t\t\t\t\tloading.dismiss()\n\t\t\t\t\t\tif(rsp.code == 505) {\n\t\t\t\t\t\t\tdisplayToast.presentError(`${rsp.message}`, \"danger\", rsp.error)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdisplayToast.presentError(\"Une erreur s'est produite.\", \"danger\", rsp.error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconst token = rsp.token;\n\t\t\t\t\t\tconst user = rsp.data.accounts[0];\n\n\t\t\t\t\t\t//FETCH PERIODS\n\t\t\t\t\t\tawait getEDPeriods(user.id, token).then(periods => {\n\t\t\t\t\t\t\tuser.periods = periods;\n\t\t\t\t\t\t})\n\n            rsp.data.accounts[0].profile.photo = await getEDPhoto(rsp.data.accounts[0])\n\n\t\t\t\t\t\tlocalStorage.UserCache = JSON.stringify(user);\n\t\t\t\t\t\t// save token\n\t\t\t\t\t\tlocalStorage.token = token;\n\t\t\t\t\t\tlocalStorage.loggedIn = true;\n\t\t\t\t\t\tlocalStorage.loginData = btoa(JSON.stringify({\n\t\t\t\t\t\t\tusername: username,\n\t\t\t\t\t\t\tpassword: password,\n\t\t\t\t\t\t}));\n\t\t\t\t\t\tlocalStorage.loginService = \"ecoledirecte\";\n\t\t\t\t\t\tlocalStorage.setItem(\"disabledDays\", JSON.stringify([0]));\n\t\t\t\t\t\t// const ACAD_NAME_API = \"https://data.education.gouv.fr/api/records/1.0/search/?dataset=fr-en-adresse-et-geolocalisation-etablissements-premier-et-second-degre&q=&facet=code_postal_uai&facet=nature_uai_libe&facet=libelle_academie&timezone=Europe%2FParis\"\n\t\t\t\t\t\t/*axios.get(ACAD_NAME_API + \"&refine.numero_uai=\" + url.split(\"/\")[2].split(\".\")[0].toUpperCase())\n\t\t\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\t\tif(result.records.length > 0) {\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"acadName\", result.records[0].fields.libelle_academie);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\tfetchDaysOffAndHolidays();*/\n\t\t\t\t\t\t// go to home\n\t\t\t\t\t\twindow.location.replace(\"/\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tpresentingElement: null,\n\t\t\t\tterms: \"\",\n\t\t\t\tisLoading: false,\n\t\t\t\tretries: 0,\n\t\t\t}\n\t\t},\n\t});\n</script>\n\n<template>\n\t<ion-header>\n\t\t<ion-toolbar>\n\t\t\t<ion-buttons slot=\"start\">\n\t\t\t\t<ion-back-button class=\"only-ios\" text=\"Retour\"></ion-back-button>\n\t\t\t\t<ion-back-button class=\"only-md\"></ion-back-button>\n\t\t\t</ion-buttons>\n\t\t\t<ion-title>Connexion à EcoleDirecte</ion-title>\n\t\t\t<ion-buttons slot=\"end\" style=\"padding-right: 10px;\">\n\t\t\t\t<ion-spinner v-if=\"isLoading\"></ion-spinner>\n\t\t\t</ion-buttons>\n\t\t</ion-toolbar>\n\t\t\n\t</ion-header>\n\t\t\t<ion-content>\n\t\t\t\t<div class=\"loginPage\">\n\n\t\t\t\t\t<div class=\"alphaMessage\">\n\t\t\t\t\t\t<span class=\"material-symbols-outlined mdls icon\">sms_failed</span>\n\t\t\t\t\t\t<div class=\"alphaText\">\n\t\t\t\t\t\t\t<h2>EcoleDirecte est instable</h2>\n\t\t\t\t\t\t\t<p class=\"description\">L'utilisation d'EcoleDirecte avec Papillon est encore extrêmement instable. L'équipe de Papillon ne serait être tenue responsable de tout dysfonctionnement.</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"loginIntro\">\n\t\t\t\t\t\t<img src=\"assets/welcome/ecoledirecte_logo.png\" alt=\"Pronote Logo\" class=\"logo\"/>\n\t\t\t\t\t\t<div class=\"introData\">\n\t\t\t\t\t\t\t<h2>Connexion à Papillon</h2>\n\t\t\t\t\t\t\t<p class=\"description\">Vous souhaitez vous connecter à <B>EcoleDirecte</B></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ion-list class=\"loginInput\">\n\t\t\t\t\t\t<ion-item mode=\"md\" fill=\"solid\" class=\"userIn\">\n\t\t\t\t\t\t\t<ion-label position=\"floating\">Identifiant</ion-label>\n\t\t\t\t\t\t\t<ion-input ref=\"user\" type=\"text\" placeholder=\"j.dupont6\" autocomplete=\"username\"></ion-input>\n\t\t\t\t\t\t</ion-item>\n\n\t\t\t\t\t\t<ion-item mode=\"md\" fill=\"solid\" class=\"passIn\">\n\t\t\t\t\t\t\t<ion-label position=\"floating\">Mot de passe</ion-label>\n\t\t\t\t\t\t\t<ion-input ref=\"pass\" type=\"password\" placeholder=\"*********\"></ion-input>\n\t\t\t\t\t\t</ion-item>\n\n\t\t\t\t\t\t<ion-button class=\"loginBtn\" @click=\"login\" expand=\"block\" mode=\"md\">\n\t\t\t\t\t\t\tSe connecter\n\t\t\t\t\t\t</ion-button>\n\t\t\t\t\t</ion-list>\n\n\t\t\t\t\t<div class=\"loginConditions\">\n\t\t\t\t\t\tVos données ne sont pas stockées sur nos serveurs. En vous connectant avec cette application, vous acceptez les <a href=\"https://getpapillon.xyz/privacy.pdf\">conditions d'utilisation</a> de Papillon.\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</ion-content>\n</template>\n  \n<style scoped>\n\t.ios .icon {\n\t\topacity: 50%;\n\t}\n\n\t.loginIntro {\n\t\tbackground: var(--ion-color-step-50);\n\t\tmargin: 20px;\n\t\tborder-radius: 10px;\n\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\n\t\tpadding: 20px;\n\t\tgap: 20px;\n\t}\n\n\t.loginIntro * {\n\t\tmargin: 0;\n\t}\n\n\t.loginIntro .logo {\n\t\theight: 44px;\n\t}\n\n\t.loginIntro .introData {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 5px;\n\t}\n\n\t.loginIntro .introData h2 {\n\t\tfont-size: 18px;\n\t}\n\n\t.loginIntro .introData .description {\n\t\tfont-size: 15px;\n\t\topacity: 0.7;\n\t}\n\n\t.loginIntro .isEduconnectLogin {\n\t\tfont-size: 15px;\n\t\topacity: 0.5;\n\t\tmargin-top: 10px;\n\t}\n\n\t/* Alpha warning */\n\t.alphaMessage {\n\t\tbackground: var(--ion-color-danger);\n\t\tmargin: 20px;\n\t\tborder-radius: 10px;\n\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\n\t\tpadding: 20px;\n\t\tgap: 20px;\n\n\t\tcolor: #fff;\n\t}\n\n\t.alphaMessage * {\n\t\tmargin: 0;\n\t}\n\n\t.alphaMessage .icon {\n\t\theight: 44px;\n\t\twidth: 44px;\n\t\tfont-size: 30px;\n\t\toverflow: visible !important;\n\n\t\tcolor: #fff;\n\t\topacity: 1 !important;\n\t}\n\n\t.alphaMessage .alphaText {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 5px;\n\t}\n\n\t.alphaMessage .alphaText h2 {\n\t\tfont-size: 18px;\n\t}\n\n\t.alphaMessage .alphaText .description {\n\t\tfont-size: 15px;\n\t\topacity: 0.7;\n\t}\n\n\t.loginInput {\n\t\tmargin: 0px 20px;\n\t}\n\n\t.loginBtn {\n\t\tmargin-top: 20px;\n\t\t--border-radius: 8px !important;\n\t}\n\n\t.loginInput ion-item {\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.loginInput ion-item::part(native) {\n\t\t--border-color: var(--ion-color-step-200) !important;\n\t\t--border-top-left-radius: 8px !important;\n\t\t--border-top-right-radius: 8px !important;\n\t}\n\n\t.loginConditions {\n\t\tmargin: 20px;\n\t\tfont-size: 12px;\n\t\topacity: 0.5;\n\t\ttext-align: center;\n\t}\n</style>\n","import { render } from \"./LoginForm.vue?vue&type=template&id=1bd7bb5a&scoped=true\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js\"\n\nimport \"./LoginForm.vue?vue&type=style&index=0&id=1bd7bb5a&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1bd7bb5a\"]])\n\nexport default __exports__","<script>\nimport {defineComponent} from 'vue';\nimport {IonItem, IonLabel, IonList, IonAvatar, IonNavLink, IonListHeader, IonBackButton} from '@ionic/vue';\n\nimport {\n    logoDiscord,\n    logoGithub,\n    bugOutline,\n    bugSharp,\n    informationCircleOutline,\n    informationCircleSharp,\n    globeOutline,\n    globeSharp\n} from 'ionicons/icons';\n\nimport packageInfo from '/package'\nimport {Capacitor} from '@capacitor/core';\n\nimport SkolengoLoginForm from './LoginForm.vue'\n\nimport {StatusBar, Style} from '@capacitor/status-bar';\nimport {ApiName, ApiUrl, ApiVersion} from \"kdecole-api\";\n\nexport default defineComponent({\n    name: 'FolderPage',\n    components: {\n        IonItem,\n        IonLabel,\n        IonList,\n        IonAvatar,\n        IonNavLink,\n        IonListHeader,\n        IonBackButton\n    },\n    setup() {\n        return {\n            logoDiscord,\n            logoGithub,\n            bugOutline,\n            bugSharp,\n            informationCircleOutline,\n            informationCircleSharp,\n            globeOutline,\n            globeSharp,\n        }\n    },\n    computed: {\n        ApiName() {\n            return ApiName\n        },\n        ApiVersion() {\n            return ApiVersion\n        },\n        ApiUrl() {\n            return ApiUrl\n        }\n    },\n    methods: {\n        setOpen(isOpen) {\n            setTimeout(() => {\n                this.isOpen = isOpen;\n            }, 200);\n        },\n        nextSlide() {\n            setTimeout(() => {\n                this.$refs.swiper.$el.swiper.slideNext();\n            }, 200);\n        },\n        goOldStatusBar() {\n            if (Capacitor.getPlatform() === 'android') {\n                StatusBar.setStyle({style: Style.Dark});\n                StatusBar.setBackgroundColor({color: \"#12D4A6\"});\n            }\n        }\n    },\n    data() {\n        return {\n            SkolengoLoginForm: SkolengoLoginForm,\n            appVersion: packageInfo.version,\n            appPlatform: Capacitor.getPlatform(),\n        }\n    }\n});\n</script>\n\n<template>\n    <ion-header>\n        <ion-toolbar>\n            <ion-buttons slot=\"start\">\n                <ion-back-button class=\"only-ios\" text=\"Retour\"></ion-back-button>\n                <ion-back-button class=\"only-md\"></ion-back-button>\n            </ion-buttons>\n            <ion-title>Séléctionnez votre instance Skolengo</ion-title>\n        </ion-toolbar>\n    </ion-header>\n\n    <ion-content :fullscreen=\"true\">\n        <ion-list>\n            <ion-list-header>\n                <ion-label>\n                    <p>Instances Skolengo disponibles</p>\n                </ion-label>\n            </ion-list-header>\n            <ion-nav-link v-for=\"ent in Object.keys(ApiUrl).filter(x => Object.keys(ApiVersion).includes(x))\" :key=\"ent\"\n                          router-direction=\"forward\" :component=\"SkolengoLoginForm\" :componentProps=\"{ent}\">\n                <ion-item button detail=\"true\">\n                    <ion-avatar slot=\"start\">\n                        <img alt=\"Logo\" :src=\"'/assets/welcome/skolengo/' + ent + '.png'\"/>\n                    </ion-avatar>\n                    <ion-label>\n                        <h2>{{ ApiName[ent] }}</h2>\n                        <p>Utilisez vos identifiants {{ ApiName[ent] }} pour vous connecter</p>\n                    </ion-label>\n                </ion-item>\n            </ion-nav-link>\n        </ion-list>\n    </ion-content>\n</template>\n\n<style scoped>\n.ios .icon {\n    opacity: 50%;\n}\n</style>\n","<script>\nimport {defineComponent} from 'vue';\nimport {\n    IonItem, IonList, IonBackButton, IonSpinner, loadingController, IonInput,\n    IonButton\n} from '@ionic/vue';\n\nimport {\n    linkOutline,\n    linkSharp,\n    qrCodeOutline,\n    qrCodeSharp,\n    schoolOutline,\n    schoolSharp,\n    businessOutline,\n    businessSharp,\n    navigateOutline,\n    navigateSharp,\n    personCircleOutline,\n    personCircleSharp,\n    serverOutline,\n    serverSharp\n} from 'ionicons/icons';\n\nimport displayToast from '@/functions/utils/displayToast.js';\nimport {ApiUrl, ApiVersion, ApiName, Kdecole} from 'kdecole-api'\n\nexport default defineComponent({\n    name: 'FolderPage',\n    props: ['ent'],\n    computed: {\n        ApiVersion() {\n            return ApiVersion\n        },\n        ApiUrl() {\n            return ApiUrl\n        },\n        ApiName() {\n            return ApiName\n        }\n    },\n    components: {\n        IonBackButton,\n        IonItem,\n        IonList,\n//\t\t\tIonIcon,\n//\t\t\tIonSearchbar,\n//\t\t\tIonListHeader,\n        IonSpinner,\n        IonInput,\n        IonButton\n    },\n    setup() {\n        return {\n            linkOutline,\n            linkSharp,\n            qrCodeOutline,\n            qrCodeSharp,\n            schoolOutline,\n            schoolSharp,\n            serverOutline,\n            serverSharp,\n            businessOutline,\n            businessSharp,\n            navigateOutline,\n            navigateSharp,\n            personCircleOutline,\n            personCircleSharp\n        }\n    },\n    mounted() {\n        //Nothing here\n\n    },\n    methods: {\n        decodeEntities(encodedString) {\n            const translate_re = /&(nbsp|amp|quot|lt|gt|Eacute|eacute|Egrave|egrave);/g;\n            const translate = {\n                \"nbsp\": \" \",\n                \"amp\": \"&\",\n                \"quot\": \"\\\"\",\n                \"lt\": \"<\",\n                \"gt\": \">\",\n                \"Eacute\": \"É\",\n                \"eacute\": \"é\",\n                \"Egrave\": \"È\",\n                \"egrave\": \"è\",\n            };\n            return encodedString.replace(translate_re, function (match, entity) {\n                return translate[entity];\n            }).replace(/&#(\\d+);/gi, function (match, numStr) {\n                const num = parseInt(numStr, 10);\n                return String.fromCharCode(num);\n            });\n        },\n\n        async login() {\n            const loading = await loadingController.create({\n                message: 'Connexion en cours...'\n            });\n            const ent = this.ent\n            const username = this.$refs.user.$el.value;\n            const password = this.$refs.pass.$el.value;\n\n            loading.present();\n\n            if (password.length === 125) {\n                const user = new Kdecole(password, ApiVersion[ent], 0, 'https://cors.api.getpapillon.xyz/' + ApiUrl[ent])\n                user.starting().then(() => {\n                    localStorage.token = password\n                    localStorage.loggedIn = true\n                    localStorage.loginService = \"skolengo\";\n                    localStorage.ent = ent;\n                    window.location.replace(\"/\");\n                }).catch((e) => {\n                    loading.dismiss()\n                    displayToast.presentError(`${e.message}`, \"danger\", e)\n                })\n            } else {\n                Kdecole.login(username, password, ApiVersion[ent], 'https://cors.api.getpapillon.xyz/' + ApiUrl[ent]).then(token => {\n                    localStorage.token = token\n                    localStorage.loggedIn = true\n                    localStorage.loginService = \"skolengo\";\n                    localStorage.ent = ent;\n                    window.location.replace(\"/\");\n                }).catch((e) => {\n                    loading.dismiss()\n                    displayToast.presentError(`${e.message}`, \"danger\", e)\n                })\n            }\n        }\n    },\n    data() {\n        return {\n            presentingElement: null,\n            terms: \"\",\n            isLoading: false,\n            retries: 0,\n        }\n    },\n});\n</script>\n\n<template>\n    <ion-header>\n        <ion-toolbar>\n            <ion-buttons slot=\"start\">\n                <ion-back-button class=\"only-ios\" text=\"Retour\"></ion-back-button>\n                <ion-back-button class=\"only-md\"></ion-back-button>\n            </ion-buttons>\n            <ion-title>Connexion à {{ ApiName[this.ent] }}</ion-title>\n            <ion-buttons slot=\"end\" style=\"padding-right: 10px;\">\n                <ion-spinner v-if=\"isLoading\"></ion-spinner>\n            </ion-buttons>\n        </ion-toolbar>\n\n    </ion-header>\n    <ion-content>\n        <div class=\"loginPage\">\n\n            <div class=\"alphaMessage\">\n                <span class=\"material-symbols-outlined mdls icon\">sms_failed</span>\n                <div class=\"alphaText\">\n                    <h2>{{ ApiName[this.ent] }} est instable</h2>\n                    <p class=\"description\">L'utilisation des ENT régionaux basés sur Skolengo avec Papillon est encore\n                        extrêmement instable. L'équipe de Papillon ne serait être tenue responsable de tout\n                        dysfonctionnement.</p>\n                </div>\n            </div>\n\n            <div class=\"loginIntro\">\n                <img :src=\"'/assets/welcome/skolengo/' + ent + '.png'\" alt=\"Logo\" class=\"logo\"/>\n                <div class=\"introData\">\n                    <h2>Connexion à Papillon</h2>\n                    <p class=\"description\">Vous souhaitez vous connecter à <B>{{ ApiName[this.ent] }}</B></p>\n                </div>\n            </div>\n\n            <ion-list class=\"loginInput\">\n                <ion-item mode=\"md\" fill=\"solid\" class=\"userIn\">\n                    <ion-label position=\"floating\">Identifiant</ion-label>\n                    <ion-input ref=\"user\" type=\"text\" placeholder=\"j.dupont6\" autocomplete=\"username\"></ion-input>\n                </ion-item>\n\n                <ion-item mode=\"md\" fill=\"solid\" class=\"passIn\">\n                    <ion-label position=\"floating\">Mot de passe temporaire ou jeton</ion-label>\n                    <ion-input ref=\"pass\" type=\"password\" placeholder=\"*********\"></ion-input>\n                </ion-item>\n\n                <ion-button class=\"loginBtn\" @click=\"login\" expand=\"block\" mode=\"md\">\n                    Se connecter\n                </ion-button>\n            </ion-list>\n\n            <div class=\"loginConditions\">\n                Vos données ne sont pas stockées sur nos serveurs. En vous connectant avec cette application, vous\n                acceptez les <a href=\"https://getpapillon.xyz/privacy.pdf\">conditions d'utilisation</a> de Papillon.\n            </div>\n\n        </div>\n    </ion-content>\n</template>\n\n<style scoped>\n.ios .icon {\n    opacity: 50%;\n}\n\n.loginIntro {\n    background: var(--ion-color-step-50);\n    margin: 20px;\n    border-radius: 10px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    padding: 20px;\n    gap: 20px;\n}\n\n.loginIntro * {\n    margin: 0;\n}\n\n.loginIntro .logo {\n    height: 44px;\n    border-radius: 100%;\n}\n\n.loginIntro .introData {\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n}\n\n.loginIntro .introData h2 {\n    font-size: 18px;\n}\n\n.loginIntro .introData .description {\n    font-size: 15px;\n    opacity: 0.7;\n}\n\n.loginIntro {\n    font-size: 15px;\n    margin-top: 10px;\n}\n\n/* Alpha warning */\n.alphaMessage {\n    background: var(--ion-color-danger);\n    margin: 20px;\n    border-radius: 10px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    padding: 20px;\n    gap: 20px;\n\n    color: #fff;\n}\n\n.alphaMessage * {\n    margin: 0;\n}\n\n.alphaMessage .icon {\n    height: 44px;\n    width: 44px;\n    font-size: 30px;\n    overflow: visible !important;\n\n    color: #fff;\n    opacity: 1 !important;\n}\n\n.alphaMessage .alphaText {\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n}\n\n.alphaMessage .alphaText h2 {\n    font-size: 18px;\n}\n\n.alphaMessage .alphaText .description {\n    font-size: 15px;\n    opacity: 0.7;\n}\n\n.loginInput {\n    margin: 0px 20px;\n}\n\n.loginBtn {\n    margin-top: 20px;\n    --border-radius: 8px !important;\n}\n\n.loginInput ion-item {\n    margin-bottom: 10px;\n}\n\n.loginInput ion-item::part(native) {\n    --border-color: var(--ion-color-step-200) !important;\n    --border-top-left-radius: 8px !important;\n    --border-top-right-radius: 8px !important;\n}\n\n.loginConditions {\n    margin: 20px;\n    font-size: 12px;\n    opacity: 0.5;\n    text-align: center;\n}\n</style>\n","import { render } from \"./LoginForm.vue?vue&type=template&id=7f5e6dc8&scoped=true\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js\"\n\nimport \"./LoginForm.vue?vue&type=style&index=0&id=7f5e6dc8&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7f5e6dc8\"]])\n\nexport default __exports__","import { render } from \"./ProjectSelection.vue?vue&type=template&id=3c5bf312&scoped=true\"\nimport script from \"./ProjectSelection.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectSelection.vue?vue&type=script&lang=js\"\n\nimport \"./ProjectSelection.vue?vue&type=style&index=0&id=3c5bf312&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c5bf312\"]])\n\nexport default __exports__","import { render } from \"./LoginSelect.vue?vue&type=template&id=609d81e0&scoped=true\"\nimport script from \"./LoginSelect.vue?vue&type=script&lang=js\"\nexport * from \"./LoginSelect.vue?vue&type=script&lang=js\"\n\nimport \"./LoginSelect.vue?vue&type=style&index=0&id=609d81e0&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-609d81e0\"]])\n\nexport default __exports__","import { render } from \"./LoginWelcome.vue?vue&type=template&id=1f66d1bc&scoped=true\"\nimport script from \"./LoginWelcome.vue?vue&type=script&lang=js\"\nexport * from \"./LoginWelcome.vue?vue&type=script&lang=js\"\n\nimport \"./LoginWelcome.vue?vue&type=style&index=0&id=1f66d1bc&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f66d1bc\"]])\n\nexport default __exports__","\n    import { IonNav } from '@ionic/vue';\n    import LoginWelcome from './LoginWelcome.vue';\n  \n    export default {\n      components: { IonNav },\n      data() {\n        return {\n          component: LoginWelcome,\n        };\n      }\n    };\n","import { render } from \"./LoginSetup.vue?vue&type=template&id=70ef7f2d&ts=true\"\nimport script from \"./LoginSetup.vue?vue&type=script&lang=ts\"\nexport * from \"./LoginSetup.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["isDateAvailable","dateString","date","Date","utcDay","getUTCDay","disabledDays","JSON","parse","localStorage","getItem","disableHolidays","daysOff","holidays","found","find","dayOff","dayOffDate","toDateString","holiday","holidayStartDate","startDate","holidayEndDate","endDate","includes","fetchDaysOffAndHolidays","Promise","resolve","reject","DAYS_API_BASE","HOLIDAY_API_BASE","currentYear","getFullYear","currentMonth","getMonth","academie","currentSchoolYear","fetch","then","response","json","result","key","value","Object","entries","dateYear","split","name","dayOffObject","push","setItem","stringify","catch","error","console","data","records","forEach","record","fields","end_date","start_date","description","displayToast","maxCalendarDate","summerHoliday","maxDate","setDate","getDate","toISOString","minCalendarDate","minDate","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_nav","_resolveComponent","_openBlock","_createBlock","root","component","ref","class","_createElementVNode","src","alt","_component_ion_content","fullscreen","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_ion_nav_link","LoginSelect","_component_ion_button","mode","color","fill","onClick","goNormalStatusBar","_hoisted_5","displayServiceMsg","_hoisted_6","_hoisted_7","_toDisplayString","appVersion","appPlatform","_component_ion_header","_component_ion_toolbar","_component_ion_buttons","slot","_component_ion_back_button","text","_component_ion_title","_component_ion_list","_component_ion_list_header","_component_ion_label","SchoolSelection","_component_ion_item","detail","button","_component_ion_avatar","EDLoginForm","SkolengoSelection","_hoisted_8","_hoisted_9","_hoisted_10","href","style","isLoading","_component_ion_spinner","_component_ion_searchbar","autocomplete","placeholder","type","onIonInput","$event","getPostal","onIonClear","clearEtabs","maxlength","_createElementBlock","_Fragment","_renderList","etabs","etab","index","loginToEtab","url","cp","_component_ion_icon","ios","schoolOutline","md","schoolSharp","nomEtab","permissionWait","businessOutline","businessSharp","etabsFetching","etabsEmpty","locationFailed","navigateOutline","navigateSharp","terms","permissionDeny","_hoisted_11","URLLogin","linkOutline","linkSharp","_hoisted_12","_hoisted_13","loginToDemo","personCircleOutline","personCircleSharp","_hoisted_14","_hoisted_15","disabled","qrCodeOutline","qrCodeSharp","_hoisted_16","_hoisted_17","_hoisted_18","changeApi","serverOutline","serverSharp","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_component_ion_modal","trigger","swipeToClose","dismiss","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_component_B","displayCas","isEduconnectLogin","_hoisted_29","position","_component_ion_input","login","expand","_hoisted_30","Geolocation","web","m","GeolocationWeb","defineComponent","components","IonBackButton","IonItem","IonList","IonIcon","IonSearchbar","IonModal","IonListHeader","IonSpinner","IonInput","IonButton","setup","mounted","this","getENTs","GetLocation","methods","decodeEntities","encodedString","translate_re","translate","replace","match","entity","numStr","num","parseInt","String","fromCharCode","async","infosAPI","$api","loading","loadingController","message","present","axios","setTimeout","ents","ent_list","coordinates","getCurrentPosition","err","code","lat","coords","latitude","lon","longitude","findEstablishments","multipleEnts","options","i","cas","length","handler","selected","toLowerCase","py","cas_name","educonnect","displayLogin","role","action","actionSheet","actionSheetController","header","subHeader","buttons","e","postal","trim","normalize","headers","foundCity","locality","stack","accept","referrer","referrerPolicy","body","method","credentials","splice","retries","alert","alertController","cssClass","etaburl","slice","join","inputs","$refs","user","$el","pass","customUrl","isToutatice","toString","startsWith","encodeURIComponent","resp","cas_host","all_cas_same_host","filter","listToChoose","createEntPicker","etabUrl","etabCas","loginModal","rebootAlert","App","removeItem","API","username","password","myHeaders","Headers","append","urlencoded","URLSearchParams","requestOptions","redirect","token","loggedIn","loginData","btoa","loginService","ACAD_NAME_API","toUpperCase","libelle_academie","window","location","presentingElement","etabName","__exports__","EDAPI","rsp","accounts","getEDPeriods","id","periods","profile","photo","getEDPhoto","UserCache","keys","ApiUrl","x","ApiVersion","ent","SkolengoLoginForm","componentProps","ApiName","props","computed","Kdecole","starting","IonLabel","IonAvatar","IonNavLink","logoDiscord","logoGithub","bugOutline","bugSharp","informationCircleOutline","informationCircleSharp","globeOutline","globeSharp","setOpen","isOpen","nextSlide","swiper","slideNext","goOldStatusBar","Capacitor","StatusBar","Style","packageInfo","isDarkMode","matchMedia","matches","NavigationBar","darkButtons","Browser","openURL","status","IonNav","LoginWelcome"],"sourceRoot":""}