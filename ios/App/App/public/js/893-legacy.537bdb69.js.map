{"version":3,"file":"js/893-legacy.537bdb69.js","mappings":"mPA6HwBA,EAAAA,EAAAA,GAAuE,QAAjEC,KAAK,QAAQC,MAAM,kCAAiC,UAAM,K,UAUpEF,EAAAA,EAAAA,GAAuE,QAAjEE,MAAM,iCAAiCD,KAAK,SAAQ,UAAM,K,UAG5DD,EAAAA,EAAAA,GAAiC,UAA7B,4BAAwB,K,UAC5BA,EAAAA,EAAAA,GAA+C,SAA5C,4CAAwC,K,oCAU/DA,EAAAA,EAAAA,GAAyB,SAAtB,sBAAkB,K,SAK6BE,MAAM,iCAAiCD,KAAK,S,SACvCC,MAAM,iCAAiCD,KAAK,S,yTA1CrGE,EAAAA,EAAAA,IAiBYC,EAAA,CAjBDF,MAAM,YAAYG,YAAA,I,mBAC5B,IAea,EAfbF,EAAAA,EAAAA,IAeaG,EAAA,M,kBAdZ,IAGc,EAHdH,EAAAA,EAAAA,IAGcI,EAAA,CAHDN,KAAK,SAAO,C,kBACxB,IAA+E,EAA/EE,EAAAA,EAAAA,IAA+EK,EAAA,CAAhEN,MAAM,WAAYO,KAAMC,EAAAC,UAAYC,QAAOF,EAAAG,K,4BAC1DV,EAAAA,EAAAA,IAA4DK,EAAA,CAA7CN,MAAM,UAAWU,QAAOF,EAAAG,K,6BAGXH,EAAAI,gBAAkBJ,EAAAK,SAAM,WAAzCC,EAAAA,EAAAA,IAA0EC,EAAA,CAAAC,IAAA,I,kBAA/B,IAAmB,UAAnB,0B,oBAC3CF,EAAAA,EAAAA,IAAgHC,EAAA,CAAAC,IAAA,I,kBAA9F,IAAgB,UAAhB,oBAA4BR,EAAAI,iBAAc,WAA1BK,EAAAA,EAAAA,IAAkE,OAAAC,EAAtC,OAAGC,EAAAA,EAAAA,IAAGX,EAAAI,eAAeQ,SAAO,uB,QAE1FnB,EAAAA,EAAAA,IAKEI,EAAA,CALWN,KAAK,OAAK,C,kBAClC,IAG4B,CAHVS,EAAAK,SAAM,WAAxBC,EAAAA,EAAAA,IAG4BO,EAAA,C,MAHFC,MAAM,SAAUZ,QAAKa,EAAA,KAAAA,EAAA,GAAAC,GAAEhB,EAAAiB,SAASD,K,mBACvC,IAAuE,CAAvEE,GAAuE,uB,mDAO7FzB,EAAAA,EAAAA,IA+Bc0B,EAAA,CA/BAC,YAAY,GAAI,C,kBACpB,IASU,CATWpB,EAAAqB,UAAO,WAA5Bf,EAAAA,EAAAA,IASUgB,EAAA,C,MATDC,MAAA,I,mBACL,IAOU,EAPV9B,EAAAA,EAAAA,IAOU+B,EAAA,CAPDV,MAAM,UAAQ,C,kBACnB,IAAuE,CAAvEW,GAEAhC,EAAAA,EAAAA,IAGWiC,EAAA,M,kBAFP,IAAiC,CAAjCC,EACAC,K,yCAKD5B,EAAA6B,WAAQ,WAAnBpB,EAAAA,EAAAA,IAEM,MAAAqB,EAAA,EADFxC,EAAAA,EAAAA,GAA2D,OAAtDE,MAAM,UAAUuC,UAAQ/B,EAAAI,eAAe4B,S,6BAGc,IAAvBhC,EAAAiC,YAAYC,SAAM,WAAzD5B,EAAAA,EAAAA,IAEEoB,EAAA,C,MAFQlC,MAAM,kB,mBACxB,IAAyB,CAAzB2C,K,uBAG8C,IAAvBnC,EAAAiC,YAAYC,SAAM,WAAjC5B,EAAAA,EAAAA,IAUUgB,EAAA,C,MAV+B9B,MAAM,a,mBAClC,IAAiC,gBAA1CiB,EAAAA,EAAAA,IAQU2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARoBrC,EAAAiC,aAAdK,K,WAAhBhC,EAAAA,EAAAA,IAQUkB,EAAA,CARkChB,IAAK8B,EAAWC,GAAKrC,QAAKc,GAAEhB,EAAAwC,SAASF,EAAWG,M,mBACxF,IAAwG,CAAzE,GAAnBH,EAAWI,OAAI,WAA3BjC,EAAAA,EAAAA,IAAwG,OAAxGkC,EAAsF,gBAClD,GAAnBL,EAAWI,OAAI,WAAhCjC,EAAAA,EAAAA,IAAsG,OAAtGmC,EAA2F,UAAI,gBAE/FnD,EAAAA,EAAAA,IAGWiC,EAAA,M,kBAFP,IAA8B,EAA9BpC,EAAAA,EAAAA,GAA8B,WAAAqB,EAAAA,EAAAA,IAAvB2B,EAAWO,MAAI,IACtBvD,EAAAA,EAAAA,GAA2B,UAAAqB,EAAAA,EAAAA,IAArB2B,EAAWG,KAAG,M,sHA5I3C,SAAeK,EAAAA,EAAAA,IAAgB,CAC9BD,KAAM,aACNE,WAAY,CACXC,UAAS,KACTC,WAAU,KACVC,WAAU,KACDC,UAAS,KAClBC,cAAa,KACbC,SAAQ,KACRC,WAAU,KACVC,QAAO,KACPC,QAAO,KACPC,SAAQA,EAAAA,IAEHC,MAAO,CACHC,MAAO,CACHjB,KAAMkB,OACNC,UAAU,IAGxBC,OACU,IAAI7D,EAAY,SAGzB,MAAM8D,EAAeC,KAAKC,QAAQF,aAAaG,MAM/C,MAJwB,YAArBH,EAAalB,OACf5C,EAAY,WAGN,CACMA,UAAWA,EACX4B,SAAU,GACVsC,WAAY,GACZ/D,eAAgB,GAChB6B,YAAa,GACb5B,QAAQ,EACRgB,SAAS,EAEvB,EACA+C,QAAS,CACRC,eAAe5B,SACI6B,EAAAA,EAAAA,KAAa,CACf7B,IAAKA,EACpB8B,kBAAmB,WAEZ,EACAF,iBACI,MAAMG,EAAkBC,KAAKC,MAAMC,aAAaH,iBAG1CI,EAAWJ,EAAgBK,MAAMD,GAC5BA,EAASA,SAASd,KAAKvB,IAAMyB,KAAKG,WAAW5B,KAIxDiC,EAAgBM,OAAON,EAAgBO,QAAQH,GAAW,GAG1DD,aAAaH,gBAAkBC,KAAKO,UAAUR,GAE9CR,KAAK3C,SAAU,CACnB,GAEV4D,UAEU,GAAGjB,KAAKL,MAAO,CACX,MAAMuB,EAAUlB,KAAKL,MAGfwB,EAAUC,mBAAmBF,GAG7BG,EAASZ,KAAKC,MAAMS,GAE1BnB,KAAKnC,SAAWwD,EAChBrB,KAAKG,WAAakB,EAAOvB,KACzBE,KAAK5D,eAAiBiF,EAAOT,SAC7BZ,KAAK/B,YAAcoD,EAAOC,MAGG,kBAAnBD,EAAOvB,KAAKvB,IACf8C,EAAOvB,KAAKvB,GAAGgD,WAAW,YACzBvB,KAAK3D,QAAS,EAG1B,CAEA,OAAO,CACX,I,cCrGR,MAAMmF,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G,4DCPM,SAAUA,EAAOzF,EAAUe,EAAY2E,EAAYC,EAAYC,EAAWC,GAC9E,IAAMC,GAAqBC,EAAAA,EAAAA,IAAkB,WACvCC,GAAsBD,EAAAA,EAAAA,IAAkB,YAE9C,OAAQE,EAAAA,EAAAA,OAAc3F,EAAAA,EAAAA,IAAa0F,EAAqB,KAAM,CAC5DE,SAASC,EAAAA,EAAAA,KAAS,WAAM,QACtB1G,EAAAA,EAAAA,IAAaqG,EAAoB,CAC/BM,KAAMR,EAAMS,UACZC,IAAK,QACJ,KAAM,EAAG,CAAC,SAJS,IAMxBC,EAAG,GAEP,C,wGC+WoBjH,EAAAA,EAAAA,GAA+E,QAAzEE,MAAM,iCAAiCD,KAAK,SAAQ,kBAAc,K,UAY5ED,EAAAA,EAAAA,GAMM,OANDE,MAAM,gBAAc,EACrBF,EAAAA,EAAAA,GAAgE,QAA1DE,MAAM,uCAAsC,YAClDF,EAAAA,EAAAA,GAGM,OAHDE,MAAM,aAAW,EAClBF,EAAAA,EAAAA,GAAkF,UAA9E,8EACJA,EAAAA,EAAAA,GAAiH,KAA9GE,MAAM,eAAc,8FAAsF,K,UAQzHF,EAAAA,EAAAA,GAA4B,OAAvBiD,GAAG,eAAa,W,GASAhD,KAAK,S,UAMCD,EAAAA,EAAAA,GAAiC,QAA3BE,MAAM,eAAa,W,yBAEjBA,MAAM,a,6BAWxBA,MAAM,W,UACPF,EAAAA,EAAAA,GAAW,UAAP,MAAE,K,UACNA,EAAAA,EAAAA,GAAkC,UAA9B,6BAAyB,K,UAC7BA,EAAAA,EAAAA,GAAgG,SAA7F,6FAAyF,K,SAK3FE,MAAM,W,UACPF,EAAAA,EAAAA,GAAW,UAAP,MAAE,K,UACNA,EAAAA,EAAAA,GAAoC,UAAhC,+BAA2B,K,UAC/BA,EAAAA,EAAAA,GAA8G,SAA3G,2GAAuG,K,GAF1GkH,EACAC,EACAC,G,SAGClH,MAAM,W,UACPF,EAAAA,EAAAA,GAAY,UAAR,OAAG,K,UACPA,EAAAA,EAAAA,GAA+B,UAA3B,0BAAsB,K,UAC1BA,EAAAA,EAAAA,GAAsI,SAAnI,mIAA+H,K,GAFlIqH,EACAC,EACAC,G,aAICrH,MAAM,e,UAOPF,EAAAA,EAAAA,GAAoE,QAA9DE,MAAM,iCAAiCD,KAAK,SAAQ,OAAG,K,UAGrDD,EAAAA,EAAAA,GAA0B,UAAtB,qBAAiB,K,UACrBA,EAAAA,EAAAA,GAAqC,SAAlC,kCAA8B,K,kmBA/FpEgB,EAAAA,EAAAA,IAkIW0F,EAAA,CAlIDM,IAAI,QAAM,C,kBACnB,IAkBY,EAlBZ7G,EAAAA,EAAAA,IAkBYC,EAAA,CAlBDF,MAAM,YAAYG,YAAA,I,mBAC5B,IAgBa,EAhBbF,EAAAA,EAAAA,IAgBaG,EAAA,M,kBAfZ,IAEc,EAFdH,EAAAA,EAAAA,IAEcI,EAAA,CAFDN,KAAK,SAAO,C,kBACxB,IAAgD,EAAhDE,EAAAA,EAAAA,IAAgDqH,EAAA,CAA/BhG,MAAM,Y,OAGxBrB,EAAAA,EAAAA,IAAsCc,EAAA,M,kBAA3B,IAAe,UAAf,sB,OAECd,EAAAA,EAAAA,IAMcI,EAAA,CANDN,KAAK,OAAK,C,kBACnB,IAIa,EAJbE,EAAAA,EAAAA,IAIaoB,EAAA,CAJD0B,GAAG,sBAAsBzB,MAAM,OAAQZ,QAAKa,EAAA,KAAAA,EAAA,GAAAC,GAAEhB,EAAA+G,yBAAwB,K,mBAClF,IAA+E,CAA/ErG,GAEApB,EAAAA,EAAAA,GAA4B,UAAAqB,EAAAA,EAAAA,IAAtBX,EAAAgH,iBAAe,M,eAIoBhH,EAAAiH,YAAS,WAAtD3G,EAAAA,EAAAA,IAA2E4G,EAAA,C,MAAzDxE,KAAK,oB,kCAIrCjD,EAAAA,EAAAA,IA4Gc0B,EAAA,CA5GAC,YAAY,EAAM5B,MAAM,W,mBAC5B,IAQW,CARsB,iBAAjBQ,EAAAmH,eAAY,WAA5B7G,EAAAA,EAAAA,IAQW8G,EAAA,CAAA5G,IAAA,I,kBAPP,IAMM,CANNU,K,wBAQJzB,EAAAA,EAAAA,IAEgB4H,EAAA,CAFD9H,KAAK,QAAS+H,aAAUvG,EAAA,KAAAA,EAAA,GAAAC,GAAEhB,EAAAuH,cAAcvG,K,mBACnD,IAA+C,EAA/CvB,EAAAA,EAAAA,IAA+C+H,M,MAGnD/F,GAEAhC,EAAAA,EAAAA,IAiESgI,EAAA,CAjEDjI,MAAM,SAAS8G,IAAI,SAAUoB,QAAO,CAAG1H,EAAA2H,SAAUC,QAAA,GAASC,aAAc7H,EAAA8H,UAAYC,MAAO,IAAMC,aAAc,GAAKC,eAAe,G,mBAEvI,IAAuC,gBADvCxH,EAAAA,EAAAA,IA+De2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA9DiBrC,EAAAkI,QAAM,CAA9BC,EAAcC,M,WADtB9H,EAAAA,EAAAA,IA+De+H,EAAA,CA/DD7I,MAAM,QAEnBgB,IAAK4H,EACLE,aAAcF,G,mBACF,IAAoC,gBAA7C3H,EAAAA,EAAAA,IAkBU2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAlBkBrC,EAAAuI,KAAK,GAAGH,MAApBxD,K,WAAhBtE,EAAAA,EAAAA,IAkBUgB,EAAA,CAlBqCd,IAAKoE,EAASrC,GAAIhB,MAAA,GAAM/B,MAAM,c,mBACzE,IAgBU,EAhBVC,EAAAA,EAAAA,IAgBU+B,EAAA,CAhBDgH,OAAA,IAAM,C,kBACX,IAEM,EAFNlJ,EAAAA,EAAAA,GAEM,MAFNqC,EAEM,EADFlC,EAAAA,EAAAA,IAAkIgJ,EAAA,CAAnHlG,GAAE,YAAcqC,EAASd,KAAKvB,KAAOmG,QAAS9D,EAASd,KAAK6E,KAAOC,YAAS5H,GAAEhB,EAAA6I,WAAWjE,I,0CAG5GnF,EAAAA,EAAAA,IAUaqJ,EAAA,CAVDtJ,MAAM,UAAW,mBAAiB,UAAW6G,UAAWrG,EAAA+I,iBAAmBC,eAAc,CAAArF,MAAUsF,mBAAmBxE,KAAKO,UAAUJ,M,mBAC7I,IAQW,EARXnF,EAAAA,EAAAA,IAQWiC,EAAA,CARAwH,OAAKC,EAAAA,EAAAA,IAAA,kBAAoBvE,EAASd,KAAKhD,UAAUtB,MAAM,iB,mBAC9D,IAAwE,EAAxEF,EAAAA,EAAAA,GAAwE,UAArEsC,GAAiC,aAACjB,EAAAA,EAAAA,IAAGiE,EAASA,SAAShE,SAAO,KACvDZ,EAAAoJ,SAAI,WAAd3I,EAAAA,EAAAA,IAAiF,M,MAA/DsB,UAAQ6C,EAASA,SAASyE,aAAc7J,MAAM,a,wBAChEiB,EAAAA,EAAAA,IAAsE,KAAtE6I,GAAsE3I,EAAAA,EAAAA,IAAtCiE,EAASA,SAASyE,cAAY,IAErDzE,EAASU,MAAMpD,OAAS,IAAH,WAA9BzB,EAAAA,EAAAA,IAEI,IAAA0B,EAAA,EADA7C,EAAAA,EAAAA,GAAyC,aAAAqB,EAAAA,EAAAA,IAAhCiE,EAASU,MAAM,GAAGzC,MAAI,yB,uGAOxC7C,EAAAuI,KAAK,GAAGH,OAAK,WAAxB3H,EAAAA,EAAAA,IAoBM,MAAAkC,EAAA,CAnBoD,GAA3B3C,EAAAuI,KAAK,GAAGH,KAASlG,QAAgBlC,EAAAuI,KAAK,GAAGH,KAASmB,OAAUvJ,EAAAuI,KAAK,GAAGH,KAASoB,S,iBAAO,WAA/G/I,EAAAA,EAAAA,IAMM,MANNmC,EAMM,CALF6G,EACAC,EACAC,GAEAlK,EAAAA,EAAAA,IAAmIoB,EAAA,CAAvH+I,KAAK,KAAKC,KAAK,QAAS3J,QAAKa,EAAA,KAAAA,EAAA,GAAAC,GAAEhB,EAAA+G,yBAAwB,IAAOvH,MAAM,mB,mBAAkB,IAAoB,UAApB,2B,SAGhD,GAA3BQ,EAAAuI,KAAK,GAAGH,KAASlG,QAAyC,eAA1BlC,EAAAuI,KAAK,GAAGH,KAASmB,OAA2BvJ,EAAAuI,KAAK,GAAGH,KAASoB,SAAYxJ,EAAA8J,WAI9H,iBAJuI,WAA7IrJ,EAAAA,EAAAA,IAIM,MAJNsJ,EAIMC,IAEgD,GAA3BhK,EAAAuI,KAAK,GAAGH,KAASlG,QAAyC,eAA1BlC,EAAAuI,KAAK,GAAGH,KAASmB,QAA2BvJ,EAAAuI,KAAK,GAAGH,KAASoB,SAAWxJ,EAAA8J,YAAS,WAA5IrJ,EAAAA,EAAAA,IAIM,MAJNwJ,EAIMC,KAAA,+BAEVzJ,EAAAA,EAAAA,IAIM,MAAA0J,EAAA,EAHF7K,EAAAA,EAAAA,GAEM,MAFN8K,EAEM,EADF3K,EAAAA,EAAAA,IAAyB4K,SAIjC5K,EAAAA,EAAAA,IAUU6B,EAAA,CAVDC,MAAA,GAAM/B,MAAM,kB,mBACjB,IAQU,EARVC,EAAAA,EAAAA,IAQU+B,EAAA,CARDgH,OAAA,GAAO8B,OAAO,QAASpK,QAAKa,EAAA,KAAAA,EAAA,GAAAC,GAAEhB,EAAAuK,YAAYvJ,K,mBAC/C,IAAoE,CAApEwJ,GACA/K,EAAAA,EAAAA,IAKaqJ,EAAA,CALDtJ,MAAM,UAAU,mBAAiB,UAAW6G,UAAWrG,EAAAyK,iB,mBAC/D,IAGW,EAHXhL,EAAAA,EAAAA,IAGWiC,EAAA,M,kBAFP,IAA0B,CAA1BgJ,EACAC,K,gIAUxBlL,EAAAA,EAAAA,IAuBWmL,EAAA,CAvBA,UAAS5K,EAAA6K,kBAAmBvE,IAAI,gBAAgB9G,MAAM,gBAAiBsL,aAAU/J,EAAA,KAAAA,EAAA,GAAAC,GAAEhB,EAAA+G,yBAAwB,IAAS,yBAAuB,EAAO,qBAAoB,IAAOgE,YAAa,CAAC,EAAG,M,mBACrM,IAOY,EAPZtL,EAAAA,EAAAA,IAOYC,EAAA,M,kBANR,IAKa,EALbD,EAAAA,EAAAA,IAKaG,EAAA,M,kBAJb,IAA2C,EAA3CH,EAAAA,EAAAA,IAA2Cc,EAAA,M,kBAAhC,IAAoB,UAApB,2B,OACXd,EAAAA,EAAAA,IAEcI,EAAA,CAFDN,KAAK,OAAK,C,kBACnB,IAA0D,EAA1DE,EAAAA,EAAAA,IAA0DoB,EAAA,CAA7CX,QAAKa,EAAA,KAAAA,EAAA,GAAAC,GAAEhB,EAAAgL,mB,mBAAkB,IAAO,UAAP,c,kCAI9CvL,EAAAA,EAAAA,IAac0B,EAAA,M,kBAZV,IAWc,EAXd1B,EAAAA,EAAAA,IAWcwL,EAAA,CAVVC,aAAa,OACb5E,IAAI,UACJ6E,KAAK,QACJjH,MAAOlE,EAAAoL,kBACPC,eAAgB,EAChBC,IAAKtL,EAAAuL,QACLC,IAAKxL,EAAAyL,QACL,kBAAiBzL,EAAA0L,gBACjB9C,YAAS7H,EAAA,KAAAA,EAAA,GAAAC,GAAEhB,EAAA2L,mB,wMA7dnC,SAAe7I,EAAAA,EAAAA,IAAgB,CAC9BD,KAAM,aACNE,WAAY,CACXC,UAAS,KACTM,WAAU,KACVL,WAAU,KACVI,SAAQ,KACRuI,cAAa,KACb1I,WAAU,KACDC,UAAS,KAClBI,QAAO,KACEsI,QAAO,KACPC,OAAM,KACNC,YAAW,KACXC,aAAY,KACZC,oBAAmB,KACnBC,YAAW,KACXC,SAAQ,KACRC,YAAW,KACX5I,QAAO,KACPC,SAAQ,KACR4I,WAAUA,EAAAA,IAEpBC,QACC,MAAO,CACMxE,UAAW,IACXyD,QAASgB,EAAAA,MAAAA,KACTd,QAASc,EAAAA,MAAAA,KACTb,gBAAiBa,EAAAA,MAAAA,GAC7B5E,QAAOA,EAAAA,GAET,EACA7D,OACU,MAAMoE,EAASsE,MAAMC,KAAK,CAAEvK,OAAyB,EAAjB8B,KAAK8D,YAAiB4E,KACtD,CAACC,EAAIvE,IAAW,SAAQA,MAGrC,MAAO,CACMW,iBAAkBA,EAAAA,WAC9Bb,SACY0E,aAAc5I,KAAK8D,UACnBd,gBAAiBhD,KAAK6I,iBAAiB7I,KAAK8I,KAC5CC,sBAAuB/I,KAAK6I,iBAAiB7I,KAAK8I,KAClD1B,kBAAmBpH,KAAK8I,IAAIE,cAAcC,MAAM,KAAK,GACrD1E,KAAM,GACNuB,WAAW,EACXoD,mBAAmB,EACnBrC,mBAAmB,EACnBsC,gBAAgB,EAChBlG,WAAW,EACXE,aAAcxC,aAAayI,QAAQ,gBACnCC,OAAQ,IAAIC,KACZC,OAAQ,KAEtB,EACAnJ,QAAS,CACCC,oBACI,MAAMmJ,QAAcC,EAAAA,GAAAA,OAAuB,CACvCC,OAAQ,oBACRC,UAAW,wCACXC,OAAQ,CACJ,CACI/K,KAAM,UACNH,KAAM,QACNmL,YAAa,uBAEjB,CACIhL,KAAM,UACNH,KAAM,WACNmL,YAAa,sBAGrBC,QAAS,CACL,CACI/N,KAAM,UACNgO,KAAM,UAEV,CACIhO,KAAM,UACNiO,QAAS3J,UACL,MAAMtE,EAAO+D,EAAK9B,QAClB,IAAIpB,EAAUkD,EAAKlD,QAMnB,GAJKA,IACDA,EAAU,wBAGTb,EACD,OAIJ,MAAMe,EAAQmN,iBAAiBC,SAASC,iBAAiBC,iBAAiB,uBAG1E,IAAIC,EAAYtO,EAEZsO,EAAUnM,OAAS,KACnBmM,EAAYA,EAAUC,UAAU,EAAG,IAAM,OAG7C,MAAMC,EAAc,CAChBzK,KAAM,CACFvB,GAAI,UAAYiM,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GACrDC,KAAM5K,KAAK8I,IAAIE,cAAcC,MAAM,KAAK,GAAG4B,QAAQ,KAAM,KAAO,SAChE/N,MAAOA,EACP6H,MAAM,GAEV/D,SAAU,CACNhE,QAASA,EAAQkO,cACjB9M,QAASjC,EACTsJ,aAAcgF,GAElB/I,MAAO,IAIX,IAAId,EAAkB,GAElBG,aAAaH,kBACbA,EAAkBC,KAAKC,MAAMC,aAAaH,kBAG9CA,EAAgBuK,KAAK,CACjBH,KAAM5K,KAAK8I,IACXlI,SAAU2J,IAGd5J,aAAaH,gBAAkBC,KAAKO,UAAUR,GAG9CR,KAAKuD,eAAe,IAIhCqC,KAAM,aAGJ4D,EAAMwB,SAChB,EACA5F,OACE,MAAqC,iBAA9BzE,aAAawC,YACtB,EACA8H,aAAaC,EAAOC,EAAMC,GACtB,MAAMC,EAAeC,YAAW,KAC5BtL,KAAKiD,WAAY,CAAI,GACtB,KAEH,IAAK,IAAIsI,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,MAAMnH,EAAQpE,KAAKuJ,OAAOiC,WAAaD,EAAI,GAGrCE,EAAYzL,KAAK8D,UAAYM,EAGnC,IAAIsH,EAAc,IAAIpC,KAAKtJ,KAAKqJ,QAE7B8B,IACCO,EAAc,IAAIpC,KAAKtJ,KAAK8I,MAGhC4C,EAAYC,QAAQD,EAAYE,UAAYH,GAGpC,GAALF,IACCvL,KAAK8I,IAAM4C,EACX1L,KAAKgD,gBAAkBhD,KAAK6I,iBAAiB7I,KAAK8I,KAClD9I,KAAKoH,kBAAoBpH,KAAK8I,IAAIE,cAAcC,MAAM,KAAK,KAI/D4C,EAAAA,EAAAA,GAAaH,EAAaA,EAAaR,GAAOY,MAAMC,IACxC,GAALR,IACCS,aAAaX,GACbrL,KAAKiD,WAAY,EAEdmI,GACCA,EAAM9E,OAAO2F,YAIjBF,EAAUxG,MACY,mBAAnBwG,EAAUxG,MACNvF,KAAKuE,KAAKH,KACTpE,KAAKuE,KAAKH,GAAOoB,SAAU,IAI/BxF,KAAKuE,KAAKH,GAAS,GAChBpE,KAAKuE,KAAKH,KACTpE,KAAKuE,KAAKH,GAAOmB,MAAQwG,EAAUxG,SAK3CvF,KAAKuE,KAAKH,GAASpE,KAAKkM,cAAcH,GACtC/L,KAAK+I,sBAAwB/I,KAAK6I,iBAAiB7I,KAAK8I,KACrD9I,KAAKuE,KAAKH,KACTpE,KAAKuE,KAAKH,GAAOoB,SAAU,GAEnC,GAER,CACJ,EACA0G,cAAcH,GAEV,IAAK,IAAIR,EAAI,EAAGA,EAAIQ,EAAU7N,OAAQqN,IAAK,CAEvC,MAAM3K,EAAWmL,EAAUR,GAGxB3K,EAASA,SAASyE,eAEjB0G,EAAUR,GAAG3K,SAASyE,aAAezE,EAASA,SAASyE,aAAawF,QAAQ,kBAAkB,IAEtG,CAGA,OAAOkB,CACX,EACAlD,iBAAiB+B,GACb,MAAMuB,EAAa,IAAI7C,KAAKsB,GACtBwB,EAAaD,EAAWE,eAAe,UAAW,CAAEC,QAAS,SAAUC,MAAM,EAAG,GAEtF,OAAOH,EAAa,KAAOD,EAAWP,SAC1C,EACTjE,iBACa,GAAI3H,KAAKmJ,eAeLnJ,KAAKmJ,gBAAiB,MAfD,CAErB,MAAMqD,EAAU,IAAIlD,KAAKtJ,KAAKyM,MAAMC,QAAQC,IAAIzM,OAGhDF,KAAK8I,IAAM0D,EACXxM,KAAKqJ,OAASmD,EAGdxM,KAAKuJ,OAAOqD,QAAQ5M,KAAK8D,UAAW,GAAG,GAGvCoG,SAAS2C,cAAc,IAAIC,YAAY,YAAa,CAAExG,OAAQkG,IAClE,CAIJ,EACAxF,iBACIhH,KAAK+C,yBAAwB,EACjC,EACAgK,eACI/M,KAAKyM,MAAMO,cAAcL,IAAI3B,SACjC,EACAiC,cAEI,OAAO,CACX,EACA1J,cAAc6H,GACVpL,KAAKiL,cAAa,GAAM,EAAOG,EACnC,EACArI,wBAAwBmK,GACpBlN,KAAK6G,kBAAoBqG,CAC7B,EACArI,WAAWsI,GAEPC,EAAAA,EAAAA,aAA+B,WAG/B,MAAMC,EAAaF,EAAGrN,KAAKvB,GACrB+O,EAAU,IAAIhE,KAAKtJ,KAAK8I,KAExByE,EAAc,YAAWJ,EAAGrN,KAAKvB,KACjCiP,EAAWtD,SAASuD,eAAeF,GAGrCvN,KAAK0N,eA2CLF,EAAS9I,SAAW8I,EAAS9I,SA1C7BiJ,EAAAA,EAAAA,GAAa,CAACN,EAAYC,EAASH,IAAKrB,MAAK,KACzCR,YAAW,KACPtL,KAAK0N,gBAAiB,EAEtBpC,YAAW,KACPtL,KAAK0N,gBAAiB,CAAK,GAC5B,IAAI,GACR,KAGH/M,aAAaiN,WAAW,iBAGxB5N,KAAKiL,cAAc,IAGtB4C,OAAOtI,IACJuI,QAAQvI,MAAMA,GAEd+F,YAAW,KACPtL,KAAK0N,gBAAiB,EACtBF,EAAS9I,SAAW8I,EAAS9I,QAE7B4G,YAAW,KACPtL,KAAK0N,gBAAiB,CAAK,GAC5B,IAAI,GACR,KAIHK,EAAAA,EAAAA,iBACI,6CACA,8CACA,SACAC,EAAAA,KACA,EACAzI,EACF,GAOd,GAEVtE,UACUjB,KAAKuJ,OAASvJ,KAAKyM,MAAMlD,OAAOoD,IAAIpD,OAEpCW,SAAS+D,iBAAiB,aAAcC,IACpClO,KAAKgD,gBAAkBhD,KAAK6I,iBAAiBqF,EAAE5H,QAC/CtG,KAAKiL,cAAa,EAAOiD,EAAE5H,OAAO,IAGtCtG,KAAKiL,eAELf,SAAS+D,iBAAiB,gBAAgB,KACtCjO,KAAKiL,gBACE,KAIXjL,KAAKuJ,OAAO4E,GAAG,4BAA4B,KAEvCnO,KAAKiN,cAELjN,KAAKmJ,gBAAiB,EAEtBnJ,KAAKiL,cAAc,IAGvBjL,KAAKuJ,OAAO4E,GAAG,qBAAqB,KAChCnO,KAAK4I,aAAe5I,KAAKuJ,OAAO6E,WAAW,GAEzD,I,cCvWF,MAAM5M,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,ICLI,GACEzC,WAAY,CAAEsP,OAAMA,EAAAA,GAAExG,QAAOA,EAAAA,IAC7B/H,KAAI,WACF,MAAO,CACLuC,UAAWiM,EAEf,GCLA,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS7M,KAEpE,G","sources":["webpack://papillon/./src/views/homework/HomeworkItemView.vue","webpack://papillon/./src/views/homework/HomeworkItemView.vue?968f","webpack://papillon/./src/views/homework/HomeworkSetup.vue?ef08","webpack://papillon/./src/views/homework/HomeworkView.vue","webpack://papillon/./src/views/homework/HomeworkView.vue?d727","webpack://papillon/./src/views/homework/HomeworkSetup.vue?081b","webpack://papillon/./src/views/homework/HomeworkSetup.vue"],"sourcesContent":["<script>\n\timport {\n\t\tdefineComponent\n\t} from 'vue';\n\timport {\n\t\tIonHeader,\n\t\tIonToolbar,\n\t\tIonList,\n\t\tIonItem,\n\t\tIonLabel,\n\t\tIonButtons,\n        IonButton,\n\t\tIonTitle,\n\t\tIonContent,\n        IonBackButton\n\t} from '@ionic/vue';\n\n    import { Browser } from '@capacitor/browser';\n\n\texport default defineComponent({\n\t\tname: 'FolderPage',\n\t\tcomponents: {\n\t\t\tIonHeader,\n\t\t\tIonToolbar,\n\t\t\tIonButtons,\n            IonButton,\n\t\t\tIonBackButton,\n\t\t\tIonTitle,\n\t\t\tIonContent,\n\t\t\tIonList,\n\t\t\tIonItem,\n\t\t\tIonLabel,\n\t\t},\n        props: {\n            urlHw: {\n                type: String,\n                required: true,\n            }\n        },\n\t\tdata() {\n            let backTitle = 'Retour';\n\n\t\t\t// get current route\n\t\t\tconst currentRoute = this.$router.currentRoute.value;\n\n\t\t\tif(currentRoute.name == \"Homework\") {\n\t\t\t\tbackTitle = 'Devoirs';\n\t\t\t}\n\n\t\t\treturn {\n                backTitle: backTitle,\n                openedHw: [],\n                openedData: [],\n                openedHomework: [],\n                openedFiles: [],\n                custom: false,\n                deleted: false,\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tasync openLink(url) {\n                await Browser.open({\n                    url: url,\n\t\t\t\t\tpresentationStyle: 'popover',\n                });\n            },\n            async deleteHW() {\n                const customHomeworks = JSON.parse(localStorage.customHomeworks);\n\n                // find homework\n                const homework = customHomeworks.find((homework) => {\n                    return homework.homework.data.id == this.openedData.id;\n                });\n\n                // remove homework\n                customHomeworks.splice(customHomeworks.indexOf(homework), 1);\n\n                // save customHomeworks\n                localStorage.customHomeworks = JSON.stringify(customHomeworks);\n\n                this.deleted = true;\n            }\n\t\t},\n\t\tmounted() {\n            // if urlHw prop is set\n            if(this.urlHw) {\n                const encoded = this.urlHw;\n\n                // decode url\n                const decoded = decodeURIComponent(encoded);\n\n                // parse json\n                const parsed = JSON.parse(decoded);\n                // open urlHw\n                this.openedHw = parsed;\n                this.openedData = parsed.data;\n                this.openedHomework = parsed.homework;\n                this.openedFiles = parsed.files;\n\n                // if parsed.data.id starts with \"custom\"\n                if(typeof parsed.data.id !== \"number\") {\n                    if(parsed.data.id.startsWith(\"custom\")) {\n                        this.custom = true;\n                    }\n                }\n            }\n\n            return false;\n        }\n\t});\n</script>\n\n<template>\n\t\t<IonHeader class=\"AppHeader\" translucent>\n\t\t\t<IonToolbar>\n\t\t\t\t<ion-buttons slot=\"start\">\n\t\t\t\t\t<IonBackButton class=\"only-ios\" :text=\"backTitle\" @click=\"pop\"></IonBackButton>\n\t\t\t\t\t<IonBackButton class=\"only-md\" @click=\"pop\"></IonBackButton>\n\t\t\t\t</ion-buttons>\n\n                <ion-title v-if=\"openedHomework && custom\">Devoir personnalisé</ion-title>\n                <ion-title v-else>Travail à faire <span v-if=\"openedHomework\">en {{ openedHomework.subject }}</span></ion-title>\n\n                <ion-buttons slot=\"end\">\n\t\t\t\t\t<ion-button v-if=\"custom\" color=\"danger\" @click=\"deleteHW($event)\">\n                        <span slot=\"start\" class=\"material-symbols-outlined mdls\">delete</span>\n                        Suppr.\n                    </ion-button>\n\t\t\t\t</ion-buttons>\n\t\t\t</IonToolbar>\n\t\t</IonHeader>\n\n\t\t<ion-content :fullscreen=\"true\">\n            <IonList inset v-if=\"deleted\">\n                <IonItem color=\"danger\">\n                    <span class=\"material-symbols-outlined mdls\" slot=\"start\">delete</span>\n\n                    <IonLabel>\n                        <h2>Ce devoir à été supprimé</h2>\n                        <p>Vous consultez une archive de ce devoir.</p>\n                    </IonLabel>\n                </IonItem>\n            </IonList>\n\n            <div v-if=\"openedHw\">\n                <div class=\"content\" v-html=\"openedHomework.content\"></div>\n            </div>\n\n            <IonLabel class=\"listGroupTitle\" v-if=\"openedFiles.length !== 0\">\n\t\t\t\t<p>Documents attachés</p>\n\t\t\t</IonLabel>\n\n            <IonList v-if=\"openedFiles.length !== 0\" class=\"listGroup\">\n                <IonItem v-for=\"attachment in openedFiles\" :key=\"attachment.id\" @click=\"openLink(attachment.url)\">\n                    <span v-if=\"attachment.type == 1\" class=\"material-symbols-outlined mdls\" slot=\"start\">description</span>\n                    <span v-else-if=\"attachment.type == 0\" class=\"material-symbols-outlined mdls\" slot=\"start\">link</span>\n\n                    <IonLabel>\n                        <h2>{{ attachment.name }}</h2>\n                        <p>{{ attachment.url }}</p>\n                    </IonLabel>\n                </IonItem>\n            </IonList>\n\t\t</ion-content>\n</template>\n\n<style scoped>\n    .hwTitle {\n        font-weight: 500 !important;\n    }\n\n\t.content {\n        margin: 10px 20px;\n\n        font-size: 16px;\n        line-height: 20px;\n        \n        margin-top: 15px;\n        \n        -webkit-user-select: text;\n        user-select: text;\n    }\n</style>\n","import { render } from \"./HomeworkItemView.vue?vue&type=template&id=457e3472&scoped=true\"\nimport script from \"./HomeworkItemView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeworkItemView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeworkItemView.vue?vue&type=style&index=0&id=457e3472&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-457e3472\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_nav = _resolveComponent(\"ion-nav\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_nav, {\n        root: $data.component,\n        ref: \"page\"\n      }, null, 8, [\"root\"])\n    ]),\n    _: 1\n  }))\n}","<script>\n\timport { defineComponent } from 'vue';\n\timport { IonHeader, IonContent, IonToolbar, IonTitle, IonMenuButton, IonPage, IonButtons, IonList, IonLabel, IonItem, IonNavLink, IonRefresher, IonRefresherContent, IonCheckbox, IonButton, IonModal, IonDatetime, alertController } from '@ionic/vue';\n\n    import { alertCircle } from 'ionicons/icons';\n\n    import { Virtual } from 'swiper'\n    import { Swiper, SwiperSlide } from 'swiper/vue';\n    import 'swiper/css';\n\n    import HomeworkItemView from './HomeworkItemView.vue';\n\n    import GetHomeworks from \"@/functions/fetch/GetHomeworks.js\";\n    import { tickHomework } from \"@/functions/fetch/GetHomeworks.js\";\n\n    import displayToast from '@/functions/utils/displayToast.js';\n    import hapticsController from '@/functions/utils/hapticsController.js';\n\n\texport default defineComponent({\n\t\tname: 'FolderPage',\n\t\tcomponents: {\n\t\t\tIonHeader,\n\t\t\tIonContent,\n\t\t\tIonToolbar,\n\t\t\tIonTitle,\n\t\t\tIonMenuButton,\n\t\t\tIonButtons,\n            IonButton,\n\t\t\tIonList,\n            IonPage,\n            Swiper,\n            SwiperSlide,\n            IonRefresher,\n            IonRefresherContent,\n            IonCheckbox,\n            IonModal,\n            IonDatetime,\n            IonItem,\n            IonLabel,\n            IonNavLink\n\t\t},\n\t\tsetup() {\n\t\t\treturn { \n                baseIndex: 250,\n                minDate: require('@/functions/utils/datetimePicker.js').minCalendarDate(),\n                maxDate: require('@/functions/utils/datetimePicker.js').maxCalendarDate(),\n                isDateAvailable: require('@/functions/utils/datetimePicker.js').isDateAvailable,\n\t\t\t\tVirtual\n\t\t\t}\n\t\t},\n\t\tdata() {\n            const slides = Array.from({ length: this.baseIndex * 2 }).map(\n                (el, index) => `Slide ${index}`\n            );\n\n\t\t\treturn {\n                HomeworkItemView: HomeworkItemView,\n\t\t\t\tslides,\n                currentIndex: this.baseIndex,\n                rnButtonString2: this.createDateString(this.$rn),\n                loadedrnButtonString2: this.createDateString(this.$rn),\n                rnCalendarString2: this.$rn.toISOString().split('T')[0],\n                days: [],\n                connected: false,\n                shouldResetSwiper: false,\n                rnPickerModalOpen: false,\n                isChangingDate: false,\n                isLoading: true,\n                loginService: localStorage.getItem(\"loginService\"),\n                baseRn: new Date(),\n                swiper: null,\n\t\t\t}\n\t\t},\n\t\tmethods: {\n            async addHomework() {\n                const alert = await alertController.create({\n                    header: 'Ajouter un devoir',\n                    subHeader: 'Entrez ici le contenu de votre devoir',\n                    inputs: [\n                        {\n                            name: 'subject',\n                            type: 'input',\n                            placeholder: 'Matière (optionnel)'\n                        },\n                        {\n                            name: 'content',\n                            type: 'textarea',\n                            placeholder: 'Contenu du devoir'\n                        },\n                    ],\n                    buttons: [\n                        {\n                            text: 'Annuler',\n                            role: 'cancel',\n                        },\n                        {\n                            text: 'Ajouter',\n                            handler: async (data) => {\n                                const text = data.content;\n                                let subject = data.subject;\n\n                                if (!subject) {\n                                    subject = \"DEVOIR PERSONNALISÉ\"\n                                }\n\n                                if (!text) {\n                                    return;\n                                }\n\n                                // get --ion-color-primary\n                                const color = getComputedStyle(document.documentElement).getPropertyValue('--ion-color-primary');\n\n                                // get homework description\n                                let shortText = text;\n\n                                if (shortText.length > 80) {\n                                    shortText = shortText.substring(0, 80) + '...';\n                                }\n\n                                const newHomework = {\n                                    data: {\n                                        id: \"custom_\" + Math.random().toString(36).substr(2, 9),\n                                        date: this.$rn.toISOString().split('T')[0].replace(/-/g, \"/\") + \" 00:00\",\n                                        color: color,\n                                        done: false,\n                                    },\n                                    homework: {\n                                        subject: subject.toUpperCase(),\n                                        content: text,\n                                        shortContent: shortText,\n                                    },\n                                    files: [],\n                                };\n\n                                // add homework to homeworks\n                                let customHomeworks = [];\n\n                                if (localStorage.customHomeworks) {\n                                    customHomeworks = JSON.parse(localStorage.customHomeworks);\n                                }\n\n                                customHomeworks.push({\n                                    date: this.$rn,\n                                    homework: newHomework\n                                })\n\n                                localStorage.customHomeworks = JSON.stringify(customHomeworks);\n\n                                // refresh homeworks\n                                this.handleRefresh();\n                            }\n                        }\n                    ],\n                    mode: 'md'\n                });\n\n                await alert.present();\n            },\n            isED() {\n              return localStorage.loginService === 'ecoledirecte'\n            },\n            getHomeworks(force, goTo, event) {\n                const startloading = setTimeout(() => {\n                    this.isLoading = true;\n                }, 500);\n\n                for (let i = 0; i < 3; i++) {\n                    const index = this.swiper.realIndex + (i - 1);\n\n                    // get index diff\n                    const indexDiff = this.baseIndex - index;\n\n                    // get rn\n                    let selectedRN2 = new Date(this.baseRn);\n\n                    if(goTo) {\n                        selectedRN2 = new Date(this.$rn);\n                    }\n\n                    selectedRN2.setDate(selectedRN2.getDate() - indexDiff);\n\n                    // if i is 1\n                    if(i == 1) {\n                        this.$rn = selectedRN2;\n                        this.rnButtonString2 = this.createDateString(this.$rn);\n                        this.rnCalendarString2 = this.$rn.toISOString().split('T')[0];\n                    }\n\n                    // get homeworks for rn\n                    GetHomeworks(selectedRN2, selectedRN2, force).then((homeworks) => {\n                        if(i == 2) {\n                            clearTimeout(startloading);\n                            this.isLoading = false;\n\n                            if(event) {\n                                event.detail.complete();\n                            }\n                        }\n\n                        if (homeworks.error) {\n                            if(homeworks.error == \"ERR_BAD_REQUEST\") {\n                                if(this.days[index]) {\n                                    this.days[index].loading = true;\n                                }\n                            }\n                            else {\n                                this.days[index] = [];\n                                if(this.days[index]) {\n                                    this.days[index].error = homeworks.error;\n                                }\n                            }\n                        }\n                        else {\n                            this.days[index] = this.editHomeworks(homeworks);\n                            this.loadedrnButtonString2 = this.createDateString(this.$rn);\n                            if(this.days[index]) {\n                                this.days[index].loading = false;\n                            }\n                        }\n                    });\n                }\n            },\n            editHomeworks(homeworks) {\n                // for each homework\n                for (let i = 0; i < homeworks.length; i++) {\n                    // set homework to edit\n                    const homework = homeworks[i];\n\n                    // if homeworks[i].homework.shortContent exists\n                    if(homework.homework.shortContent) {\n                        // remove <br/> tags from homework.homework.shortContent\n                        homeworks[i].homework.shortContent = homework.homework.shortContent.replace(/[<]br[^>]*[>]/gi,\"\");\n                    }\n                }\n\n                // set homeworks to edit\n                return homeworks;\n            },\n            createDateString(date) {\n                const dateObject = new Date(date);\n                const day_string = dateObject.toLocaleString('default', { weekday: 'long' }).slice(0, 3);\n                // return string like \"jeu. 1\"\n                return day_string + \". \" + dateObject.getDate();\n            },\n\t\t\trnInputChanged() {\n                if(!this.isChangingDate) {\n                    // get new date from rnInput\n                    const newDate = new Date(this.$refs.rnInput.$el.value);\n\n                    // update rn\n                    this.$rn = newDate;\n                    this.baseRn = newDate;\n\n                    // reset swiper\n                    this.swiper.slideTo(this.baseIndex, 0, false);\n\n                    // emit event\n                    document.dispatchEvent(new CustomEvent('rnChanged', { detail: newDate }));\n                }\n                else {\n                    this.isChangingDate = false;\n                }\n            },\n            confirmRnInput() {\n                this.changernPickerModalOpen(false);\n            },\n            openRnPicker() {\n                this.$refs.rnPickerModal.$el.present();\n            },\n            resetSwiper() {\n                // this.swiper.slideTo(1, 0);\n                return false;\n            },\n            handleRefresh(event) {\n                this.getHomeworks(true, false, event);\n            },\n            changernPickerModalOpen(state) {\n                this.rnPickerModalOpen = state;\n            },\n            changeDone(hw) {\n                // microinteractions\n                hapticsController.notification('success');\n\n                // vars\n                const homeworkID = hw.data.id;\n                const dateSet = new Date(this.$rn)\n\n                const checkboxID = `checkbox_${hw.data.id}`;\n                const checkbox = document.getElementById(checkboxID);\n\n                // new send request\n                if(!this.dontRetryCheck) {\n                    tickHomework([homeworkID, dateSet, hw]).then(() => {\n                        setTimeout(() => {\n                            this.dontRetryCheck = true;\n\n                            setTimeout(() => {\n                                this.dontRetryCheck = false;\n                            }, 200);\n                        }, 200);\n                        \n                        // reset homework cache\n                        localStorage.removeItem('HomeworkCache');\n\n                        // reload homeworks\n                        this.getHomeworks();\n\n                    })\n                    .catch((error) => {\n                        console.error(error)\n                        // revert change\n                        setTimeout(() => {\n                            this.dontRetryCheck = true;\n                            checkbox.checked = !checkbox.checked;\n\n                            setTimeout(() => {\n                                this.dontRetryCheck = false;\n                            }, 200);\n                        }, 200);\n\n                        \n\n                        displayToast.presentToastFull(\n                            \"Impossible de marquer ce devoir comme fait\",\n                            \"Une erreur est survenue lors de la requête.\",\n                            \"danger\",\n                            alertCircle,\n                            true,\n                            error\n                         )\n                    });\n                }\n                else {\n                    // revert change\n                    checkbox.checked = !checkbox.checked;\n                }\n            }\n\t\t},\n\t\tmounted() {\n            this.swiper = this.$refs.swiper.$el.swiper;\n\n            document.addEventListener('rnChanged', (e) => {\n                this.rnButtonString2 = this.createDateString(e.detail);\n                this.getHomeworks(false, e.detail);\n            });\n\n            this.getHomeworks();\n\n            document.addEventListener('tokenUpdated', () => {\n                this.getHomeworks();\n                return false;\n            });\n\n            // detect swiper slide change\n            this.swiper.on('slideChangeTransitionEnd', () => {\n                // reset swiper\n                this.resetSwiper()\n                // isChangingDate\n                this.isChangingDate = true;\n                // emit event\n                this.getHomeworks();\n            });\n\n            this.swiper.on('activeIndexChange', () => {\n                this.currentIndex = this.swiper.activeIndex;\n            });\n\t\t}\n\t});\n</script>\n\n<template>\n\t<ion-page ref=\"page\">\n\t\t<IonHeader class=\"AppHeader\" translucent>\n\t\t\t<IonToolbar>\n\t\t\t\t<ion-buttons slot=\"start\">\n\t\t\t\t\t<ion-menu-button color=\"dark\"></ion-menu-button>\n\t\t\t\t</ion-buttons>\n\n\t\t\t\t<ion-title>Travail à faire</ion-title>\n\n                <ion-buttons slot=\"end\">\n                    <ion-button id=\"rnPickerModalButton\" color=\"dark\" @click=\"changernPickerModalOpen(true)\">\n                    <span class=\"material-symbols-outlined mdls\" slot=\"start\">calendar_month</span>\n\n                    <p>{{ rnButtonString2 }}</p>\n                    </ion-button>\n                </ion-buttons>\n\n                <ion-progress-bar type=\"indeterminate\" v-if=\"isLoading\"></ion-progress-bar>\n\t\t\t</IonToolbar>\n\t\t</IonHeader>\n\n\t\t<ion-content :fullscreen=\"true\" class=\"content\">\n            <ion-item v-if=\"loginService === 'ecoledirecte'\">\n                <div class=\"alphaMessage\">\n                    <span class=\"material-symbols-outlined mdls icon\">warning</span>\n                    <div class=\"alphaText\">\n                        <h2>La fonctionnalité \"Travail à faire\" est encore en test pour EcoleDirecte.</h2>\n                        <p class=\"description\">Certains bugs, notamment lors de l'affichage du contenu du devoir, peuvent apparaître.</p>\n                    </div>\n                </div>\t\t\t\t\n            </ion-item>\n            <ion-refresher slot=\"fixed\" @ionRefresh=\"handleRefresh($event)\">\n                <ion-refresher-content></ion-refresher-content>\n            </ion-refresher>\n\n            <div id=\"noTouchZone\"></div>\n\n            <swiper class=\"swiper\" ref=\"swiper\" :modules=\"[Virtual]\" virtual :initialSlide=\"baseIndex\" :speed=\"200\" :spaceBetween=\"10\" :preventClicks=\"true\">\n                <swiper-slide class=\"slide\"\n                v-for=\"(slideContent, index) in slides\"\n                :key=\"index\"\n                :virtualIndex=\"index\">\n                    <IonList v-for=\"homework in days[`${index}`]\" :key=\"homework.id\" inset class=\"hwListItem\">\n                        <IonItem button >\n                            <div slot=\"start\">\n                                <ion-checkbox :id=\"`checkbox_${homework.data.id}`\" :checked=\"homework.data.done\" @ionChange=\"changeDone(homework)\"></ion-checkbox>\n                            </div>\n                            \n                            <IonNavLink class=\"navLink\"  router-direction=\"forward\" :component=\"HomeworkItemView\" :componentProps=\"{urlHw: encodeURIComponent(JSON.stringify(homework))}\">\n                                <IonLabel :style=\"`--courseColor: ${homework.data.color};`\" class=\"ion-text-wrap\">\n                                    <p><span class=\"courseColor\"></span> {{ homework.homework.subject }}</p>\n                                    <h5 v-if=\"isED()\" v-html=\"homework.homework.shortContent\" class=\"hwContent\"></h5>\n                                    <h5 v-else class=\"hwContent\">{{ homework.homework.shortContent }}</h5>\n\n                                    <p v-if=\"homework.files.length > 0\">\n                                        <span>{{ homework.files[0].name }}</span>\n                                    </p>\n                                </IonLabel>\n                            </IonNavLink>\n                        </IonItem>\n                    </IonList>\n\n                    <div v-if=\"days[`${index}`]\">\n                        <div class=\"NoCours\" v-if=\"days[`${index}`].length == 0 && !days[`${index}`].error && !days[`${index}`].loading\">\n                            <h1>😎</h1>\n                            <h2>Aucun devoir pour ce jour</h2>\n                            <p>Sélectionnez un autre jour dans le calendrier ou balayez l’écran pour changer de journée.</p>\n\n                            <ion-button mode=\"md\" fill=\"clear\" @click=\"changernPickerModalOpen(true)\" class=\"changeDayButton\">Ouvrir le calendrier</ion-button>\n                        </div>\n\n                        <div class=\"NoCours\" v-if=\"days[`${index}`].length == 0 && days[`${index}`].error == 'ERR_NETWORK' && !days[`${index}`].loading && !connected\">\n                            <h1>🌏</h1>\n                            <h2>Pas de connexion à Internet</h2>\n                            <p>Vous pouvez uniquement consulter les journées déjà chargées préalablement lorsque vous êtes hors-ligne.</p>\n                        </div>\n\n                        <div class=\"NoCours\" v-if=\"days[`${index}`].length == 0 && days[`${index}`].error == 'ERR_NETWORK' && !days[`${index}`].loading && connected\">\n                            <h1>🛠️</h1>\n                            <h2>Serveurs indisponibles</h2>\n                            <p>Vous pouvez uniquement consulter les journées déjà chargées préalablement. Nos serveurs seront bientôt de nouveaux disponibles.</p>\n                        </div>\n                    </div>\n                    <div v-else>\n                        <div class=\"loadingSpin\">\n                            <IonSpinner></IonSpinner>\n                        </div>\n                    </div>\n\n                    <IonList inset class=\"hwListItem add\">\n                        <IonItem button detail=\"false\" @click=\"addHomework($event)\">\n                            <span class=\"material-symbols-outlined mdls\" slot=\"start\">add</span>\n                            <IonNavLink class=\"navLink\" router-direction=\"forward\" :component=\"AddHomeworkView\">\n                                <IonLabel>\n                                    <h2>Ajouter un devoir</h2>\n                                    <p>Ajouter un devoir manuellement</p>\n                                </IonLabel>\n                            </IonNavLink>\n                        </IonItem>\n                    </IonList>\n\n                </swiper-slide>\n            </swiper>\n\n\n            <IonModal :is-open=\"rnPickerModalOpen\" ref=\"rnPickerModal\" class=\"datetimeModal\" @didDismiss=\"changernPickerModalOpen(false)\" :keep-contents-mounted=\"true\" :initial-breakpoint=\"0.55\" :breakpoints=\"[0, 0.55]\">\n                <IonHeader>\n                    <IonToolbar>\n                    <ion-title>Sélection de la date</ion-title>\n                    <ion-buttons slot=\"end\">\n                        <ion-button @click=\"confirmRnInput()\">Terminé</ion-button>\n                    </ion-buttons>\n                    </IonToolbar>\n                </IonHeader>\n                <ion-content>\n                    <IonDatetime \n                        presentation=\"date\"\n                        ref=\"rnInput\"\n                        size=\"cover\"\n                        :value=\"rnCalendarString2\"\n                        :firstDayOfWeek=\"1\"\n                        :min=\"minDate\"\n                        :max=\"maxDate\"\n                        :is-date-enabled=\"isDateAvailable\"\n                        @ionChange=\"rnInputChanged()\"\n                    >\n                    </IonDatetime>\n                </ion-content>\n            </IonModal>\n\t\t</ion-content>\n\t</ion-page>\n</template>\n  \n<style scoped>\n\n    .alphaMessage {\n\t\tbackground: var(--ion-color-warning);\n\t\tmargin: 20px;\n\t\tborder-radius: 10px;\n\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\n\t\tpadding: 20px;\n\t\tgap: 20px;\n\n\t\tcolor: #fff;\n\t}\n\n\t.alphaMessage * {\n\t\tmargin: 0;\n\t}\n\n\t.alphaMessage .icon {\n\t\theight: 44px;\n\t\twidth: 44px;\n\t\tfont-size: 30px;\n\t\toverflow: visible !important;\n\n\t\tcolor: #fff;\n\t\topacity: 1 !important;\n\t}\n\n\t.alphaMessage .alphaText {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 5px;\n\t}\n\n\t.alphaMessage .alphaText h2 {\n\t\tfont-size: 18px;\n\t}\n\n\t.alphaMessage .alphaText .description {\n\t\tfont-size: 15px;\n\t\topacity: 0.7;\n\t}\n    .swiper {\n        height: 100%;\n        \n        overflow: hidden;\n        padding-top: 8px !important;\n\n        margin-bottom: 0;\n    }\n\n\n\t.loadingSpin {\n        width: 100%;\n        min-height: 40vh;\n        height: 100%;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .courseColor {\n        width: 10px;\n        height: 10px;\n        border-radius: 50%;\n        background-color: var(--courseColor);\n        display: inline-block;\n        margin-right: 5px;\n    }\n\n    .changeDayButton {\n        margin-top: 16px !important;\n    }\n\n    .hwContent {\n        font-size: 16px;\n    }\n\n    #noTouchZone {\n        width: 20px !important;\n    }\n\n    .navLink {\n        margin: 10px 0px;\n        width: 100%;\n    }\n\n    .hwListItem {\n        margin: 6px 12px;\n        margin-bottom: 10px;\n    }\n\n    .hwContent {\n        font-weight: 500;\n    }\n\n    .hwListItem.add {\n        box-shadow: none !important;\n        background: transparent !important;\n    }\n\n    .hwListItem.add ion-item::part(native) {\n        border: 1px solid var(--ion-color-step-100) !important;\n        --background: transparent !important;\n    }\n\n    .ios .hwListItem.add ion-item::part(native) {\n        border-radius: 12px !important;\n    }\n</style>\n","import { render } from \"./HomeworkView.vue?vue&type=template&id=5777ac39&scoped=true\"\nimport script from \"./HomeworkView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeworkView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeworkView.vue?vue&type=style&index=0&id=5777ac39&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5777ac39\"]])\n\nexport default __exports__","\n    import { IonNav, IonPage } from '@ionic/vue';\n    import HomeworksView from './HomeworkView.vue';\n  \n    export default {\n      components: { IonNav, IonPage },\n      data() {\n        return {\n          component: HomeworksView,\n        };\n      }\n    };\n","import { render } from \"./HomeworkSetup.vue?vue&type=template&id=a90d13ac&ts=true\"\nimport script from \"./HomeworkSetup.vue?vue&type=script&lang=ts\"\nexport * from \"./HomeworkSetup.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","slot","class","_createVNode","_component_IonHeader","translucent","_component_IonToolbar","_component_ion_buttons","_component_IonBackButton","text","_ctx","backTitle","onClick","pop","openedHomework","custom","_createBlock","_component_ion_title","key","_createElementBlock","_hoisted_1","_toDisplayString","subject","_component_ion_button","color","_cache","$event","deleteHW","_hoisted_2","_component_ion_content","fullscreen","deleted","_component_IonList","inset","_component_IonItem","_hoisted_3","_component_IonLabel","_hoisted_4","_hoisted_5","openedHw","_hoisted_6","innerHTML","content","openedFiles","length","_hoisted_8","_Fragment","_renderList","attachment","id","openLink","url","type","_hoisted_9","_hoisted_10","name","defineComponent","components","IonHeader","IonToolbar","IonButtons","IonButton","IonBackButton","IonTitle","IonContent","IonList","IonItem","IonLabel","props","urlHw","String","required","data","currentRoute","this","$router","value","openedData","methods","async","Browser","presentationStyle","customHomeworks","JSON","parse","localStorage","homework","find","splice","indexOf","stringify","mounted","encoded","decoded","decodeURIComponent","parsed","files","startsWith","__exports__","render","$props","$setup","$data","$options","_component_ion_nav","_resolveComponent","_component_ion_page","_openBlock","default","_withCtx","root","component","ref","_","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_20","_hoisted_21","_hoisted_22","_component_ion_menu_button","changernPickerModalOpen","rnButtonString2","isLoading","_component_ion_progress_bar","loginService","_component_ion_item","_component_ion_refresher","onIonRefresh","handleRefresh","_component_ion_refresher_content","_component_swiper","modules","Virtual","virtual","initialSlide","baseIndex","speed","spaceBetween","preventClicks","slides","slideContent","index","_component_swiper_slide","virtualIndex","days","button","_component_ion_checkbox","checked","done","onIonChange","changeDone","_component_IonNavLink","HomeworkItemView","componentProps","encodeURIComponent","style","_normalizeStyle","isED","shortContent","_hoisted_7","error","loading","_hoisted_11","_hoisted_12","_hoisted_13","mode","fill","connected","_hoisted_14","_hoisted_18","_hoisted_19","_hoisted_23","_hoisted_24","_hoisted_25","_component_IonSpinner","detail","addHomework","_hoisted_26","AddHomeworkView","_hoisted_27","_hoisted_28","_component_IonModal","rnPickerModalOpen","onDidDismiss","breakpoints","confirmRnInput","_component_IonDatetime","presentation","size","rnCalendarString2","firstDayOfWeek","min","minDate","max","maxDate","isDateAvailable","rnInputChanged","IonMenuButton","IonPage","Swiper","SwiperSlide","IonRefresher","IonRefresherContent","IonCheckbox","IonModal","IonDatetime","IonNavLink","setup","require","Array","from","map","el","currentIndex","createDateString","$rn","loadedrnButtonString2","toISOString","split","shouldResetSwiper","isChangingDate","getItem","baseRn","Date","swiper","alert","alertController","header","subHeader","inputs","placeholder","buttons","role","handler","getComputedStyle","document","documentElement","getPropertyValue","shortText","substring","newHomework","Math","random","toString","substr","date","replace","toUpperCase","push","present","getHomeworks","force","goTo","event","startloading","setTimeout","i","realIndex","indexDiff","selectedRN2","setDate","getDate","GetHomeworks","then","homeworks","clearTimeout","complete","editHomeworks","dateObject","day_string","toLocaleString","weekday","slice","newDate","$refs","rnInput","$el","slideTo","dispatchEvent","CustomEvent","openRnPicker","rnPickerModal","resetSwiper","state","hw","hapticsController","homeworkID","dateSet","checkboxID","checkbox","getElementById","dontRetryCheck","tickHomework","removeItem","catch","console","displayToast","alertCircle","addEventListener","e","on","activeIndex","IonNav","HomeworksView"],"sourceRoot":""}