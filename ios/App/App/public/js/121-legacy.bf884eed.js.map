{"version":3,"file":"js/121-legacy.bf884eed.js","mappings":"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","sources":["webpack://papillon/./src/views/homework/HomeworkItemView.vue","webpack://papillon/./src/views/homework/HomeworkItemView.vue?968f"],"sourcesContent":["<script>\n\timport {\n\t\tdefineComponent\n\t} from 'vue';\n\timport {\n\t\tIonHeader,\n\t\tIonToolbar,\n\t\tIonList,\n\t\tIonItem,\n\t\tIonLabel,\n\t\tIonButtons,\n        IonButton,\n\t\tIonTitle,\n\t\tIonContent,\n        IonBackButton\n\t} from '@ionic/vue';\n\n    import { Browser } from '@capacitor/browser';\n\n\texport default defineComponent({\n\t\tname: 'FolderPage',\n\t\tcomponents: {\n\t\t\tIonHeader,\n\t\t\tIonToolbar,\n\t\t\tIonButtons,\n            IonButton,\n\t\t\tIonBackButton,\n\t\t\tIonTitle,\n\t\t\tIonContent,\n\t\t\tIonList,\n\t\t\tIonItem,\n\t\t\tIonLabel,\n\t\t},\n        props: {\n            urlHw: {\n                type: String,\n                required: true,\n            }\n        },\n\t\tdata() {\n            let backTitle = 'Retour';\n\n\t\t\t// get current route\n\t\t\tconst currentRoute = this.$router.currentRoute.value;\n\n\t\t\tif(currentRoute.name == \"Homework\") {\n\t\t\t\tbackTitle = 'Devoirs';\n\t\t\t}\n\n\t\t\treturn {\n                backTitle: backTitle,\n                openedHw: [],\n                openedData: [],\n                openedHomework: [],\n                openedFiles: [],\n                custom: false,\n                deleted: false,\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tasync openLink(url) {\n                await Browser.open({\n                    url: url,\n\t\t\t\t\tpresentationStyle: 'popover',\n                });\n            },\n            async deleteHW() {\n                const customHomeworks = JSON.parse(localStorage.customHomeworks);\n\n                // find homework\n                const homework = customHomeworks.find((homework) => {\n                    return homework.homework.data.id == this.openedData.id;\n                });\n\n                // remove homework\n                customHomeworks.splice(customHomeworks.indexOf(homework), 1);\n\n                // save customHomeworks\n                localStorage.customHomeworks = JSON.stringify(customHomeworks);\n\n                this.deleted = true;\n            }\n\t\t},\n\t\tmounted() {\n            // if urlHw prop is set\n            if(this.urlHw) {\n                const encoded = this.urlHw;\n\n                // decode url\n                const decoded = decodeURIComponent(encoded);\n\n                // parse json\n                const parsed = JSON.parse(decoded);\n                // open urlHw\n                this.openedHw = parsed;\n                this.openedData = parsed.data;\n                this.openedHomework = parsed.homework;\n                this.openedFiles = parsed.files;\n\n                // if parsed.data.id starts with \"custom\"\n                if(typeof parsed.data.id !== \"number\") {\n                    if(parsed.data.id.startsWith(\"custom\")) {\n                        this.custom = true;\n                    }\n                }\n            }\n\n            return false;\n        }\n\t});\n</script>\n\n<template>\n\t\t<IonHeader class=\"AppHeader\" translucent>\n\t\t\t<IonToolbar>\n\t\t\t\t<ion-buttons slot=\"start\">\n\t\t\t\t\t<IonBackButton class=\"only-ios\" :text=\"backTitle\" @click=\"pop\"></IonBackButton>\n\t\t\t\t\t<IonBackButton class=\"only-md\" @click=\"pop\"></IonBackButton>\n\t\t\t\t</ion-buttons>\n\n                <ion-title v-if=\"openedHomework && custom\">Devoir personnalisé</ion-title>\n                <ion-title v-else>Travail à faire <span v-if=\"openedHomework\">en {{ openedHomework.subject }}</span></ion-title>\n\n                <ion-buttons slot=\"end\">\n\t\t\t\t\t<ion-button v-if=\"custom\" color=\"danger\" @click=\"deleteHW($event)\">\n                        <span slot=\"start\" class=\"material-symbols-outlined mdls\">delete</span>\n                        Suppr.\n                    </ion-button>\n\t\t\t\t</ion-buttons>\n\t\t\t</IonToolbar>\n\t\t</IonHeader>\n\n\t\t<ion-content :fullscreen=\"true\">\n            <IonList inset v-if=\"deleted\">\n                <IonItem color=\"danger\">\n                    <span class=\"material-symbols-outlined mdls\" slot=\"start\">delete</span>\n\n                    <IonLabel>\n                        <h2>Ce devoir à été supprimé</h2>\n                        <p>Vous consultez une archive de ce devoir.</p>\n                    </IonLabel>\n                </IonItem>\n            </IonList>\n\n            <div v-if=\"openedHw\">\n                <div class=\"content\" v-html=\"openedHomework.content\"></div>\n            </div>\n\n            <IonLabel class=\"listGroupTitle\" v-if=\"openedFiles.length !== 0\">\n\t\t\t\t<p>Documents attachés</p>\n\t\t\t</IonLabel>\n\n            <IonList v-if=\"openedFiles.length !== 0\" class=\"listGroup\">\n                <IonItem v-for=\"attachment in openedFiles\" :key=\"attachment.id\" @click=\"openLink(attachment.url)\">\n                    <span v-if=\"attachment.type == 1\" class=\"material-symbols-outlined mdls\" slot=\"start\">description</span>\n                    <span v-else-if=\"attachment.type == 0\" class=\"material-symbols-outlined mdls\" slot=\"start\">link</span>\n\n                    <IonLabel>\n                        <h2>{{ attachment.name }}</h2>\n                        <p>{{ attachment.url }}</p>\n                    </IonLabel>\n                </IonItem>\n            </IonList>\n\t\t</ion-content>\n</template>\n\n<style scoped>\n    .hwTitle {\n        font-weight: 500 !important;\n    }\n\n\t.content {\n        margin: 10px 20px;\n\n        font-size: 16px;\n        line-height: 20px;\n        \n        margin-top: 15px;\n        \n        -webkit-user-select: text;\n        user-select: text;\n    }\n</style>\n","import { render } from \"./HomeworkItemView.vue?vue&type=template&id=457e3472&scoped=true\"\nimport script from \"./HomeworkItemView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeworkItemView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeworkItemView.vue?vue&type=style&index=0&id=457e3472&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/vincelinise/Documents/GitHub/Papillon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-457e3472\"]])\n\nexport default __exports__"],"names":["_createElementVNode","slot","class","_createVNode","_component_IonHeader","translucent","_component_IonToolbar","_component_ion_buttons","_component_IonBackButton","text","_ctx","backTitle","onClick","pop","openedHomework","custom","_createBlock","_component_ion_title","key","_createElementBlock","_hoisted_1","_toDisplayString","subject","_component_ion_button","color","_cache","$event","deleteHW","_hoisted_2","_component_ion_content","fullscreen","deleted","_component_IonList","inset","_component_IonItem","_hoisted_3","_component_IonLabel","_hoisted_4","_hoisted_5","openedHw","_hoisted_6","innerHTML","content","openedFiles","length","_hoisted_8","_Fragment","_renderList","attachment","id","openLink","url","type","_hoisted_9","_hoisted_10","name","defineComponent","components","IonHeader","IonToolbar","IonButtons","IonButton","IonBackButton","IonTitle","IonContent","IonList","IonItem","IonLabel","props","urlHw","String","required","data","currentRoute","this","$router","value","openedData","methods","async","Browser","presentationStyle","customHomeworks","JSON","parse","localStorage","homework","find","splice","indexOf","stringify","mounted","encoded","decoded","decodeURIComponent","parsed","files","startsWith","__exports__","render"],"sourceRoot":""}